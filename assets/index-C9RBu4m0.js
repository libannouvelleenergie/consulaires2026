(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Zf={exports:{}},eo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function sS(){if(Qy)return eo;Qy=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return eo.Fragment=t,eo.jsx=i,eo.jsxs=i,eo}var Yy;function rS(){return Yy||(Yy=1,Zf.exports=sS()),Zf.exports}var Et=rS(),Jf={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function aS(){if(Ky)return _t;Ky=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.iterator;function K(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,W={};function ut(O,Q,$){this.props=O,this.context=Q,this.refs=W,this.updater=$||tt}ut.prototype.isReactComponent={},ut.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},ut.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function dt(){}dt.prototype=ut.prototype;function at(O,Q,$){this.props=O,this.context=Q,this.refs=W,this.updater=$||tt}var pt=at.prototype=new dt;pt.constructor=at,st(pt,ut.prototype),pt.isPureReactComponent=!0;var wt=Array.isArray;function yt(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(O,Q,$){var et=$.ref;return{$$typeof:a,type:O,key:Q,ref:et!==void 0?et:null,props:$}}function M(O,Q){return w(O.type,Q,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function U(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function($){return Q[$]})}var b=/\/+/g;function te(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Q.toString(36)}function we(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(yt,yt):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Q,$,et,gt){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var Ut=!1;if(O===null)Ut=!0;else switch(bt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(O.$$typeof){case a:case t:Ut=!0;break;case S:return Ut=O._init,H(Ut(O._payload),Q,$,et,gt)}}if(Ut)return gt=gt(O),Ut=et===""?"."+te(O,0):et,wt(gt)?($="",Ut!=null&&($=Ut.replace(b,"$&/")+"/"),H(gt,Q,$,"",function(Ys){return Ys})):gt!=null&&(N(gt)&&(gt=M(gt,$+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(b,"$&/")+"/")+Ut)),Q.push(gt)),1;Ut=0;var Ce=et===""?".":et+":";if(wt(O))for(var ee=0;ee<O.length;ee++)et=O[ee],bt=Ce+te(et,ee),Ut+=H(et,Q,$,bt,gt);else if(ee=K(O),typeof ee=="function")for(O=ee.call(O),ee=0;!(et=O.next()).done;)et=et.value,bt=Ce+te(et,ee++),Ut+=H(et,Q,$,bt,gt);else if(bt==="object"){if(typeof O.then=="function")return H(we(O),Q,$,et,gt);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function J(O,Q,$){if(O==null)return O;var et=[],gt=0;return H(O,et,"","",function(bt){return Q.call($,bt,gt++)}),et}function ct(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function($){(O._status===0||O._status===-1)&&(O._status=1,O._result=$)},function($){(O._status===0||O._status===-1)&&(O._status=2,O._result=$)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var kt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:J,forEach:function(O,Q,$){J(O,function(){Q.apply(this,arguments)},$)},count:function(O){var Q=0;return J(O,function(){Q++}),Q},toArray:function(O){return J(O,function(Q){return Q})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return _t.Activity=C,_t.Children=Ht,_t.Component=ut,_t.Fragment=i,_t.Profiler=o,_t.PureComponent=at,_t.StrictMode=r,_t.Suspense=v,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,_t.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},_t.cache=function(O){return function(){return O.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(O,Q,$){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var et=st({},O.props),gt=O.key;if(Q!=null)for(bt in Q.key!==void 0&&(gt=""+Q.key),Q)!A.call(Q,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Q.ref===void 0||(et[bt]=Q[bt]);var bt=arguments.length-2;if(bt===1)et.children=$;else if(1<bt){for(var Ut=Array(bt),Ce=0;Ce<bt;Ce++)Ut[Ce]=arguments[Ce+2];et.children=Ut}return w(O.type,gt,et)},_t.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},_t.createElement=function(O,Q,$){var et,gt={},bt=null;if(Q!=null)for(et in Q.key!==void 0&&(bt=""+Q.key),Q)A.call(Q,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(gt[et]=Q[et]);var Ut=arguments.length-2;if(Ut===1)gt.children=$;else if(1<Ut){for(var Ce=Array(Ut),ee=0;ee<Ut;ee++)Ce[ee]=arguments[ee+2];gt.children=Ce}if(O&&O.defaultProps)for(et in Ut=O.defaultProps,Ut)gt[et]===void 0&&(gt[et]=Ut[et]);return w(O,bt,gt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(O){return{$$typeof:y,render:O}},_t.isValidElement=N,_t.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ct}},_t.memo=function(O,Q){return{$$typeof:_,type:O,compare:Q===void 0?null:Q}},_t.startTransition=function(O){var Q=I.T,$={};I.T=$;try{var et=O(),gt=I.S;gt!==null&&gt($,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(yt,kt)}catch(bt){kt(bt)}finally{Q!==null&&$.types!==null&&(Q.types=$.types),I.T=Q}},_t.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},_t.use=function(O){return I.H.use(O)},_t.useActionState=function(O,Q,$){return I.H.useActionState(O,Q,$)},_t.useCallback=function(O,Q){return I.H.useCallback(O,Q)},_t.useContext=function(O){return I.H.useContext(O)},_t.useDebugValue=function(){},_t.useDeferredValue=function(O,Q){return I.H.useDeferredValue(O,Q)},_t.useEffect=function(O,Q){return I.H.useEffect(O,Q)},_t.useEffectEvent=function(O){return I.H.useEffectEvent(O)},_t.useId=function(){return I.H.useId()},_t.useImperativeHandle=function(O,Q,$){return I.H.useImperativeHandle(O,Q,$)},_t.useInsertionEffect=function(O,Q){return I.H.useInsertionEffect(O,Q)},_t.useLayoutEffect=function(O,Q){return I.H.useLayoutEffect(O,Q)},_t.useMemo=function(O,Q){return I.H.useMemo(O,Q)},_t.useOptimistic=function(O,Q){return I.H.useOptimistic(O,Q)},_t.useReducer=function(O,Q,$){return I.H.useReducer(O,Q,$)},_t.useRef=function(O){return I.H.useRef(O)},_t.useState=function(O){return I.H.useState(O)},_t.useSyncExternalStore=function(O,Q,$){return I.H.useSyncExternalStore(O,Q,$)},_t.useTransition=function(){return I.H.useTransition()},_t.version="19.2.0",_t}var Xy;function Hd(){return Xy||(Xy=1,Jf.exports=aS()),Jf.exports}var On=Hd(),$f={exports:{}},no={},Wf={exports:{}},td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function lS(){return Zy||(Zy=1,(function(a){function t(H,J){var ct=H.length;H.push(J);t:for(;0<ct;){var kt=ct-1>>>1,Ht=H[kt];if(0<o(Ht,J))H[kt]=J,H[ct]=Ht,ct=kt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var J=H[0],ct=H.pop();if(ct!==J){H[0]=ct;t:for(var kt=0,Ht=H.length,O=Ht>>>1;kt<O;){var Q=2*(kt+1)-1,$=H[Q],et=Q+1,gt=H[et];if(0>o($,ct))et<Ht&&0>o(gt,$)?(H[kt]=gt,H[et]=ct,kt=et):(H[kt]=$,H[Q]=ct,kt=Q);else if(et<Ht&&0>o(gt,ct))H[kt]=gt,H[et]=ct,kt=et;else break t}}return J}function o(H,J){var ct=H.sortIndex-J.sortIndex;return ct!==0?ct:H.id-J.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();a.unstable_now=function(){return d.now()-y}}var v=[],_=[],S=1,C=null,x=3,K=!1,tt=!1,st=!1,W=!1,ut=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function pt(H){for(var J=i(_);J!==null;){if(J.callback===null)r(_);else if(J.startTime<=H)r(_),J.sortIndex=J.expirationTime,t(v,J);else break;J=i(_)}}function wt(H){if(st=!1,pt(H),!tt)if(i(v)!==null)tt=!0,yt||(yt=!0,U());else{var J=i(_);J!==null&&we(wt,J.startTime-H)}}var yt=!1,I=-1,A=5,w=-1;function M(){return W?!0:!(a.unstable_now()-w<A)}function N(){if(W=!1,yt){var H=a.unstable_now();w=H;var J=!0;try{t:{tt=!1,st&&(st=!1,dt(I),I=-1),K=!0;var ct=x;try{e:{for(pt(H),C=i(v);C!==null&&!(C.expirationTime>H&&M());){var kt=C.callback;if(typeof kt=="function"){C.callback=null,x=C.priorityLevel;var Ht=kt(C.expirationTime<=H);if(H=a.unstable_now(),typeof Ht=="function"){C.callback=Ht,pt(H),J=!0;break e}C===i(v)&&r(v),pt(H)}else r(v);C=i(v)}if(C!==null)J=!0;else{var O=i(_);O!==null&&we(wt,O.startTime-H),J=!1}}break t}finally{C=null,x=ct,K=!1}J=void 0}}finally{J?U():yt=!1}}}var U;if(typeof at=="function")U=function(){at(N)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,te=b.port2;b.port1.onmessage=N,U=function(){te.postMessage(null)}}else U=function(){ut(N,0)};function we(H,J){I=ut(function(){H(a.unstable_now())},J)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_next=function(H){switch(x){case 1:case 2:case 3:var J=3;break;default:J=x}var ct=x;x=J;try{return H()}finally{x=ct}},a.unstable_requestPaint=function(){W=!0},a.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=x;x=H;try{return J()}finally{x=ct}},a.unstable_scheduleCallback=function(H,J,ct){var kt=a.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?kt+ct:kt):ct=kt,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ct+Ht,H={id:S++,callback:J,priorityLevel:H,startTime:ct,expirationTime:Ht,sortIndex:-1},ct>kt?(H.sortIndex=ct,t(_,H),i(v)===null&&H===i(_)&&(st?(dt(I),I=-1):st=!0,we(wt,ct-kt))):(H.sortIndex=Ht,t(v,H),tt||K||(tt=!0,yt||(yt=!0,U()))),H},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(H){var J=x;return function(){var ct=x;x=J;try{return H.apply(this,arguments)}finally{x=ct}}}})(td)),td}var Jy;function oS(){return Jy||(Jy=1,Wf.exports=lS()),Wf.exports}var ed={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function uS(){if($y)return Ge;$y=1;var a=Hd();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:v,containerInfo:_,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ge.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return h(v,_,null,S)},Ge.flushSync=function(v){var _=d.T,S=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=S,r.d.f()}},Ge.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Ge.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Ge.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,C=y(S,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:x,fetchPriority:K}):S==="script"&&r.d.X(v,{crossOrigin:C,integrity:x,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Ge.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,C=y(S,_.crossOrigin);r.d.L(v,S,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Ge.requestFormReset=function(v){r.d.r(v)},Ge.unstable_batchedUpdates=function(v,_){return v(_)},Ge.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.2.0",Ge}var Wy;function cS(){if(Wy)return ed.exports;Wy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),ed.exports=uS(),ed.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function hS(){if(t_)return no;t_=1;var a=oS(),t=Hd(),i=cS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return v(c),e;if(f===l)return v(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,l=f;break}if(E===l){g=!0,l=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=c;break}if(E===l){g=!0,l=f,s=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var C=Object.assign,x=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),at=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),wt=Symbol.for("react.suspense"),yt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var b=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===b?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case ut:return"Profiler";case W:return"StrictMode";case wt:return"Suspense";case yt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case at:return e.displayName||"Context";case dt:return(e._context.displayName||"Context")+".Consumer";case pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:te(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return te(e(n))}catch{}}return null}var we=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},kt=[],Ht=-1;function O(e){return{current:e}}function Q(e){0>Ht||(e.current=kt[Ht],kt[Ht]=null,Ht--)}function $(e,n){Ht++,kt[Ht]=e.current,e.current=n}var et=O(null),gt=O(null),bt=O(null),Ut=O(null);function Ce(e,n){switch($(bt,n),$(gt,e),$(et,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?gy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=gy(n),e=py(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(et),$(et,e)}function ee(){Q(et),Q(gt),Q(bt)}function Ys(e){e.memoizedState!==null&&$(Ut,e);var n=et.current,s=py(n,e.type);n!==s&&($(gt,e),$(et,s))}function xr(e){gt.current===e&&(Q(et),Q(gt)),Ut.current===e&&(Q(Ut),Jl._currentValue=ct)}var Lr,kr;function Fn(e){if(Lr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Lr=n&&n[1]||"",kr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lr+e+kr}var Ja=!1;function Ks(e,n){if(!e||Ja)return"";Ja=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var P=q}Reflect.construct(e,[],F)}else{try{F.call()}catch(q){P=q}e.call(F.prototype)}}else{try{throw Error()}catch(q){P=q}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===z.length)for(l=R.length-1,c=z.length-1;1<=l&&0<=c&&R[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==z[c]){var j=`
`+R[l].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=l&&0<=c);break}}}finally{Ja=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Fn(s):""}function $a(e,n){switch(e.tag){case 26:case 27:case 5:return Fn(e.type);case 16:return Fn("Lazy");case 13:return e.child!==n&&n!==null?Fn("Suspense Fallback"):Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return Ks(e.type,!1);case 11:return Ks(e.type.render,!1);case 1:return Ks(e.type,!0);case 31:return Fn("Activity");default:return""}}function Wa(e){try{var n="",s=null;do n+=$a(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var me=Object.prototype.hasOwnProperty,Ie=a.unstable_scheduleCallback,Ki=a.unstable_cancelCallback,Jc=a.unstable_shouldYield,Mo=a.unstable_requestPaint,Xe=a.unstable_now,Xs=a.unstable_getCurrentPriorityLevel,tl=a.unstable_ImmediatePriority,el=a.unstable_UserBlockingPriority,Xi=a.unstable_NormalPriority,$c=a.unstable_LowPriority,Vo=a.unstable_IdlePriority,Uo=a.log,xo=a.unstable_setDisableYieldValue,Mn=null,Le=null;function _n(e){if(typeof Uo=="function"&&xo(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Mn,e)}catch{}}var oe=Math.clz32?Math.clz32:ko,Lo=Math.log,zr=Math.LN2;function ko(e){return e>>>=0,e===0?32:31-(Lo(e)/zr|0)|0}var Qn=256,Zs=262144,ge=4194304;function Yn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Kn(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Yn(l):(g&=E,g!==0?c=Yn(g):s||(s=E&~e,s!==0&&(c=Yn(s))))):(E=l&~f,E!==0?c=Yn(E):g!==0?c=Yn(g):s||(s=l&~e,s!==0&&(c=Yn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Vn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Wc(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var e=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),e}function Xn(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Js(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function th(e,n,s,l,c,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var j=31-oe(s),F=1<<j;E[j]=0,R[j]=-1;var P=z[j];if(P!==null)for(z[j]=null,j=0;j<P.length;j++){var q=P[j];q!==null&&(q.lane&=-536870913)}s&=~F}l!==0&&$s(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function $s(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-oe(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function nl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-oe(s),c=1<<l;c&n|e[l]&n&&(e[l]|=n),s&=~c}}function il(e,n){var s=n&-n;return s=(s&42)!==0?1:Ws(s),(s&(e.suspendedLanes|n))!==0?0:s}function Ws(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Si(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Po(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Py(e.type))}function Un(e,n){var s=J.p;try{return J.p=e,n()}finally{J.p=s}}var xn=Math.random().toString(36).slice(2),pe="__reactFiber$"+xn,Me="__reactProps$"+xn,Zn="__reactContainer$"+xn,Pr="__reactEvents$"+xn,eh="__reactListeners$"+xn,Bo="__reactHandles$"+xn,qo="__reactResources$"+xn,Jn="__reactMarker$"+xn;function Br(e){delete e[pe],delete e[Me],delete e[Pr],delete e[eh],delete e[Bo]}function $n(e){var n=e[pe];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Zn]||s[pe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Ay(e);e!==null;){if(s=e[pe])return s;e=Ay(e)}return n}e=s,s=e.parentNode}return null}function vn(e){if(e=e[pe]||e[Zn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function un(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Wn(e){var n=e[qo];return n||(n=e[qo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ye(e){e[Jn]=!0}var sl=new Set,rl={};function ti(e,n){ei(e,n),ei(e+"Capture",n)}function ei(e,n){for(rl[e]=n,e=0;e<n.length;e++)sl.add(n[e])}var al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ll={},ol={};function jo(e){return me.call(ol,e)?!0:me.call(ll,e)?!1:al.test(e)?ol[e]=!0:(ll[e]=!0,!1)}function qr(e,n,s){if(jo(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function cn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function _e(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Ve(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ul(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=Zi(e)?"checked":"value";e._valueTracker=ul(e,n,""+e[n])}}function tr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=Zi(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var er=/[\n"\\]/g;function tn(e){return e.replace(er,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function jr(e,n,s,l,c,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ve(n)):e.value!==""+Ve(n)&&(e.value=""+Ve(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?cl(e,g,Ve(n)):s!=null?cl(e,g,Ve(s)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ve(E):e.removeAttribute("name")}function Ho(e,n,s,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+Ve(s):"",n=n!=null?""+Ve(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function cl(e,n,s){n==="number"&&ni(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ji(e,n,s,l){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ve(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Go(e,n,s){if(n!=null&&(n=""+Ve(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ve(s):""}function $i(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(we(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ve(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Gt(e)}function en(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Fo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||Fo.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function fl(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&hl(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&hl(e,f,n[f])}function Hr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gr(e){return Wi.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ln(){}var dl=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ts=null,ii=null;function nr(e){var n=vn(e);if(n&&(e=n.stateNode)){var s=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(jr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var c=l[Me]||null;if(!c)throw Error(r(90));jr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&tr(l)}break t;case"textarea":Go(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ji(e,!!s.multiple,n,!1)}}}var Fr=!1;function es(e,n,s){if(Fr)return e(n,s);Fr=!0;try{var l=e(n);return l}finally{if(Fr=!1,(ts!==null||ii!==null)&&(Pu(),ts&&(n=ts,e=ii,ii=ts=null,nr(n),e)))for(n=0;n<e.length;n++)nr(e[n])}}function kn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Me]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ir=!1;if(Tn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){ir=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{ir=!1}var si=null,ml=null,sr=null;function gl(){if(sr)return sr;var e,n=ml,s=n.length,l,c="value"in si?si.value:si.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return sr=c.slice(e,1<l?1-l:void 0)}function rr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function zn(){return!1}function ke(e){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ai:zn,this.isPropagationStopped=zn,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),n}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ri=ke(bi),ns=C({},bi,{view:0,detail:0}),pl=ke(ns),is,Qr,ai,Yr=C({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&e.type==="mousemove"?(is=e.screenX-ai.screenX,Qr=e.screenY-ai.screenY):Qr=is=0,ai=e),is)},movementY:function(e){return"movementY"in e?e.movementY:Qr}}),yl=ke(Yr),ar=C({},Yr,{dataTransfer:0}),Yo=ke(ar),Ko=C({},ns,{relatedTarget:0}),lr=ke(Ko),_l=C({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Xo=ke(_l),Kr=C({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zo=ke(Kr),Jo=C({},bi,{data:0}),li=ke(Jo),$o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=tu[e])?!!n[e]:!1}function ss(){return eu}var Ze=C({},ns,{key:function(e){if(e.key){var n=$o[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=rr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(e){return e.type==="keypress"?rr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nu=ke(Ze),iu=C({},Yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ri=ke(iu),u=C({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),m=ke(u),p=C({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ke(p),L=C({},Yr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ke(L),X=C({},bi,{newState:0,oldState:0}),St=ke(X),ue=[9,13,27,32],qt=Tn&&"CompositionEvent"in window,ne=null;Tn&&"documentMode"in document&&(ne=document.documentMode);var Sn=Tn&&"TextEvent"in window&&!ne,oi=Tn&&(!qt||ne&&8<ne&&11>=ne),Pn=" ",Bn=!1;function or(e,n){switch(e){case"keyup":return ue.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zr=!1;function IT(e,n){switch(e){case"compositionend":return Xr(n);case"keypress":return n.which!==32?null:(Bn=!0,Pn);case"textInput":return e=n.data,e===Pn&&Bn?null:e;default:return null}}function DT(e,n){if(Zr)return e==="compositionend"||!qt&&or(e,n)?(e=gl(),sr=ml=si=null,Zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return oi&&n.locale!=="ko"?null:n.data;default:return null}}var NT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!NT[e.type]:n==="textarea"}function Cm(e,n,s,l){ts?ii?ii.push(l):ii=[l]:ts=l,n=Qu(n,"onChange"),0<n.length&&(s=new ri("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var vl=null,El=null;function OT(e){uy(e,0)}function su(e){var n=un(e);if(tr(n))return e}function Im(e,n){if(e==="change")return n}var Dm=!1;if(Tn){var nh;if(Tn){var ih="oninput"in document;if(!ih){var Nm=document.createElement("div");Nm.setAttribute("oninput","return;"),ih=typeof Nm.oninput=="function"}nh=ih}else nh=!1;Dm=nh&&(!document.documentMode||9<document.documentMode)}function Om(){vl&&(vl.detachEvent("onpropertychange",Mm),El=vl=null)}function Mm(e){if(e.propertyName==="value"&&su(El)){var n=[];Cm(n,El,e,En(e)),es(OT,n)}}function MT(e,n,s){e==="focusin"?(Om(),vl=n,El=s,vl.attachEvent("onpropertychange",Mm)):e==="focusout"&&Om()}function VT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return su(El)}function UT(e,n){if(e==="click")return su(n)}function xT(e,n){if(e==="input"||e==="change")return su(n)}function LT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var hn=typeof Object.is=="function"?Object.is:LT;function Tl(e,n){if(hn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!me.call(n,c)||!hn(e[c],n[c]))return!1}return!0}function Vm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Um(e,n){var s=Vm(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Vm(s)}}function xm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Lm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ni(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ni(e.document)}return n}function sh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var kT=Tn&&"documentMode"in document&&11>=document.documentMode,Jr=null,rh=null,Sl=null,ah=!1;function km(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ah||Jr==null||Jr!==ni(l)||(l=Jr,"selectionStart"in l&&sh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Sl&&Tl(Sl,l)||(Sl=l,l=Qu(rh,"onSelect"),0<l.length&&(n=new ri("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=Jr)))}function ur(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var $r={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},lh={},zm={};Tn&&(zm=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function cr(e){if(lh[e])return lh[e];if(!$r[e])return e;var n=$r[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in zm)return lh[e]=n[s];return e}var Pm=cr("animationend"),Bm=cr("animationiteration"),qm=cr("animationstart"),zT=cr("transitionrun"),PT=cr("transitionstart"),BT=cr("transitioncancel"),jm=cr("transitionend"),Hm=new Map,oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oh.push("scrollEnd");function qn(e,n){Hm.set(e,n),ti(n,[e])}var ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},An=[],Wr=0,uh=0;function au(){for(var e=Wr,n=uh=Wr=0;n<e;){var s=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Gm(s,c,f)}}function lu(e,n,s,l){An[Wr++]=e,An[Wr++]=n,An[Wr++]=s,An[Wr++]=l,uh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function ch(e,n,s,l){return lu(e,n,s,l),ou(e)}function hr(e,n){return lu(e,null,null,n),ou(e)}function Gm(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-oe(s),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function ou(e){if(50<Gl)throw Gl=0,Ef=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ta={};function qT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,n,s,l){return new qT(e,n,s,l)}function hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wi(e,n){var s=e.alternate;return s===null?(s=fn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Fm(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function uu(e,n,s,l,c,f){var g=0;if(l=e,typeof e=="function")hh(e)&&(g=1);else if(typeof e=="string")g=Q0(e,s,et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=fn(31,s,n,c),e.elementType=w,e.lanes=f,e;case st:return fr(s.children,c,f,n);case W:g=8,c|=24;break;case ut:return e=fn(12,s,n,c|2),e.elementType=ut,e.lanes=f,e;case wt:return e=fn(13,s,n,c),e.elementType=wt,e.lanes=f,e;case yt:return e=fn(19,s,n,c),e.elementType=yt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case at:g=10;break t;case dt:g=9;break t;case pt:g=11;break t;case I:g=14;break t;case A:g=16,l=null;break t}g=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=fn(g,s,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function fr(e,n,s,l){return e=fn(7,e,l,n),e.lanes=s,e}function fh(e,n,s){return e=fn(6,e,null,n),e.lanes=s,e}function Qm(e){var n=fn(18,null,null,0);return n.stateNode=e,n}function dh(e,n,s){return n=fn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ym=new WeakMap;function bn(e,n){if(typeof e=="object"&&e!==null){var s=Ym.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Wa(n)},Ym.set(e,n),n)}return{value:e,source:n,stack:Wa(n)}}var ea=[],na=0,cu=null,Al=0,Rn=[],wn=0,rs=null,ui=1,ci="";function Ci(e,n){ea[na++]=Al,ea[na++]=cu,cu=e,Al=n}function Km(e,n,s){Rn[wn++]=ui,Rn[wn++]=ci,Rn[wn++]=rs,rs=e;var l=ui;e=ci;var c=32-oe(l)-1;l&=~(1<<c),s+=1;var f=32-oe(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,ui=1<<32-oe(n)+c|s<<c|l,ci=f+e}else ui=1<<f|s<<c|l,ci=e}function mh(e){e.return!==null&&(Ci(e,1),Km(e,1,0))}function gh(e){for(;e===cu;)cu=ea[--na],ea[na]=null,Al=ea[--na],ea[na]=null;for(;e===rs;)rs=Rn[--wn],Rn[wn]=null,ci=Rn[--wn],Rn[wn]=null,ui=Rn[--wn],Rn[wn]=null}function Xm(e,n){Rn[wn++]=ui,Rn[wn++]=ci,Rn[wn++]=rs,ui=n.id,ci=n.overflow,rs=e}var ze=null,$t=null,Mt=!1,as=null,Cn=!1,ph=Error(r(519));function ls(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(bn(n,e)),ph}function Zm(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[pe]=e,n[Me]=l,s){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(s=0;s<Ql.length;s++)It(Ql[s],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Ho(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),$i(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||dy(n.textContent,s)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Ln),n=!0):n=!1,n||ls(e,!0)}function Jm(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:ze=ze.return}}function ia(e){if(e!==ze)return!1;if(!Mt)return Jm(e),Mt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||xf(e.type,e.memoizedProps)),s=!s),s&&$t&&ls(e),Jm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));$t=Sy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));$t=Sy(e)}else n===27?(n=$t,Ts(e.type)?(e=Bf,Bf=null,$t=e):$t=n):$t=ze?Dn(e.stateNode.nextSibling):null;return!0}function dr(){$t=ze=null,Mt=!1}function yh(){var e=as;return e!==null&&(an===null?an=e:an.push.apply(an,e),as=null),e}function bl(e){as===null?as=[e]:as.push(e)}var _h=O(null),mr=null,Ii=null;function os(e,n,s){$(_h,n._currentValue),n._currentValue=s}function Di(e){e._currentValue=_h.current,Q(_h)}function vh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Eh(e,n,s,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),vh(f.return,s,e),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),vh(g,s,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function sa(e,n,s,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(c===Ut.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Jl):e=[Jl])}c=c.return}e!==null&&Eh(n,e,s,l),n.flags|=262144}function hu(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function gr(e){mr=e,Ii=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pe(e){return $m(mr,e)}function fu(e,n){return mr===null&&gr(e),$m(e,n)}function $m(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ii===null){if(e===null)throw Error(r(308));Ii=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ii=Ii.next=n;return s}var jT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},HT=a.unstable_scheduleCallback,GT=a.unstable_NormalPriority,ve={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Th(){return{controller:new jT,data:new Map,refCount:0}}function Rl(e){e.refCount--,e.refCount===0&&HT(GT,function(){e.controller.abort()})}var wl=null,Sh=0,ra=0,aa=null;function FT(e,n){if(wl===null){var s=wl=[];Sh=0,ra=wf(),aa={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Sh++,n.then(Wm,Wm),n}function Wm(){if(--Sh===0&&wl!==null){aa!==null&&(aa.status="fulfilled");var e=wl;wl=null,ra=0,aa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function QT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var tg=H.S;H.S=function(e,n){kp=Xe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&FT(e,n),tg!==null&&tg(e,n)};var pr=O(null);function Ah(){var e=pr.current;return e!==null?e:Jt.pooledCache}function du(e,n){n===null?$(pr,pr.current):$(pr,n.pool)}function eg(){var e=Ah();return e===null?null:{parent:ve._currentValue,pool:e}}var la=Error(r(460)),bh=Error(r(474)),mu=Error(r(542)),gu={then:function(){}};function ng(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ig(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Ln,Ln),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,rg(e),e;default:if(typeof n.status=="string")n.then(Ln,Ln);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,rg(e),e}throw _r=n,la}}function yr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(_r=s,la):s}}var _r=null;function sg(){if(_r===null)throw Error(r(459));var e=_r;return _r=null,e}function rg(e){if(e===la||e===mu)throw Error(r(483))}var oa=null,Cl=0;function pu(e){var n=Cl;return Cl+=1,oa===null&&(oa=[]),ig(oa,e,n)}function Il(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function yu(e,n){throw n.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ag(e){function n(V,D){if(e){var k=V.deletions;k===null?(V.deletions=[D],V.flags|=16):k.push(D)}}function s(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function l(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function c(V,D){return V=wi(V,D),V.index=0,V.sibling=null,V}function f(V,D,k){return V.index=k,e?(k=V.alternate,k!==null?(k=k.index,k<D?(V.flags|=67108866,D):k):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,k,G){return D===null||D.tag!==6?(D=fh(k,V.mode,G),D.return=V,D):(D=c(D,k),D.return=V,D)}function R(V,D,k,G){var ot=k.type;return ot===st?j(V,D,k.props.children,G,k.key):D!==null&&(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===A&&yr(ot)===D.type)?(D=c(D,k.props),Il(D,k),D.return=V,D):(D=uu(k.type,k.key,k.props,null,V.mode,G),Il(D,k),D.return=V,D)}function z(V,D,k,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==k.containerInfo||D.stateNode.implementation!==k.implementation?(D=dh(k,V.mode,G),D.return=V,D):(D=c(D,k.children||[]),D.return=V,D)}function j(V,D,k,G,ot){return D===null||D.tag!==7?(D=fr(k,V.mode,G,ot),D.return=V,D):(D=c(D,k),D.return=V,D)}function F(V,D,k){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=fh(""+D,V.mode,k),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case K:return k=uu(D.type,D.key,D.props,null,V.mode,k),Il(k,D),k.return=V,k;case tt:return D=dh(D,V.mode,k),D.return=V,D;case A:return D=yr(D),F(V,D,k)}if(we(D)||U(D))return D=fr(D,V.mode,k,null),D.return=V,D;if(typeof D.then=="function")return F(V,pu(D),k);if(D.$$typeof===at)return F(V,fu(V,D),k);yu(V,D)}return null}function P(V,D,k,G){var ot=D!==null?D.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ot!==null?null:E(V,D,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case K:return k.key===ot?R(V,D,k,G):null;case tt:return k.key===ot?z(V,D,k,G):null;case A:return k=yr(k),P(V,D,k,G)}if(we(k)||U(k))return ot!==null?null:j(V,D,k,G,null);if(typeof k.then=="function")return P(V,D,pu(k),G);if(k.$$typeof===at)return P(V,D,fu(V,k),G);yu(V,k)}return null}function q(V,D,k,G,ot){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return V=V.get(k)||null,E(D,V,""+G,ot);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case K:return V=V.get(G.key===null?k:G.key)||null,R(D,V,G,ot);case tt:return V=V.get(G.key===null?k:G.key)||null,z(D,V,G,ot);case A:return G=yr(G),q(V,D,k,G,ot)}if(we(G)||U(G))return V=V.get(k)||null,j(D,V,G,ot,null);if(typeof G.then=="function")return q(V,D,k,pu(G),ot);if(G.$$typeof===at)return q(V,D,k,fu(D,G),ot);yu(D,G)}return null}function it(V,D,k,G){for(var ot=null,Pt=null,rt=D,Rt=D=0,Nt=null;rt!==null&&Rt<k.length;Rt++){rt.index>Rt?(Nt=rt,rt=null):Nt=rt.sibling;var Bt=P(V,rt,k[Rt],G);if(Bt===null){rt===null&&(rt=Nt);break}e&&rt&&Bt.alternate===null&&n(V,rt),D=f(Bt,D,Rt),Pt===null?ot=Bt:Pt.sibling=Bt,Pt=Bt,rt=Nt}if(Rt===k.length)return s(V,rt),Mt&&Ci(V,Rt),ot;if(rt===null){for(;Rt<k.length;Rt++)rt=F(V,k[Rt],G),rt!==null&&(D=f(rt,D,Rt),Pt===null?ot=rt:Pt.sibling=rt,Pt=rt);return Mt&&Ci(V,Rt),ot}for(rt=l(rt);Rt<k.length;Rt++)Nt=q(rt,V,Rt,k[Rt],G),Nt!==null&&(e&&Nt.alternate!==null&&rt.delete(Nt.key===null?Rt:Nt.key),D=f(Nt,D,Rt),Pt===null?ot=Nt:Pt.sibling=Nt,Pt=Nt);return e&&rt.forEach(function(ws){return n(V,ws)}),Mt&&Ci(V,Rt),ot}function ht(V,D,k,G){if(k==null)throw Error(r(151));for(var ot=null,Pt=null,rt=D,Rt=D=0,Nt=null,Bt=k.next();rt!==null&&!Bt.done;Rt++,Bt=k.next()){rt.index>Rt?(Nt=rt,rt=null):Nt=rt.sibling;var ws=P(V,rt,Bt.value,G);if(ws===null){rt===null&&(rt=Nt);break}e&&rt&&ws.alternate===null&&n(V,rt),D=f(ws,D,Rt),Pt===null?ot=ws:Pt.sibling=ws,Pt=ws,rt=Nt}if(Bt.done)return s(V,rt),Mt&&Ci(V,Rt),ot;if(rt===null){for(;!Bt.done;Rt++,Bt=k.next())Bt=F(V,Bt.value,G),Bt!==null&&(D=f(Bt,D,Rt),Pt===null?ot=Bt:Pt.sibling=Bt,Pt=Bt);return Mt&&Ci(V,Rt),ot}for(rt=l(rt);!Bt.done;Rt++,Bt=k.next())Bt=q(rt,V,Rt,Bt.value,G),Bt!==null&&(e&&Bt.alternate!==null&&rt.delete(Bt.key===null?Rt:Bt.key),D=f(Bt,D,Rt),Pt===null?ot=Bt:Pt.sibling=Bt,Pt=Bt);return e&&rt.forEach(function(iS){return n(V,iS)}),Mt&&Ci(V,Rt),ot}function Zt(V,D,k,G){if(typeof k=="object"&&k!==null&&k.type===st&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case K:t:{for(var ot=k.key;D!==null;){if(D.key===ot){if(ot=k.type,ot===st){if(D.tag===7){s(V,D.sibling),G=c(D,k.props.children),G.return=V,V=G;break t}}else if(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===A&&yr(ot)===D.type){s(V,D.sibling),G=c(D,k.props),Il(G,k),G.return=V,V=G;break t}s(V,D);break}else n(V,D);D=D.sibling}k.type===st?(G=fr(k.props.children,V.mode,G,k.key),G.return=V,V=G):(G=uu(k.type,k.key,k.props,null,V.mode,G),Il(G,k),G.return=V,V=G)}return g(V);case tt:t:{for(ot=k.key;D!==null;){if(D.key===ot)if(D.tag===4&&D.stateNode.containerInfo===k.containerInfo&&D.stateNode.implementation===k.implementation){s(V,D.sibling),G=c(D,k.children||[]),G.return=V,V=G;break t}else{s(V,D);break}else n(V,D);D=D.sibling}G=dh(k,V.mode,G),G.return=V,V=G}return g(V);case A:return k=yr(k),Zt(V,D,k,G)}if(we(k))return it(V,D,k,G);if(U(k)){if(ot=U(k),typeof ot!="function")throw Error(r(150));return k=ot.call(k),ht(V,D,k,G)}if(typeof k.then=="function")return Zt(V,D,pu(k),G);if(k.$$typeof===at)return Zt(V,D,fu(V,k),G);yu(V,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,D!==null&&D.tag===6?(s(V,D.sibling),G=c(D,k),G.return=V,V=G):(s(V,D),G=fh(k,V.mode,G),G.return=V,V=G),g(V)):s(V,D)}return function(V,D,k,G){try{Cl=0;var ot=Zt(V,D,k,G);return oa=null,ot}catch(rt){if(rt===la||rt===mu)throw rt;var Pt=fn(29,rt,null,V.mode);return Pt.lanes=G,Pt.return=V,Pt}finally{}}}var vr=ag(!0),lg=ag(!1),us=!1;function Rh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function cs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function hs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=ou(e),Gm(e,null,s),n}return lu(e,l,n,s),ou(e)}function Dl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,nl(e,s)}}function Ch(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Ih=!1;function Nl(){if(Ih){var e=aa;if(e!==null)throw e}}function Ol(e,n,s,l){Ih=!1;var c=e.updateQueue;us=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var j=e.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==g&&(E===null?j.firstBaseUpdate=z:E.next=z,j.lastBaseUpdate=R))}if(f!==null){var F=c.baseState;g=0,j=z=R=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(Dt&P)===P:(l&P)===P){P!==0&&P===ra&&(Ih=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var it=e,ht=E;P=n;var Zt=s;switch(ht.tag){case 1:if(it=ht.payload,typeof it=="function"){F=it.call(Zt,F,P);break t}F=it;break t;case 3:it.flags=it.flags&-65537|128;case 0:if(it=ht.payload,P=typeof it=="function"?it.call(Zt,F,P):it,P==null)break t;F=C({},F,P);break t;case 2:us=!0}}P=E.callback,P!==null&&(e.flags|=64,q&&(e.flags|=8192),q=c.callbacks,q===null?c.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(z=j=q,R=F):j=j.next=q,g|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);j===null&&(R=F),c.baseState=R,c.firstBaseUpdate=z,c.lastBaseUpdate=j,f===null&&(c.shared.lanes=0),ps|=g,e.lanes=g,e.memoizedState=F}}function og(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function ug(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)og(s[e],n)}var ua=O(null),_u=O(0);function cg(e,n){e=zi,$(_u,e),$(ua,n),zi=e|n.baseLanes}function Dh(){$(_u,zi),$(ua,ua.current)}function Nh(){zi=_u.current,Q(ua),Q(_u)}var dn=O(null),In=null;function fs(e){var n=e.alternate;$(ce,ce.current&1),$(dn,e),In===null&&(n===null||ua.current!==null||n.memoizedState!==null)&&(In=e)}function Oh(e){$(ce,ce.current),$(dn,e),In===null&&(In=e)}function hg(e){e.tag===22?($(ce,ce.current),$(dn,e),In===null&&(In=e)):ds()}function ds(){$(ce,ce.current),$(dn,dn.current)}function mn(e){Q(dn),In===e&&(In=null),Q(ce)}var ce=O(0);function vu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||zf(s)||Pf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ni=0,At=null,Kt=null,Ee=null,Eu=!1,ca=!1,Er=!1,Tu=0,Ml=0,ha=null,YT=0;function ae(){throw Error(r(321))}function Mh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!hn(e[s],n[s]))return!1;return!0}function Vh(e,n,s,l,c,f){return Ni=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Kg:Kh,Er=!1,f=s(l,c),Er=!1,ca&&(f=dg(n,s,l,c)),fg(e),f}function fg(e){H.H=xl;var n=Kt!==null&&Kt.next!==null;if(Ni=0,Ee=Kt=At=null,Eu=!1,Ml=0,ha=null,n)throw Error(r(300));e===null||Te||(e=e.dependencies,e!==null&&hu(e)&&(Te=!0))}function dg(e,n,s,l){At=e;var c=0;do{if(ca&&(ha=null),Ml=0,ca=!1,25<=c)throw Error(r(301));if(c+=1,Ee=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Xg,f=n(s,l)}while(ca);return f}function KT(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Vl(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(At.flags|=1024),n}function Uh(){var e=Tu!==0;return Tu=0,e}function xh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Lh(e){if(Eu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Eu=!1}Ni=0,Ee=Kt=At=null,ca=!1,Ml=Tu=0,ha=null}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?At.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function he(){if(Kt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=Ee===null?At.memoizedState:Ee.next;if(n!==null)Ee=n,Kt=e;else{if(e===null)throw At.alternate===null?Error(r(467)):Error(r(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Ee===null?At.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(e){var n=Ml;return Ml+=1,ha===null&&(ha=[]),e=ig(ha,e,n),n=At,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Kg:Kh),e}function Au(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vl(e);if(e.$$typeof===at)return Pe(e)}throw Error(r(438,String(e)))}function kh(e){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Su(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=M;return n.index++,s}function Oi(e,n){return typeof n=="function"?n(e):n}function bu(e){var n=he();return zh(n,Kt,e)}function zh(e,n,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=g=null,R=null,z=n,j=!1;do{var F=z.lane&-536870913;if(F!==z.lane?(Dt&F)===F:(Ni&F)===F){var P=z.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),F===ra&&(j=!0);else if((Ni&P)===P){z=z.next,P===ra&&(j=!0);continue}else F={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=F,g=f):R=R.next=F,At.lanes|=P,ps|=P;F=z.action,Er&&s(f,F),f=z.hasEagerState?z.eagerState:s(f,F)}else P={lane:F,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=P,g=f):R=R.next=P,At.lanes|=F,ps|=F;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!hn(f,e.memoizedState)&&(Te=!0,j&&(s=aa,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ph(e){var n=he(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(Te=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function mg(e,n,s){var l=At,c=he(),f=Mt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!hn((Kt||c).memoizedState,s);if(g&&(c.memoizedState=s,Te=!0),c=c.queue,jh(yg.bind(null,l,c,e),[e]),c.getSnapshot!==n||g||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,fa(9,{destroy:void 0},pg.bind(null,l,c,s,n),null),Jt===null)throw Error(r(349));f||(Ni&127)!==0||gg(l,n,s)}return s}function gg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=Su(),At.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function pg(e,n,s,l){n.value=s,n.getSnapshot=l,_g(n)&&vg(e)}function yg(e,n,s){return s(function(){_g(n)&&vg(e)})}function _g(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!hn(e,s)}catch{return!0}}function vg(e){var n=hr(e,2);n!==null&&ln(n,e,2)}function Bh(e){var n=Je();if(typeof e=="function"){var s=e;if(e=s(),Er){_n(!0);try{s()}finally{_n(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},n}function Eg(e,n,s,l){return e.baseState=s,zh(e,Kt,typeof l=="function"?l:Oi)}function XT(e,n,s,l,c){if(Cu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Tg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Tg(e,n){var s=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=s(c,l),R=H.S;R!==null&&R(g,E),Sg(e,n,E)}catch(z){qh(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(c,l),Sg(e,n,f)}catch(z){qh(e,n,z)}}function Sg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ag(e,n,l)},function(l){return qh(e,n,l)}):Ag(e,n,s)}function Ag(e,n,s){n.status="fulfilled",n.value=s,bg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Tg(e,s)))}function qh(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,bg(n),n=n.next;while(n!==l)}e.action=null}function bg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Rg(e,n){return n}function wg(e,n){if(Mt){var s=Jt.formState;if(s!==null){t:{var l=At;if(Mt){if($t){e:{for(var c=$t,f=Cn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Dn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){$t=Dn(c.nextSibling),l=c.data==="F!";break t}}ls(l)}l=!1}l&&(n=s[0])}}return s=Je(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rg,lastRenderedState:n},s.queue=l,s=Fg.bind(null,At,l),l.dispatch=s,l=Bh(!1),f=Yh.bind(null,At,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,s=XT.bind(null,At,c,f,s),c.dispatch=s,l.memoizedState=e,[n,s,!1]}function Cg(e){var n=he();return Ig(n,Kt,e)}function Ig(e,n,s){if(n=zh(e,n,Rg)[0],e=bu(Oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Vl(n)}catch(g){throw g===la?mu:g}else l=n;n=he();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(At.flags|=2048,fa(9,{destroy:void 0},ZT.bind(null,c,s),null)),[l,f,e]}function ZT(e,n){e.action=n}function Dg(e){var n=he(),s=Kt;if(s!==null)return Ig(n,s,e);he(),n=n.memoizedState,s=he();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function fa(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=Su(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function Ng(){return he().memoizedState}function Ru(e,n,s,l){var c=Je();At.flags|=e,c.memoizedState=fa(1|n,{destroy:void 0},s,l===void 0?null:l)}function wu(e,n,s,l){var c=he();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&Mh(l,Kt.memoizedState.deps)?c.memoizedState=fa(n,f,s,l):(At.flags|=e,c.memoizedState=fa(1|n,f,s,l))}function Og(e,n){Ru(8390656,8,e,n)}function jh(e,n){wu(2048,8,e,n)}function JT(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Su(),At.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Mg(e){var n=he().memoizedState;return JT({ref:n,nextImpl:e}),function(){if((jt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Vg(e,n){return wu(4,2,e,n)}function Ug(e,n){return wu(4,4,e,n)}function xg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Lg(e,n,s){s=s!=null?s.concat([e]):null,wu(4,4,xg.bind(null,n,e),s)}function Hh(){}function kg(e,n){var s=he();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Mh(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function zg(e,n){var s=he();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Mh(n,l[1]))return l[0];if(l=e(),Er){_n(!0);try{e()}finally{_n(!1)}}return s.memoizedState=[l,n],l}function Gh(e,n,s){return s===void 0||(Ni&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Pp(),At.lanes|=e,ps|=e,s)}function Pg(e,n,s,l){return hn(s,n)?s:ua.current!==null?(e=Gh(e,s,l),hn(e,n)||(Te=!0),e):(Ni&42)===0||(Ni&1073741824)!==0&&(Dt&261930)===0?(Te=!0,e.memoizedState=s):(e=Pp(),At.lanes|=e,ps|=e,n)}function Bg(e,n,s,l,c){var f=J.p;J.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Yh(e,!1,n,s);try{var R=c(),z=H.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var j=QT(R,l);Ul(e,n,j,yn(e))}else Ul(e,n,l,yn(e))}catch(F){Ul(e,n,{then:function(){},status:"rejected",reason:F},yn())}finally{J.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function $T(){}function Fh(e,n,s,l){if(e.tag!==5)throw Error(r(476));var c=qg(e).queue;Bg(e,c,n,ct,s===null?$T:function(){return jg(e),s(l)})}function qg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function jg(e){var n=qg(e);n.next===null&&(n=e.alternate.memoizedState),Ul(e,n.next.queue,{},yn())}function Qh(){return Pe(Jl)}function Hg(){return he().memoizedState}function Gg(){return he().memoizedState}function WT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=yn();e=cs(s);var l=hs(n,e,s);l!==null&&(ln(l,n,s),Dl(l,n,s)),n={cache:Th()},e.payload=n;return}n=n.return}}function t0(e,n,s){var l=yn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Cu(e)?Qg(n,s):(s=ch(e,n,s,l),s!==null&&(ln(s,e,l),Yg(s,n,l)))}function Fg(e,n,s){var l=yn();Ul(e,n,s,l)}function Ul(e,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Cu(e))Qg(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return lu(e,n,c,0),Jt===null&&au(),!1}catch{}finally{}if(s=ch(e,n,c,l),s!==null)return ln(s,e,l),Yg(s,n,l),!0}return!1}function Yh(e,n,s,l){if(l={lane:2,revertLane:wf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Cu(e)){if(n)throw Error(r(479))}else n=ch(e,s,l,2),n!==null&&ln(n,e,2)}function Cu(e){var n=e.alternate;return e===At||n!==null&&n===At}function Qg(e,n){ca=Eu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Yg(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,nl(e,s)}}var xl={readContext:Pe,use:Au,useCallback:ae,useContext:ae,useEffect:ae,useImperativeHandle:ae,useLayoutEffect:ae,useInsertionEffect:ae,useMemo:ae,useReducer:ae,useRef:ae,useState:ae,useDebugValue:ae,useDeferredValue:ae,useTransition:ae,useSyncExternalStore:ae,useId:ae,useHostTransitionStatus:ae,useFormState:ae,useActionState:ae,useOptimistic:ae,useMemoCache:ae,useCacheRefresh:ae};xl.useEffectEvent=ae;var Kg={readContext:Pe,use:Au,useCallback:function(e,n){return Je().memoizedState=[e,n===void 0?null:n],e},useContext:Pe,useEffect:Og,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Ru(4194308,4,xg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ru(4194308,4,e,n)},useInsertionEffect:function(e,n){Ru(4,2,e,n)},useMemo:function(e,n){var s=Je();n=n===void 0?null:n;var l=e();if(Er){_n(!0);try{e()}finally{_n(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=Je();if(s!==void 0){var c=s(n);if(Er){_n(!0);try{s(n)}finally{_n(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=t0.bind(null,At,e),[l.memoizedState,e]},useRef:function(e){var n=Je();return e={current:e},n.memoizedState=e},useState:function(e){e=Bh(e);var n=e.queue,s=Fg.bind(null,At,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Hh,useDeferredValue:function(e,n){var s=Je();return Gh(s,e,n)},useTransition:function(){var e=Bh(!1);return e=Bg.bind(null,At,e.queue,!0,!1),Je().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=At,c=Je();if(Mt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Jt===null)throw Error(r(349));(Dt&127)!==0||gg(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Og(yg.bind(null,l,f,e),[e]),l.flags|=2048,fa(9,{destroy:void 0},pg.bind(null,l,f,s,n),null),s},useId:function(){var e=Je(),n=Jt.identifierPrefix;if(Mt){var s=ci,l=ui;s=(l&~(1<<32-oe(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Tu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=YT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Qh,useFormState:wg,useActionState:wg,useOptimistic:function(e){var n=Je();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Yh.bind(null,At,!0,s),s.dispatch=n,[e,n]},useMemoCache:kh,useCacheRefresh:function(){return Je().memoizedState=WT.bind(null,At)},useEffectEvent:function(e){var n=Je(),s={impl:e};return n.memoizedState=s,function(){if((jt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Kh={readContext:Pe,use:Au,useCallback:kg,useContext:Pe,useEffect:jh,useImperativeHandle:Lg,useInsertionEffect:Vg,useLayoutEffect:Ug,useMemo:zg,useReducer:bu,useRef:Ng,useState:function(){return bu(Oi)},useDebugValue:Hh,useDeferredValue:function(e,n){var s=he();return Pg(s,Kt.memoizedState,e,n)},useTransition:function(){var e=bu(Oi)[0],n=he().memoizedState;return[typeof e=="boolean"?e:Vl(e),n]},useSyncExternalStore:mg,useId:Hg,useHostTransitionStatus:Qh,useFormState:Cg,useActionState:Cg,useOptimistic:function(e,n){var s=he();return Eg(s,Kt,e,n)},useMemoCache:kh,useCacheRefresh:Gg};Kh.useEffectEvent=Mg;var Xg={readContext:Pe,use:Au,useCallback:kg,useContext:Pe,useEffect:jh,useImperativeHandle:Lg,useInsertionEffect:Vg,useLayoutEffect:Ug,useMemo:zg,useReducer:Ph,useRef:Ng,useState:function(){return Ph(Oi)},useDebugValue:Hh,useDeferredValue:function(e,n){var s=he();return Kt===null?Gh(s,e,n):Pg(s,Kt.memoizedState,e,n)},useTransition:function(){var e=Ph(Oi)[0],n=he().memoizedState;return[typeof e=="boolean"?e:Vl(e),n]},useSyncExternalStore:mg,useId:Hg,useHostTransitionStatus:Qh,useFormState:Dg,useActionState:Dg,useOptimistic:function(e,n){var s=he();return Kt!==null?Eg(s,Kt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:kh,useCacheRefresh:Gg};Xg.useEffectEvent=Mg;function Xh(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:C({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Zh={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=yn(),c=cs(l);c.payload=n,s!=null&&(c.callback=s),n=hs(e,c,l),n!==null&&(ln(n,e,l),Dl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=yn(),c=cs(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=hs(e,c,l),n!==null&&(ln(n,e,l),Dl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=yn(),l=cs(s);l.tag=2,n!=null&&(l.callback=n),n=hs(e,l,s),n!==null&&(ln(n,e,s),Dl(n,e,s))}};function Zg(e,n,s,l,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Tl(s,l)||!Tl(c,f):!0}function Jg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Zh.enqueueReplaceState(n,n.state,null)}function Tr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=C({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function $g(e){ru(e)}function Wg(e){console.error(e)}function tp(e){ru(e)}function Iu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ep(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Jh(e,n,s){return s=cs(s),s.tag=3,s.payload={element:null},s.callback=function(){Iu(e,n)},s}function np(e){return e=cs(e),e.tag=3,e}function ip(e,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){ep(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){ep(n,s,l),typeof c!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function e0(e,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&sa(n,s,c,!0),s=dn.current,s!==null){switch(s.tag){case 31:case 13:return In===null?Bu():s.alternate===null&&le===0&&(le=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===gu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Af(e,l,c)),!1;case 22:return s.flags|=65536,l===gu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Af(e,l,c)),!1}throw Error(r(435,s.tag))}return Af(e,l,c),Bu(),!1}if(Mt)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==ph&&(e=Error(r(422),{cause:l}),bl(bn(e,s)))):(l!==ph&&(n=Error(r(423),{cause:l}),bl(bn(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=bn(l,s),c=Jh(e.stateNode,l,c),Ch(e,c),le!==4&&(le=2)),!1;var f=Error(r(520),{cause:l});if(f=bn(f,s),Hl===null?Hl=[f]:Hl.push(f),le!==4&&(le=2),n===null)return!0;l=bn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=Jh(s.stateNode,l,e),Ch(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ys===null||!ys.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=np(c),ip(c,e,s,l),Ch(s,c),!1}s=s.return}while(s!==null);return!1}var $h=Error(r(461)),Te=!1;function Be(e,n,s,l){n.child=e===null?lg(n,null,s,l):vr(n,e.child,s,l)}function sp(e,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return gr(n),l=Vh(e,n,s,g,f,c),E=Uh(),e!==null&&!Te?(xh(e,n,c),Mi(e,n,c)):(Mt&&E&&mh(n),n.flags|=1,Be(e,n,l,c),n.child)}function rp(e,n,s,l,c){if(e===null){var f=s.type;return typeof f=="function"&&!hh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,ap(e,n,f,l,c)):(e=uu(s.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!lf(e,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Tl,s(g,l)&&e.ref===n.ref)return Mi(e,n,c)}return n.flags|=1,e=wi(f,l),e.ref=n.ref,e.return=n,n.child=e}function ap(e,n,s,l,c){if(e!==null){var f=e.memoizedProps;if(Tl(f,l)&&e.ref===n.ref)if(Te=!1,n.pendingProps=l=f,lf(e,c))(e.flags&131072)!==0&&(Te=!0);else return n.lanes=e.lanes,Mi(e,n,c)}return Wh(e,n,s,l,c)}function lp(e,n,s,l){var c=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return op(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&du(n,f!==null?f.cachePool:null),f!==null?cg(n,f):Dh(),hg(n);else return l=n.lanes=536870912,op(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(du(n,f.cachePool),cg(n,f),ds(),n.memoizedState=null):(e!==null&&du(n,null),Dh(),ds());return Be(e,n,c,s),n.child}function Ll(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function op(e,n,s,l,c){var f=Ah();return f=f===null?null:{parent:ve._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&du(n,null),Dh(),hg(n),e!==null&&sa(e,n,l,!0),n.childLanes=c,null}function Du(e,n){return n=Ou({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function up(e,n,s){return vr(n,e.child,null,s),e=Du(n,n.pendingProps),e.flags|=2,mn(n),n.memoizedState=null,e}function n0(e,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Mt){if(l.mode==="hidden")return e=Du(n,l),n.lanes=536870912,Ll(null,e);if(Oh(n),(e=$t)?(e=Ty(e,Cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:rs!==null?{id:ui,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},s=Qm(e),s.return=n,n.child=s,ze=n,$t=null)):e=null,e===null)throw ls(n);return n.lanes=536870912,null}return Du(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Oh(n),c)if(n.flags&256)n.flags&=-257,n=up(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Te||sa(e,n,s,!1),c=(s&e.childLanes)!==0,Te||c){if(l=Jt,l!==null&&(g=il(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,hr(e,g),ln(l,e,g),$h;Bu(),n=up(e,n,s)}else e=f.treeContext,$t=Dn(g.nextSibling),ze=n,Mt=!0,as=null,Cn=!1,e!==null&&Xm(n,e),n=Du(n,l),n.flags|=4096;return n}return e=wi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Nu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Wh(e,n,s,l,c){return gr(n),s=Vh(e,n,s,l,void 0,c),l=Uh(),e!==null&&!Te?(xh(e,n,c),Mi(e,n,c)):(Mt&&l&&mh(n),n.flags|=1,Be(e,n,s,c),n.child)}function cp(e,n,s,l,c,f){return gr(n),n.updateQueue=null,s=dg(n,l,s,c),fg(e),l=Uh(),e!==null&&!Te?(xh(e,n,f),Mi(e,n,f)):(Mt&&l&&mh(n),n.flags|=1,Be(e,n,s,f),n.child)}function hp(e,n,s,l,c){if(gr(n),n.stateNode===null){var f=ta,g=s.contextType;typeof g=="object"&&g!==null&&(f=Pe(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Zh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Rh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Pe(g):ta,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Xh(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Zh.enqueueReplaceState(f,f.state,null),Ol(n,l,f,c),Nl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Tr(s,E);f.props=R;var z=f.context,j=s.contextType;g=ta,typeof j=="object"&&j!==null&&(g=Pe(j));var F=s.getDerivedStateFromProps;j=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Jg(n,f,l,g),us=!1;var P=n.memoizedState;f.state=P,Ol(n,l,f,c),Nl(),z=n.memoizedState,E||P!==z||us?(typeof F=="function"&&(Xh(n,s,F,l),z=n.memoizedState),(R=us||Zg(n,s,R,l,P,z,g))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,wh(e,n),g=n.memoizedProps,j=Tr(s,g),f.props=j,F=n.pendingProps,P=f.context,z=s.contextType,R=ta,typeof z=="object"&&z!==null&&(R=Pe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||P!==R)&&Jg(n,f,l,R),us=!1,P=n.memoizedState,f.state=P,Ol(n,l,f,c),Nl();var q=n.memoizedState;g!==F||P!==q||us||e!==null&&e.dependencies!==null&&hu(e.dependencies)?(typeof E=="function"&&(Xh(n,s,E,l),q=n.memoizedState),(j=us||Zg(n,s,j,l,P,q,R)||e!==null&&e.dependencies!==null&&hu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=j):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Nu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=vr(n,e.child,null,c),n.child=vr(n,null,s,c)):Be(e,n,s,c),n.memoizedState=f.state,e=n.child):e=Mi(e,n,c),e}function fp(e,n,s,l){return dr(),n.flags|=256,Be(e,n,s,l),n.child}var tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ef(e){return{baseLanes:e,cachePool:eg()}}function nf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=pn),e}function dp(e,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ce.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mt){if(c?fs(n):ds(),(e=$t)?(e=Ty(e,Cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:rs!==null?{id:ui,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},s=Qm(e),s.return=n,n.child=s,ze=n,$t=null)):e=null,e===null)throw ls(n);return Pf(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ds(),c=n.mode,E=Ou({mode:"hidden",children:E},c),l=fr(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=ef(s),l.childLanes=nf(e,g,s),n.memoizedState=tf,Ll(null,l)):(fs(n),sf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(fs(n),n.flags&=-257,n=rf(e,n,s)):n.memoizedState!==null?(ds(),n.child=e.child,n.flags|=128,n=null):(ds(),E=l.fallback,c=n.mode,l=Ou({mode:"visible",children:l.children},c),E=fr(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,vr(n,e.child,null,s),l=n.child,l.memoizedState=ef(s),l.childLanes=nf(e,g,s),n.memoizedState=tf,n=Ll(null,l));else if(fs(n),Pf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(r(419)),l.stack="",l.digest=g,bl({value:l,source:null,stack:null}),n=rf(e,n,s)}else if(Te||sa(e,n,s,!1),g=(s&e.childLanes)!==0,Te||g){if(g=Jt,g!==null&&(l=il(g,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,hr(e,l),ln(g,e,l),$h;zf(E)||Bu(),n=rf(e,n,s)}else zf(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,$t=Dn(E.nextSibling),ze=n,Mt=!0,as=null,Cn=!1,e!==null&&Xm(n,e),n=sf(n,l.children),n.flags|=4096);return n}return c?(ds(),E=l.fallback,c=n.mode,R=e.child,z=R.sibling,l=wi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=wi(z,E):(E=fr(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Ll(null,l),l=n.child,E=e.child.memoizedState,E===null?E=ef(s):(c=E.cachePool,c!==null?(R=ve._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=eg(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=nf(e,g,s),n.memoizedState=tf,Ll(e.child,l)):(fs(n),s=e.child,e=s.sibling,s=wi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function sf(e,n){return n=Ou({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ou(e,n){return e=fn(22,e,null,n),e.lanes=0,e}function rf(e,n,s){return vr(n,e.child,null,s),e=sf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function mp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),vh(e.return,n,s)}function af(e,n,s,l,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function gp(e,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=ce.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,$(ce,g),Be(e,n,l,s),l=Mt?Al:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mp(e,s,n);else if(e.tag===19)mp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&vu(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),af(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&vu(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}af(n,!0,s,null,f,l);break;case"together":af(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Mi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ps|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(sa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=wi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=wi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function lf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&hu(e)))}function i0(e,n,s){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),os(n,ve,e.memoizedState.cache),dr();break;case 27:case 5:Ys(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:os(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Oh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(fs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?dp(e,n,s):(fs(n),e=Mi(e,n,s),e!==null?e.sibling:null);fs(n);break;case 19:var c=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(sa(e,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return gp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(ce,ce.current),l)break;return null;case 22:return n.lanes=0,lp(e,n,s,n.pendingProps);case 24:os(n,ve,e.memoizedState.cache)}return Mi(e,n,s)}function pp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Te=!0;else{if(!lf(e,s)&&(n.flags&128)===0)return Te=!1,i0(e,n,s);Te=(e.flags&131072)!==0}else Te=!1,Mt&&(n.flags&1048576)!==0&&Km(n,Al,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=yr(n.elementType),n.type=e,typeof e=="function")hh(e)?(l=Tr(e,l),n.tag=1,n=hp(null,n,e,l,s)):(n.tag=0,n=Wh(null,n,e,l,s));else{if(e!=null){var c=e.$$typeof;if(c===pt){n.tag=11,n=sp(null,n,e,l,s);break t}else if(c===I){n.tag=14,n=rp(null,n,e,l,s);break t}}throw n=te(e)||e,Error(r(306,n,""))}}return n;case 0:return Wh(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=Tr(l,n.pendingProps),hp(e,n,l,c,s);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,wh(e,n),Ol(n,l,null,s);var g=n.memoizedState;if(l=g.cache,os(n,ve,l),l!==f.cache&&Eh(n,[ve],s,!0),Nl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=fp(e,n,l,s);break t}else if(l!==c){c=bn(Error(r(424)),n),bl(c),n=fp(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($t=Dn(e.firstChild),ze=n,Mt=!0,as=null,Cn=!0,s=lg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(dr(),l===c){n=Mi(e,n,s);break t}Be(e,n,l,s)}n=n.child}return n;case 26:return Nu(e,n),e===null?(s=Cy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Mt||(s=n.type,e=n.pendingProps,l=Yu(bt.current).createElement(s),l[pe]=n,l[Me]=e,qe(l,s,e),ye(l),n.stateNode=l):n.memoizedState=Cy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ys(n),e===null&&Mt&&(l=n.stateNode=by(n.type,n.pendingProps,bt.current),ze=n,Cn=!0,c=$t,Ts(n.type)?(Bf=c,$t=Dn(l.firstChild)):$t=c),Be(e,n,n.pendingProps.children,s),Nu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mt&&((c=l=$t)&&(l=V0(l,n.type,n.pendingProps,Cn),l!==null?(n.stateNode=l,ze=n,$t=Dn(l.firstChild),Cn=!1,c=!0):c=!1),c||ls(n)),Ys(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,xf(c,f)?l=null:g!==null&&xf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Vh(e,n,KT,null,null,s),Jl._currentValue=c),Nu(e,n),Be(e,n,l,s),n.child;case 6:return e===null&&Mt&&((e=s=$t)&&(s=U0(s,n.pendingProps,Cn),s!==null?(n.stateNode=s,ze=n,$t=null,e=!0):e=!1),e||ls(n)),null;case 13:return dp(e,n,s);case 4:return Ce(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=vr(n,null,l,s):Be(e,n,l,s),n.child;case 11:return sp(e,n,n.type,n.pendingProps,s);case 7:return Be(e,n,n.pendingProps,s),n.child;case 8:return Be(e,n,n.pendingProps.children,s),n.child;case 12:return Be(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,os(n,n.type,l.value),Be(e,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,gr(n),c=Pe(c),l=l(c),n.flags|=1,Be(e,n,l,s),n.child;case 14:return rp(e,n,n.type,n.pendingProps,s);case 15:return ap(e,n,n.type,n.pendingProps,s);case 19:return gp(e,n,s);case 31:return n0(e,n,s);case 22:return lp(e,n,s,n.pendingProps);case 24:return gr(n),l=Pe(ve),e===null?(c=Ah(),c===null&&(c=Jt,f=Th(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},Rh(n),os(n,ve,c)):((e.lanes&s)!==0&&(wh(e,n),Ol(n,null,null,s),Nl()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),os(n,ve,l)):(l=f.cache,os(n,ve,l),l!==c.cache&&Eh(n,[ve],s,!0))),Be(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Vi(e){e.flags|=4}function of(e,n,s,l,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Hp())e.flags|=8192;else throw _r=gu,bh}else e.flags&=-16777217}function yp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!My(n))if(Hp())e.flags|=8192;else throw _r=gu,bh}function Mu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?zo():536870912,e.lanes|=n,pa|=n)}function kl(e,n){if(!Mt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Wt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function s0(e,n,s){var l=n.pendingProps;switch(gh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(ve),ee(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ia(n)?Vi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,yh())),Wt(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(Vi(n),f!==null?(Wt(n),yp(n,f)):(Wt(n),of(n,c,null,l,s))):f?f!==e.memoizedState?(Vi(n),Wt(n),yp(n,f)):(Wt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Vi(n),Wt(n),of(n,c,e,l,s)),null;case 27:if(xr(n),s=bt.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Vi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Wt(n),null}e=et.current,ia(n)?Zm(n):(e=by(c,l,s),n.stateNode=e,Vi(n))}return Wt(n),null;case 5:if(xr(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Vi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Wt(n),null}if(f=et.current,ia(n))Zm(n);else{var g=Yu(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[pe]=n,f[Me]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Vi(n)}}return Wt(n),of(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Vi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=bt.current,ia(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,c=ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[pe]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||dy(e.nodeValue,s)),e||ls(n,!0)}else e=Yu(e).createTextNode(l),e[pe]=n,n.stateNode=e}return Wt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=ia(n),s!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[pe]=n}else dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),e=!1}else s=yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Wt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ia(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[pe]=n}else dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),c=!1}else c=yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Mu(n,n.updateQueue),Wt(n),null);case 4:return ee(),e===null&&Nf(n.stateNode.containerInfo),Wt(n),null;case 10:return Di(n.type),Wt(n),null;case 19:if(Q(ce),l=n.memoizedState,l===null)return Wt(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)kl(l,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=vu(e),f!==null){for(n.flags|=128,kl(l,!1),e=f.updateQueue,n.updateQueue=e,Mu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Fm(s,e),s=s.sibling;return $(ce,ce.current&1|2),Mt&&Ci(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Xe()>ku&&(n.flags|=128,c=!0,kl(l,!1),n.lanes=4194304)}else{if(!c)if(e=vu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Mu(n,e),kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Mt)return Wt(n),null}else 2*Xe()-l.renderingStartTime>ku&&s!==536870912&&(n.flags|=128,c=!0,kl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Xe(),e.sibling=null,s=ce.current,$(ce,c?s&1|2:s&1),Mt&&Ci(n,l.treeForkCount),e):(Wt(n),null);case 22:case 23:return mn(n),Nh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),s=n.updateQueue,s!==null&&Mu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Q(pr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Di(ve),Wt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function r0(e,n){switch(gh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Di(ve),ee(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return xr(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(r(340));dr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(mn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));dr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(ce),null;case 4:return ee(),null;case 10:return Di(n.type),null;case 22:case 23:return mn(n),Nh(),e!==null&&Q(pr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Di(ve),null;case 25:return null;default:return null}}function _p(e,n){switch(gh(n),n.tag){case 3:Di(ve),ee();break;case 26:case 27:case 5:xr(n);break;case 4:ee();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:Q(ce);break;case 10:Di(n.type);break;case 22:case 23:mn(n),Nh(),e!==null&&Q(pr);break;case 24:Di(ve)}}function zl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(E){Qt(n,n.return,E)}}function ms(e,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var R=s,z=E;try{z()}catch(j){Qt(c,R,j)}}}l=l.next}while(l!==f)}}catch(j){Qt(n,n.return,j)}}function vp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{ug(n,s)}catch(l){Qt(e,e.return,l)}}}function Ep(e,n,s){s.props=Tr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Qt(e,n,l)}}function Pl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(c){Qt(e,n,c)}}function hi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Qt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Qt(e,n,c)}else s.current=null}function Tp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Qt(e,e.return,c)}}function uf(e,n,s){try{var l=e.stateNode;C0(l,e.type,s,n),l[Me]=n}catch(c){Qt(e,e.return,c)}}function Sp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ts(e.type)||e.tag===4}function cf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Sp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ts(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ln));else if(l!==4&&(l===27&&Ts(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(hf(e,n,s),e=e.sibling;e!==null;)hf(e,n,s),e=e.sibling}function Vu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Ts(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Vu(e,n,s),e=e.sibling;e!==null;)Vu(e,n,s),e=e.sibling}function Ap(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,l,s),n[pe]=e,n[Me]=s}catch(f){Qt(e,e.return,f)}}var Ui=!1,Se=!1,ff=!1,bp=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function a0(e,n){if(e=e.containerInfo,Vf=tc,e=Lm(e),sh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,z=0,j=0,F=e,P=null;e:for(;;){for(var q;F!==s||c!==0&&F.nodeType!==3||(E=g+c),F!==f||l!==0&&F.nodeType!==3||(R=g+l),F.nodeType===3&&(g+=F.nodeValue.length),(q=F.firstChild)!==null;)P=F,F=q;for(;;){if(F===e)break e;if(P===s&&++z===c&&(E=g),P===f&&++j===l&&(R=g),(q=F.nextSibling)!==null)break;F=P,P=F.parentNode}F=q}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Uf={focusedElem:e,selectionRange:s},tc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var it=Tr(s.type,c);e=l.getSnapshotBeforeUpdate(it,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ht){Qt(s,s.return,ht)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)kf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function Rp(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Li(e,s),l&4&&zl(5,s);break;case 1:if(Li(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(s,s.return,g)}else{var c=Tr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(s,s.return,g)}}l&64&&vp(s),l&512&&Pl(s,s.return);break;case 3:if(Li(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ug(e,n)}catch(g){Qt(s,s.return,g)}}break;case 27:n===null&&l&4&&Ap(s);case 26:case 5:Li(e,s),n===null&&l&4&&Tp(s),l&512&&Pl(s,s.return);break;case 12:Li(e,s);break;case 31:Li(e,s),l&4&&Ip(e,s);break;case 13:Li(e,s),l&4&&Dp(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=g0.bind(null,s),x0(e,s))));break;case 22:if(l=s.memoizedState!==null||Ui,!l){n=n!==null&&n.memoizedState!==null||Se,c=Ui;var f=Se;Ui=l,(Se=n)&&!f?ki(e,s,(s.subtreeFlags&8772)!==0):Li(e,s),Ui=c,Se=f}break;case 30:break;default:Li(e,s)}}function wp(e){var n=e.alternate;n!==null&&(e.alternate=null,wp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Br(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,nn=!1;function xi(e,n,s){for(s=s.child;s!==null;)Cp(e,n,s),s=s.sibling}function Cp(e,n,s){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Mn,s)}catch{}switch(s.tag){case 26:Se||hi(s,n),xi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||hi(s,n);var l=ie,c=nn;Ts(s.type)&&(ie=s.stateNode,nn=!1),xi(e,n,s),Kl(s.stateNode),ie=l,nn=c;break;case 5:Se||hi(s,n);case 6:if(l=ie,c=nn,ie=null,xi(e,n,s),ie=l,nn=c,ie!==null)if(nn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{ie.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:ie!==null&&(nn?(e=ie,vy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ba(e)):vy(ie,s.stateNode));break;case 4:l=ie,c=nn,ie=s.stateNode.containerInfo,nn=!0,xi(e,n,s),ie=l,nn=c;break;case 0:case 11:case 14:case 15:ms(2,s,n),Se||ms(4,s,n),xi(e,n,s);break;case 1:Se||(hi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Ep(s,n,l)),xi(e,n,s);break;case 21:xi(e,n,s);break;case 22:Se=(l=Se)||s.memoizedState!==null,xi(e,n,s),Se=l;break;default:xi(e,n,s)}}function Ip(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ba(e)}catch(s){Qt(n,n.return,s)}}}function Dp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ba(e)}catch(s){Qt(n,n.return,s)}}function l0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new bp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new bp),n;default:throw Error(r(435,e.tag))}}function Uu(e,n){var s=l0(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=p0.bind(null,e,l);l.then(c,c)}})}function sn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ts(E.type)){ie=E.stateNode,nn=!1;break t}break;case 5:ie=E.stateNode,nn=!1;break t;case 3:case 4:ie=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(ie===null)throw Error(r(160));Cp(f,g,c),ie=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Np(n,e),n=n.sibling}var jn=null;function Np(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),rn(e),l&4&&(ms(3,e,e.return),zl(3,e),ms(5,e,e.return));break;case 1:sn(n,e),rn(e),l&512&&(Se||s===null||hi(s,s.return)),l&64&&Ui&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=jn;if(sn(n,e),rn(e),l&512&&(Se||s===null||hi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Jn]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),qe(f,l,s),f[pe]=e,ye(f),l=f;break t;case"link":var g=Ny("link","href",c).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),qe(f,l,s),c.head.appendChild(f);break;case"meta":if(g=Ny("meta","content",c).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(l),qe(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[pe]=e,ye(f),l=f}e.stateNode=l}else Oy(c,e.type,e.stateNode);else e.stateNode=Dy(c,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Oy(c,e.type,e.stateNode):Dy(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&uf(e,e.memoizedProps,s.memoizedProps)}break;case 27:sn(n,e),rn(e),l&512&&(Se||s===null||hi(s,s.return)),s!==null&&l&4&&uf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(sn(n,e),rn(e),l&512&&(Se||s===null||hi(s,s.return)),e.flags&32){c=e.stateNode;try{en(c,"")}catch(it){Qt(e,e.return,it)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,uf(e,c,s!==null?s.memoizedProps:c)),l&1024&&(ff=!0);break;case 6:if(sn(n,e),rn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(it){Qt(e,e.return,it)}}break;case 3:if(Zu=null,c=jn,jn=Ku(n.containerInfo),sn(n,e),jn=c,rn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ba(n.containerInfo)}catch(it){Qt(e,e.return,it)}ff&&(ff=!1,Op(e));break;case 4:l=jn,jn=Ku(e.stateNode.containerInfo),sn(n,e),rn(e),jn=l;break;case 12:sn(n,e),rn(e);break;case 31:sn(n,e),rn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Uu(e,l)));break;case 13:sn(n,e),rn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Lu=Xe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Uu(e,l)));break;case 22:c=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=Ui,j=Se;if(Ui=z||c,Se=j||R,sn(n,e),Se=j,Ui=z,rn(e),l&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||R||Ui||Se||Sr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var F=R.memoizedProps.style,P=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(it){Qt(R,R.return,it)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(it){Qt(R,R.return,it)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;c?Ey(q,!0):Ey(R.stateNode,!1)}catch(it){Qt(R,R.return,it)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Uu(e,s))));break;case 19:sn(n,e),rn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Uu(e,l)));break;case 30:break;case 21:break;default:sn(n,e),rn(e)}}function rn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Sp(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=cf(e);Vu(e,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(en(g,""),s.flags&=-33);var E=cf(e);Vu(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,z=cf(e);hf(e,z,R);break;default:throw Error(r(161))}}catch(j){Qt(e,e.return,j)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Op(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Op(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Li(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Rp(e,n.alternate,n),n=n.sibling}function Sr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ms(4,n,n.return),Sr(n);break;case 1:hi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ep(n,n.return,s),Sr(n);break;case 27:Kl(n.stateNode);case 26:case 5:hi(n,n.return),Sr(n);break;case 22:n.memoizedState===null&&Sr(n);break;case 30:Sr(n);break;default:Sr(n)}e=e.sibling}}function ki(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ki(c,f,s),zl(4,f);break;case 1:if(ki(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Qt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)og(R[c],E)}catch(z){Qt(l,l.return,z)}}s&&g&64&&vp(f),Pl(f,f.return);break;case 27:Ap(f);case 26:case 5:ki(c,f,s),s&&l===null&&g&4&&Tp(f),Pl(f,f.return);break;case 12:ki(c,f,s);break;case 31:ki(c,f,s),s&&g&4&&Ip(c,f);break;case 13:ki(c,f,s),s&&g&4&&Dp(c,f);break;case 22:f.memoizedState===null&&ki(c,f,s),Pl(f,f.return);break;case 30:break;default:ki(c,f,s)}n=n.sibling}}function df(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Rl(s))}function mf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Rl(e))}function Hn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Mp(e,n,s,l),n=n.sibling}function Mp(e,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Hn(e,n,s,l),c&2048&&zl(9,n);break;case 1:Hn(e,n,s,l);break;case 3:Hn(e,n,s,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Rl(e)));break;case 12:if(c&2048){Hn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Qt(n,n.return,R)}}else Hn(e,n,s,l);break;case 31:Hn(e,n,s,l);break;case 13:Hn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Hn(e,n,s,l):Bl(e,n):f._visibility&2?Hn(e,n,s,l):(f._visibility|=2,da(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&df(g,n);break;case 24:Hn(e,n,s,l),c&2048&&mf(n.alternate,n);break;default:Hn(e,n,s,l)}}function da(e,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:da(f,g,E,R,c),zl(8,g);break;case 23:break;case 22:var j=g.stateNode;g.memoizedState!==null?j._visibility&2?da(f,g,E,R,c):Bl(f,g):(j._visibility|=2,da(f,g,E,R,c)),c&&z&2048&&df(g.alternate,g);break;case 24:da(f,g,E,R,c),c&&z&2048&&mf(g.alternate,g);break;default:da(f,g,E,R,c)}n=n.sibling}}function Bl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,c=l.flags;switch(l.tag){case 22:Bl(s,l),c&2048&&df(l.alternate,l);break;case 24:Bl(s,l),c&2048&&mf(l.alternate,l);break;default:Bl(s,l)}n=n.sibling}}var ql=8192;function ma(e,n,s){if(e.subtreeFlags&ql)for(e=e.child;e!==null;)Vp(e,n,s),e=e.sibling}function Vp(e,n,s){switch(e.tag){case 26:ma(e,n,s),e.flags&ql&&e.memoizedState!==null&&Y0(s,jn,e.memoizedState,e.memoizedProps);break;case 5:ma(e,n,s);break;case 3:case 4:var l=jn;jn=Ku(e.stateNode.containerInfo),ma(e,n,s),jn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ql,ql=16777216,ma(e,n,s),ql=l):ma(e,n,s));break;default:ma(e,n,s)}}function Up(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function jl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,Lp(l,e)}Up(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xp(e),e=e.sibling}function xp(e){switch(e.tag){case 0:case 11:case 15:jl(e),e.flags&2048&&ms(9,e,e.return);break;case 3:jl(e);break;case 12:jl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,xu(e)):jl(e);break;default:jl(e)}}function xu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,Lp(l,e)}Up(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ms(8,n,n.return),xu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,xu(n));break;default:xu(n)}e=e.sibling}}function Lp(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:ms(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Rl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ue=l;else t:for(s=e;Ue!==null;){l=Ue;var c=l.sibling,f=l.return;if(wp(l),l===s){Ue=null;break t}if(c!==null){c.return=f,Ue=c;break t}Ue=f}}}var o0={getCacheForType:function(e){var n=Pe(ve),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Pe(ve).controller.signal}},u0=typeof WeakMap=="function"?WeakMap:Map,jt=0,Jt=null,Ct=null,Dt=0,Ft=0,gn=null,gs=!1,ga=!1,gf=!1,zi=0,le=0,ps=0,Ar=0,pf=0,pn=0,pa=0,Hl=null,an=null,yf=!1,Lu=0,kp=0,ku=1/0,zu=null,ys=null,De=0,_s=null,ya=null,Pi=0,_f=0,vf=null,zp=null,Gl=0,Ef=null;function yn(){return(jt&2)!==0&&Dt!==0?Dt&-Dt:H.T!==null?wf():Po()}function Pp(){if(pn===0)if((Dt&536870912)===0||Mt){var e=Zs;Zs<<=1,(Zs&3932160)===0&&(Zs=262144),pn=e}else pn=536870912;return e=dn.current,e!==null&&(e.flags|=32),pn}function ln(e,n,s){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(_a(e,0),vs(e,Dt,pn,!1)),Js(e,s),((jt&2)===0||e!==Jt)&&(e===Jt&&((jt&2)===0&&(Ar|=s),le===4&&vs(e,Dt,pn,!1)),fi(e))}function Bp(e,n,s){if((jt&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Vn(e,n),c=l?f0(e,n):Sf(e,n,!0),f=l;do{if(c===0){ga&&!l&&vs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!c0(s)){c=Sf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;c=Hl;var R=E.current.memoizedState.isDehydrated;if(R&&(_a(E,g).flags|=256),g=Sf(E,g,!1),g!==2){if(gf&&!R){E.errorRecoveryDisabledLanes|=f,Ar|=f,c=4;break t}f=an,an=c,f!==null&&(an===null?an=f:an.push.apply(an,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){_a(e,0),vs(e,n,0,!0);break}t:{switch(l=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:vs(l,n,pn,!gs);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Lu+300-Xe(),10<c)){if(vs(l,n,pn,!gs),Kn(l,0,!0)!==0)break t;Pi=n,l.timeoutHandle=yy(qp.bind(null,l,s,an,zu,yf,n,pn,Ar,pa,gs,f,"Throttled",-0,0),c);break t}qp(l,s,an,zu,yf,n,pn,Ar,pa,gs,f,null,-0,0)}}break}while(!0);fi(e)}function qp(e,n,s,l,c,f,g,E,R,z,j,F,P,q){if(e.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},Vp(n,f,F);var it=(f&62914560)===f?Lu-Xe():(f&4194048)===f?kp-Xe():0;if(it=K0(F,it),it!==null){Pi=f,e.cancelPendingCommit=it(Xp.bind(null,e,n,f,s,l,c,g,E,R,j,F,null,P,q)),vs(e,f,g,!z);return}}Xp(e,n,f,s,l,c,g,E,R)}function c0(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function vs(e,n,s,l){n&=~pf,n&=~Ar,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-oe(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&$s(e,s,n)}function Pu(){return(jt&6)===0?(Fl(0),!1):!0}function Tf(){if(Ct!==null){if(Ft===0)var e=Ct.return;else e=Ct,Ii=mr=null,Lh(e),oa=null,Cl=0,e=Ct;for(;e!==null;)_p(e.alternate,e),e=e.return;Ct=null}}function _a(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,N0(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Pi=0,Tf(),Jt=e,Ct=s=wi(e.current,null),Dt=n,Ft=0,gn=null,gs=!1,ga=Vn(e,n),gf=!1,pa=pn=pf=Ar=ps=le=0,an=Hl=null,yf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-oe(l),f=1<<c;n|=e[c],l&=~f}return zi=n,au(),s}function jp(e,n){At=null,H.H=xl,n===la||n===mu?(n=sg(),Ft=3):n===bh?(n=sg(),Ft=4):Ft=n===$h?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Ct===null&&(le=1,Iu(e,bn(n,e.current)))}function Hp(){var e=dn.current;return e===null?!0:(Dt&4194048)===Dt?In===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===In:!1}function Gp(){var e=H.H;return H.H=xl,e===null?xl:e}function Fp(){var e=H.A;return H.A=o0,e}function Bu(){le=4,gs||(Dt&4194048)!==Dt&&dn.current!==null||(ga=!0),(ps&134217727)===0&&(Ar&134217727)===0||Jt===null||vs(Jt,Dt,pn,!1)}function Sf(e,n,s){var l=jt;jt|=2;var c=Gp(),f=Fp();(Jt!==e||Dt!==n)&&(zu=null,_a(e,n)),n=!1;var g=le;t:do try{if(Ft!==0&&Ct!==null){var E=Ct,R=gn;switch(Ft){case 8:Tf(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var z=Ft;if(Ft=0,gn=null,va(e,E,R,z),s&&ga){g=0;break t}break;default:z=Ft,Ft=0,gn=null,va(e,E,R,z)}}h0(),g=le;break}catch(j){jp(e,j)}while(!0);return n&&e.shellSuspendCounter++,Ii=mr=null,jt=l,H.H=c,H.A=f,Ct===null&&(Jt=null,Dt=0,au()),g}function h0(){for(;Ct!==null;)Qp(Ct)}function f0(e,n){var s=jt;jt|=2;var l=Gp(),c=Fp();Jt!==e||Dt!==n?(zu=null,ku=Xe()+500,_a(e,n)):ga=Vn(e,n);t:do try{if(Ft!==0&&Ct!==null){n=Ct;var f=gn;e:switch(Ft){case 1:Ft=0,gn=null,va(e,n,f,1);break;case 2:case 9:if(ng(f)){Ft=0,gn=null,Yp(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),fi(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:ng(f)?(Ft=0,gn=null,Yp(n)):(Ft=0,gn=null,va(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?My(g):E.stateNode.complete){Ft=0,gn=null;var R=E.sibling;if(R!==null)Ct=R;else{var z=E.return;z!==null?(Ct=z,qu(z)):Ct=null}break e}}Ft=0,gn=null,va(e,n,f,5);break;case 6:Ft=0,gn=null,va(e,n,f,6);break;case 8:Tf(),le=6;break t;default:throw Error(r(462))}}d0();break}catch(j){jp(e,j)}while(!0);return Ii=mr=null,H.H=l,H.A=c,jt=s,Ct!==null?0:(Jt=null,Dt=0,au(),le)}function d0(){for(;Ct!==null&&!Jc();)Qp(Ct)}function Qp(e){var n=pp(e.alternate,e,zi);e.memoizedProps=e.pendingProps,n===null?qu(e):Ct=n}function Yp(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=cp(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=cp(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:Lh(n);default:_p(s,n),n=Ct=Fm(n,zi),n=pp(s,n,zi)}e.memoizedProps=e.pendingProps,n===null?qu(e):Ct=n}function va(e,n,s,l){Ii=mr=null,Lh(n),oa=null,Cl=0;var c=n.return;try{if(e0(e,c,n,s,Dt)){le=1,Iu(e,bn(s,e.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;le=1,Iu(e,bn(s,e.current)),Ct=null;return}n.flags&32768?(Mt||l===1?e=!0:ga||(Dt&536870912)!==0?e=!1:(gs=e=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Kp(n,e)):qu(n)}function qu(e){var n=e;do{if((n.flags&32768)!==0){Kp(n,gs);return}e=n.return;var s=s0(n.alternate,n,zi);if(s!==null){Ct=s;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);le===0&&(le=5)}function Kp(e,n){do{var s=r0(e.alternate,e);if(s!==null){s.flags&=32767,Ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=s}while(e!==null);le=6,Ct=null}function Xp(e,n,s,l,c,f,g,E,R){e.cancelPendingCommit=null;do ju();while(De!==0);if((jt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=uh,th(e,s,f,g,E,R),e===Jt&&(Ct=Jt=null,Dt=0),ya=n,_s=e,Pi=s,_f=f,vf=c,zp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,y0(Xi,function(){return ty(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=J.p,J.p=2,g=jt,jt|=4;try{a0(e,n,s)}finally{jt=g,J.p=c,H.T=l}}De=1,Zp(),Jp(),$p()}}function Zp(){if(De===1){De=0;var e=_s,n=ya,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=J.p;J.p=2;var c=jt;jt|=4;try{Np(n,e);var f=Uf,g=Lm(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&xm(E.ownerDocument.documentElement,E)){if(R!==null&&sh(E)){var z=R.start,j=R.end;if(j===void 0&&(j=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(j,E.value.length);else{var F=E.ownerDocument||document,P=F&&F.defaultView||window;if(P.getSelection){var q=P.getSelection(),it=E.textContent.length,ht=Math.min(R.start,it),Zt=R.end===void 0?ht:Math.min(R.end,it);!q.extend&&ht>Zt&&(g=Zt,Zt=ht,ht=g);var V=Um(E,ht),D=Um(E,Zt);if(V&&D&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var k=F.createRange();k.setStart(V.node,V.offset),q.removeAllRanges(),ht>Zt?(q.addRange(k),q.extend(D.node,D.offset)):(k.setEnd(D.node,D.offset),q.addRange(k))}}}}for(F=[],q=E;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}tc=!!Vf,Uf=Vf=null}finally{jt=c,J.p=l,H.T=s}}e.current=n,De=2}}function Jp(){if(De===2){De=0;var e=_s,n=ya,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=J.p;J.p=2;var c=jt;jt|=4;try{Rp(e,n.alternate,n)}finally{jt=c,J.p=l,H.T=s}}De=3}}function $p(){if(De===4||De===3){De=0,Mo();var e=_s,n=ya,s=Pi,l=zp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,ya=_s=null,Wp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ys=null),Si(s),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=J.p,J.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,J.p=c}}(Pi&3)!==0&&ju(),fi(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===Ef?Gl++:(Gl=0,Ef=e):Gl=0,Fl(0)}}function Wp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Rl(n)))}function ju(){return Zp(),Jp(),$p(),ty()}function ty(){if(De!==5)return!1;var e=_s,n=_f;_f=0;var s=Si(Pi),l=H.T,c=J.p;try{J.p=32>s?32:s,H.T=null,s=vf,vf=null;var f=_s,g=Pi;if(De=0,ya=_s=null,Pi=0,(jt&6)!==0)throw Error(r(331));var E=jt;if(jt|=4,xp(f.current),Mp(f,f.current,g,s),jt=E,Fl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{J.p=c,H.T=l,Wp(e,n)}}function ey(e,n,s){n=bn(s,n),n=Jh(e.stateNode,n,2),e=hs(e,n,2),e!==null&&(Js(e,2),fi(e))}function Qt(e,n,s){if(e.tag===3)ey(e,e,s);else for(;n!==null;){if(n.tag===3){ey(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ys===null||!ys.has(l))){e=bn(s,e),s=np(2),l=hs(n,s,2),l!==null&&(ip(s,l,n,e),Js(l,2),fi(l));break}}n=n.return}}function Af(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new u0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(gf=!0,c.add(s),e=m0.bind(null,e,n,s),n.then(e,e))}function m0(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(Dt&s)===s&&(le===4||le===3&&(Dt&62914560)===Dt&&300>Xe()-Lu?(jt&2)===0&&_a(e,0):pf|=s,pa===Dt&&(pa=0)),fi(e)}function ny(e,n){n===0&&(n=zo()),e=hr(e,n),e!==null&&(Js(e,n),fi(e))}function g0(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),ny(e,s)}function p0(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),ny(e,s)}function y0(e,n){return Ie(e,n)}var Hu=null,Ea=null,bf=!1,Gu=!1,Rf=!1,Es=0;function fi(e){e!==Ea&&e.next===null&&(Ea===null?Hu=Ea=e:Ea=Ea.next=e),Gu=!0,bf||(bf=!0,v0())}function Fl(e,n){if(!Rf&&Gu){Rf=!0;do for(var s=!1,l=Hu;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-oe(42|e)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,ay(l,f))}else f=Dt,f=Kn(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Vn(l,f)||(s=!0,ay(l,f));l=l.next}while(s);Rf=!1}}function _0(){iy()}function iy(){Gu=bf=!1;var e=0;Es!==0&&D0()&&(e=Es);for(var n=Xe(),s=null,l=Hu;l!==null;){var c=l.next,f=sy(l,n);f===0?(l.next=null,s===null?Hu=c:s.next=c,c===null&&(Ea=s)):(s=l,(e!==0||(f&3)!==0)&&(Gu=!0)),l=c}De!==0&&De!==5||Fl(e),Es!==0&&(Es=0)}function sy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-oe(f),E=1<<g,R=c[g];R===-1?((E&s)===0||(E&l)!==0)&&(c[g]=Wc(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,s=Dt,s=Kn(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ki(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Vn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&Ki(l),Si(s)){case 2:case 8:s=el;break;case 32:s=Xi;break;case 268435456:s=Vo;break;default:s=Xi}return l=ry.bind(null,e),s=Ie(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&Ki(l),e.callbackPriority=2,e.callbackNode=null,2}function ry(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ju()&&e.callbackNode!==s)return null;var l=Dt;return l=Kn(e,e===Jt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Bp(e,l,n),sy(e,Xe()),e.callbackNode!=null&&e.callbackNode===s?ry.bind(null,e):null)}function ay(e,n){if(ju())return null;Bp(e,n,!0)}function v0(){O0(function(){(jt&6)!==0?Ie(tl,_0):iy()})}function wf(){if(Es===0){var e=ra;e===0&&(e=Qn,Qn<<=1,(Qn&261888)===0&&(Qn=256)),Es=e}return Es}function ly(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gr(""+e)}function oy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function E0(e,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=ly((c[Me]||null).action),g=l.submitter;g&&(n=(n=g[Me]||null)?ly(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ri("action","action",null,l,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Es!==0){var R=g?oy(c,g):new FormData(c);Fh(s,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?oy(c,g):new FormData(c),Fh(s,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Cf=0;Cf<oh.length;Cf++){var If=oh[Cf],T0=If.toLowerCase(),S0=If[0].toUpperCase()+If.slice(1);qn(T0,"on"+S0)}qn(Pm,"onAnimationEnd"),qn(Bm,"onAnimationIteration"),qn(qm,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(zT,"onTransitionRun"),qn(PT,"onTransitionStart"),qn(BT,"onTransitionCancel"),qn(jm,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function uy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(j){ru(j)}c.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(j){ru(j)}c.currentTarget=null,f=R}}}}function It(e,n){var s=n[Pr];s===void 0&&(s=n[Pr]=new Set);var l=e+"__bubble";s.has(l)||(cy(n,e,2,!1),s.add(l))}function Df(e,n,s){var l=0;n&&(l|=4),cy(s,e,l,n)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Nf(e){if(!e[Fu]){e[Fu]=!0,sl.forEach(function(s){s!=="selectionchange"&&(A0.has(s)||Df(s,!1,e),Df(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Fu]||(n[Fu]=!0,Df("selectionchange",!1,n))}}function cy(e,n,s,l){switch(Py(n)){case 2:var c=J0;break;case 8:c=$0;break;default:c=Ff}s=c.bind(null,n,s,e),c=void 0,!ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function Of(e,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=$n(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}E=E.parentNode}}l=l.return}es(function(){var z=f,j=En(s),F=[];t:{var P=Hm.get(e);if(P!==void 0){var q=ri,it=e;switch(e){case"keypress":if(rr(s)===0)break t;case"keydown":case"keyup":q=nu;break;case"focusin":it="focus",q=lr;break;case"focusout":it="blur",q=lr;break;case"beforeblur":case"afterblur":q=lr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Yo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Pm:case Bm:case qm:q=Xo;break;case jm:q=T;break;case"scroll":case"scrollend":q=pl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Zo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ri;break;case"toggle":case"beforetoggle":q=St}var ht=(n&4)!==0,Zt=!ht&&(e==="scroll"||e==="scrollend"),V=ht?P!==null?P+"Capture":null:P;ht=[];for(var D=z,k;D!==null;){var G=D;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||V===null||(G=kn(D,V),G!=null&&ht.push(Yl(D,G,k))),Zt)break;D=D.return}0<ht.length&&(P=new q(P,it,null,s,j),F.push({event:P,listeners:ht}))}}if((n&7)===0){t:{if(P=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",P&&s!==dl&&(it=s.relatedTarget||s.fromElement)&&($n(it)||it[Zn]))break t;if((q||P)&&(P=j.window===j?j:(P=j.ownerDocument)?P.defaultView||P.parentWindow:window,q?(it=s.relatedTarget||s.toElement,q=z,it=it?$n(it):null,it!==null&&(Zt=h(it),ht=it.tag,it!==Zt||ht!==5&&ht!==27&&ht!==6)&&(it=null)):(q=null,it=z),q!==it)){if(ht=yl,G="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ht=Ri,G="onPointerLeave",V="onPointerEnter",D="pointer"),Zt=q==null?P:un(q),k=it==null?P:un(it),P=new ht(G,D+"leave",q,s,j),P.target=Zt,P.relatedTarget=k,G=null,$n(j)===z&&(ht=new ht(V,D+"enter",it,s,j),ht.target=k,ht.relatedTarget=Zt,G=ht),Zt=G,q&&it)e:{for(ht=b0,V=q,D=it,k=0,G=V;G;G=ht(G))k++;G=0;for(var ot=D;ot;ot=ht(ot))G++;for(;0<k-G;)V=ht(V),k--;for(;0<G-k;)D=ht(D),G--;for(;k--;){if(V===D||D!==null&&V===D.alternate){ht=V;break e}V=ht(V),D=ht(D)}ht=null}else ht=null;q!==null&&hy(F,P,q,ht,!1),it!==null&&Zt!==null&&hy(F,Zt,it,ht,!0)}}t:{if(P=z?un(z):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var Pt=Im;else if(wm(P))if(Dm)Pt=xT;else{Pt=VT;var rt=MT}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&Hr(z.elementType)&&(Pt=Im):Pt=UT;if(Pt&&(Pt=Pt(e,z))){Cm(F,Pt,s,j);break t}rt&&rt(e,P,z),e==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&cl(P,"number",P.value)}switch(rt=z?un(z):window,e){case"focusin":(wm(rt)||rt.contentEditable==="true")&&(Jr=rt,rh=z,Sl=null);break;case"focusout":Sl=rh=Jr=null;break;case"mousedown":ah=!0;break;case"contextmenu":case"mouseup":case"dragend":ah=!1,km(F,s,j);break;case"selectionchange":if(kT)break;case"keydown":case"keyup":km(F,s,j)}var Rt;if(qt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else Zr?or(e,s)&&(Nt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Nt="onCompositionStart");Nt&&(oi&&s.locale!=="ko"&&(Zr||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Zr&&(Rt=gl()):(si=j,ml="value"in si?si.value:si.textContent,Zr=!0)),rt=Qu(z,Nt),0<rt.length&&(Nt=new li(Nt,e,null,s,j),F.push({event:Nt,listeners:rt}),Rt?Nt.data=Rt:(Rt=Xr(s),Rt!==null&&(Nt.data=Rt)))),(Rt=Sn?IT(e,s):DT(e,s))&&(Nt=Qu(z,"onBeforeInput"),0<Nt.length&&(rt=new li("onBeforeInput","beforeinput",null,s,j),F.push({event:rt,listeners:Nt}),rt.data=Rt)),E0(F,e,z,s,j)}uy(F,n)})}function Yl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Qu(e,n){for(var s=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=kn(e,s),c!=null&&l.unshift(Yl(e,c,f)),c=kn(e,n),c!=null&&l.push(Yl(e,c,f))),e.tag===3)return l;e=e.return}return[]}function b0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hy(e,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,c?(z=kn(s,f),z!=null&&g.unshift(Yl(s,z,R))):c||(z=kn(s,f),z!=null&&g.push(Yl(s,z,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var R0=/\r\n?/g,w0=/\u0000|\uFFFD/g;function fy(e){return(typeof e=="string"?e:""+e).replace(R0,`
`).replace(w0,"")}function dy(e,n){return n=fy(n),fy(e)===n}function Xt(e,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||en(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&en(e,""+l);break;case"className":cn(e,"class",l);break;case"tabIndex":cn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(e,s,l);break;case"style":fl(e,l,f);break;case"data":if(n!=="object"){cn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Gr(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xt(e,n,"name",c.name,c,null),Xt(e,n,"formEncType",c.formEncType,c,null),Xt(e,n,"formMethod",c.formMethod,c,null),Xt(e,n,"formTarget",c.formTarget,c,null)):(Xt(e,n,"encType",c.encType,c,null),Xt(e,n,"method",c.method,c,null),Xt(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Gr(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Ln);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Gr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":It("beforetoggle",e),It("toggle",e),qr(e,"popover",l);break;case"xlinkActuate":_e(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_e(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_e(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_e(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_e(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_e(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_e(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_e(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_e(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Qo.get(s)||s,qr(e,s,l))}}function Mf(e,n,s,l,c,f){switch(s){case"style":fl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?en(e,l):(typeof l=="number"||typeof l=="bigint")&&en(e,""+l);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[Me]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,c);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):qr(e,s,l)}}}function qe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(e,n,f,g,s,null)}}c&&Xt(e,n,"srcSet",s.srcSet,s,null),l&&Xt(e,n,"src",s.src,s,null);return;case"input":It("invalid",e);var E=f=g=c=null,R=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var j=s[l];if(j!=null)switch(l){case"name":c=j;break;case"type":g=j;break;case"checked":R=j;break;case"defaultChecked":z=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:Xt(e,n,l,j,s,null)}}Ho(e,f,E,R,z,g,c,!1);return;case"select":It("invalid",e),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Xt(e,n,c,E,s,null)}n=f,s=g,e.multiple=!!l,n!=null?Ji(e,!!l,n,!1):s!=null&&Ji(e,!!l,s,!0);return;case"textarea":It("invalid",e),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Xt(e,n,g,E,s,null)}$i(e,l,c,f);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(l=s[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,n,R,l,s,null)}return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(l=0;l<Ql.length;l++)It(Ql[l],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(e,n,z,l,s,null)}return;default:if(Hr(n)){for(j in s)s.hasOwnProperty(j)&&(l=s[j],l!==void 0&&Mf(e,n,j,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Xt(e,n,E,l,s,null))}function C0(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,R=null,z=null,j=null;for(q in s){var F=s[q];if(s.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=F;default:l.hasOwnProperty(q)||Xt(e,n,q,null,l,F)}}for(var P in l){var q=l[P];if(F=s[P],l.hasOwnProperty(P)&&(q!=null||F!=null))switch(P){case"type":f=q;break;case"name":c=q;break;case"checked":z=q;break;case"defaultChecked":j=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==F&&Xt(e,n,P,q,l,F)}}jr(e,g,E,R,z,j,f,c);return;case"select":q=g=E=P=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||Xt(e,n,f,null,l,R)}for(c in l)if(f=l[c],R=s[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Xt(e,n,c,f,l,R)}n=E,s=g,l=q,P!=null?Ji(e,!!s,P,!1):!!l!=!!s&&(n!=null?Ji(e,!!s,n,!0):Ji(e,!!s,s?[]:"",!1));return;case"textarea":q=P=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":P=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Xt(e,n,g,c,l,f)}Go(e,P,q);return;case"option":for(var it in s)if(P=s[it],s.hasOwnProperty(it)&&P!=null&&!l.hasOwnProperty(it))switch(it){case"selected":e.selected=!1;break;default:Xt(e,n,it,null,l,P)}for(R in l)if(P=l[R],q=s[R],l.hasOwnProperty(R)&&P!==q&&(P!=null||q!=null))switch(R){case"selected":e.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Xt(e,n,R,P,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in s)P=s[ht],s.hasOwnProperty(ht)&&P!=null&&!l.hasOwnProperty(ht)&&Xt(e,n,ht,null,l,P);for(z in l)if(P=l[z],q=s[z],l.hasOwnProperty(z)&&P!==q&&(P!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:Xt(e,n,z,P,l,q)}return;default:if(Hr(n)){for(var Zt in s)P=s[Zt],s.hasOwnProperty(Zt)&&P!==void 0&&!l.hasOwnProperty(Zt)&&Mf(e,n,Zt,void 0,l,P);for(j in l)P=l[j],q=s[j],!l.hasOwnProperty(j)||P===q||P===void 0&&q===void 0||Mf(e,n,j,P,l,q);return}}for(var V in s)P=s[V],s.hasOwnProperty(V)&&P!=null&&!l.hasOwnProperty(V)&&Xt(e,n,V,null,l,P);for(F in l)P=l[F],q=s[F],!l.hasOwnProperty(F)||P===q||P==null&&q==null||Xt(e,n,F,P,l,q)}function my(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function I0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&my(g)){for(g=0,E=c.responseEnd,l+=1;l<s.length;l++){var R=s[l],z=R.startTime;if(z>E)break;var j=R.transferSize,F=R.initiatorType;j&&my(F)&&(R=R.responseEnd,g+=j*(R<E?1:(E-z)/(R-z)))}if(--l,n+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vf=null,Uf=null;function Yu(e){return e.nodeType===9?e:e.ownerDocument}function gy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function py(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function xf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Lf=null;function D0(){var e=window.event;return e&&e.type==="popstate"?e===Lf?!1:(Lf=e,!0):(Lf=null,!1)}var yy=typeof setTimeout=="function"?setTimeout:void 0,N0=typeof clearTimeout=="function"?clearTimeout:void 0,_y=typeof Promise=="function"?Promise:void 0,O0=typeof queueMicrotask=="function"?queueMicrotask:typeof _y<"u"?function(e){return _y.resolve(null).then(e).catch(M0)}:yy;function M0(e){setTimeout(function(){throw e})}function Ts(e){return e==="head"}function vy(e,n){var s=n,l=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(c),ba(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Kl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Kl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Jn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Kl(e.ownerDocument.body);s=c}while(s);ba(n)}function Ey(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function kf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":kf(s),Br(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function V0(e,n,s,l){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Jn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function U0(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Dn(e.nextSibling),e===null))return null;return e}function Ty(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function zf(e){return e.data==="$?"||e.data==="$~"}function Pf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function x0(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Dn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Bf=null;function Sy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Dn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Ay(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function by(e,n,s){switch(n=Yu(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Kl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Br(e)}var Nn=new Map,Ry=new Set;function Ku(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Bi=J.d;J.d={f:L0,r:k0,D:z0,C:P0,L:B0,m:q0,X:H0,S:j0,M:G0};function L0(){var e=Bi.f(),n=Pu();return e||n}function k0(e){var n=vn(e);n!==null&&n.tag===5&&n.type==="form"?jg(n):Bi.r(e)}var Ta=typeof document>"u"?null:document;function wy(e,n,s){var l=Ta;if(l&&typeof n=="string"&&n){var c=tn(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Ry.has(c)||(Ry.add(c),e={rel:e,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),qe(n,"link",e),ye(n),l.head.appendChild(n)))}}function z0(e){Bi.D(e),wy("dns-prefetch",e,null)}function P0(e,n){Bi.C(e,n),wy("preconnect",e,n)}function B0(e,n,s){Bi.L(e,n,s);var l=Ta;if(l&&e&&n){var c='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+tn(s.imageSizes)+'"]')):c+='[href="'+tn(e)+'"]';var f=c;switch(n){case"style":f=Sa(e);break;case"script":f=Aa(e)}Nn.has(f)||(e=C({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Nn.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(Xl(f))||n==="script"&&l.querySelector(Zl(f))||(n=l.createElement("link"),qe(n,"link",e),ye(n),l.head.appendChild(n)))}}function q0(e,n){Bi.m(e,n);var s=Ta;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Aa(e)}if(!Nn.has(f)&&(e=C({rel:"modulepreload",href:e},n),Nn.set(f,e),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Zl(f)))return}l=s.createElement("link"),qe(l,"link",e),ye(l),s.head.appendChild(l)}}}function j0(e,n,s){Bi.S(e,n,s);var l=Ta;if(l&&e){var c=Wn(l).hoistableStyles,f=Sa(e);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Xl(f)))E.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Nn.get(f))&&qf(e,s);var R=g=l.createElement("link");ye(R),qe(R,"link",e),R._p=new Promise(function(z,j){R.onload=z,R.onerror=j}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Xu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function H0(e,n){Bi.X(e,n);var s=Ta;if(s&&e){var l=Wn(s).hoistableScripts,c=Aa(e),f=l.get(c);f||(f=s.querySelector(Zl(c)),f||(e=C({src:e,async:!0},n),(n=Nn.get(c))&&jf(e,n),f=s.createElement("script"),ye(f),qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function G0(e,n){Bi.M(e,n);var s=Ta;if(s&&e){var l=Wn(s).hoistableScripts,c=Aa(e),f=l.get(c);f||(f=s.querySelector(Zl(c)),f||(e=C({src:e,async:!0,type:"module"},n),(n=Nn.get(c))&&jf(e,n),f=s.createElement("script"),ye(f),qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Cy(e,n,s,l){var c=(c=bt.current)?Ku(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Sa(s.href),s=Wn(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Sa(s.href);var f=Wn(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(Xl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Nn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Nn.set(e,s),f||F0(c,e,s,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Aa(s),s=Wn(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Sa(e){return'href="'+tn(e)+'"'}function Xl(e){return'link[rel="stylesheet"]['+e+"]"}function Iy(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function F0(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qe(n,"link",s),ye(n),e.head.appendChild(n))}function Aa(e){return'[src="'+tn(e)+'"]'}function Zl(e){return"script[async]"+e}function Dy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+tn(s.href)+'"]');if(l)return n.instance=l,ye(l),l;var c=C({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ye(l),qe(l,"style",c),Xu(l,s.precedence,e),n.instance=l;case"stylesheet":c=Sa(s.href);var f=e.querySelector(Xl(c));if(f)return n.state.loading|=4,n.instance=f,ye(f),f;l=Iy(s),(c=Nn.get(c))&&qf(l,c),f=(e.ownerDocument||e).createElement("link"),ye(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),qe(f,"link",l),n.state.loading|=4,Xu(f,s.precedence,e),n.instance=f;case"script":return f=Aa(s.src),(c=e.querySelector(Zl(f)))?(n.instance=c,ye(c),c):(l=s,(c=Nn.get(f))&&(l=C({},s),jf(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),ye(c),qe(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Xu(l,s.precedence,e));return n.instance}function Xu(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function qf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function jf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Zu=null;function Ny(e,n,s){if(Zu===null){var l=new Map,c=Zu=new Map;c.set(s,l)}else c=Zu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[Jn]||f[pe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function Oy(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Q0(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function My(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Y0(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Sa(l.href),f=n.querySelector(Xl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ju.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ye(f);return}f=n.ownerDocument||n,l=Iy(l),(c=Nn.get(c))&&qf(l,c),f=f.createElement("link"),ye(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),qe(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Ju.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Hf=0;function K0(e,n){return e.stylesheets&&e.count===0&&Wu(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&Wu(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Hf===0&&(Hf=62500*I0());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Wu(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Hf?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Ju(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $u=null;function Wu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$u=new Map,n.forEach(X0,e),$u=null,Ju.call(e))}function X0(e,n){if(!(n.state.loading&4)){var s=$u.get(e);if(s)var l=s.get(null);else{s=new Map,$u.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=Ju.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Jl={$$typeof:at,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function Z0(e,n,s,l,c,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xn(0),this.hiddenUpdates=Xn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Vy(e,n,s,l,c,f,g,E,R,z,j,F){return e=new Z0(e,n,s,g,R,z,j,F,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),e.current=f,f.stateNode=e,n=Th(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Rh(f),e}function Uy(e){return e?(e=ta,e):ta}function xy(e,n,s,l,c,f){c=Uy(c),l.context===null?l.context=c:l.pendingContext=c,l=cs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=hs(e,l,n),s!==null&&(ln(s,e,n),Dl(s,e,n))}function Ly(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Gf(e,n){Ly(e,n),(e=e.alternate)&&Ly(e,n)}function ky(e){if(e.tag===13||e.tag===31){var n=hr(e,67108864);n!==null&&ln(n,e,67108864),Gf(e,67108864)}}function zy(e){if(e.tag===13||e.tag===31){var n=yn();n=Ws(n);var s=hr(e,n);s!==null&&ln(s,e,n),Gf(e,n)}}var tc=!0;function J0(e,n,s,l){var c=H.T;H.T=null;var f=J.p;try{J.p=2,Ff(e,n,s,l)}finally{J.p=f,H.T=c}}function $0(e,n,s,l){var c=H.T;H.T=null;var f=J.p;try{J.p=8,Ff(e,n,s,l)}finally{J.p=f,H.T=c}}function Ff(e,n,s,l){if(tc){var c=Qf(l);if(c===null)Of(e,n,l,ec,s),By(e,l);else if(tS(c,e,n,s,l))l.stopPropagation();else if(By(e,l),n&4&&-1<W0.indexOf(e)){for(;c!==null;){var f=vn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Yn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-oe(g);E.entanglements[1]|=R,g&=~R}fi(f),(jt&6)===0&&(ku=Xe()+500,Fl(0))}}break;case 31:case 13:E=hr(f,2),E!==null&&ln(E,f,2),Pu(),Gf(f,2)}if(f=Qf(l),f===null&&Of(e,n,l,ec,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else Of(e,n,l,null,s)}}function Qf(e){return e=En(e),Yf(e)}var ec=null;function Yf(e){if(ec=null,e=$n(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=y(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ec=e,null}function Py(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xs()){case tl:return 2;case el:return 8;case Xi:case $c:return 32;case Vo:return 268435456;default:return 32}default:return 32}}var Kf=!1,Ss=null,As=null,bs=null,$l=new Map,Wl=new Map,Rs=[],W0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function By(e,n){switch(e){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":$l.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(n.pointerId)}}function to(e,n,s,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=vn(n),n!==null&&ky(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function tS(e,n,s,l,c){switch(n){case"focusin":return Ss=to(Ss,e,n,s,l,c),!0;case"dragenter":return As=to(As,e,n,s,l,c),!0;case"mouseover":return bs=to(bs,e,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return $l.set(f,to($l.get(f)||null,e,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Wl.set(f,to(Wl.get(f)||null,e,n,s,l,c)),!0}return!1}function qy(e){var n=$n(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Un(e.priority,function(){zy(s)});return}}else if(n===31){if(n=y(s),n!==null){e.blockedOn=n,Un(e.priority,function(){zy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Qf(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);dl=l,s.target.dispatchEvent(l),dl=null}else return n=vn(s),n!==null&&ky(n),e.blockedOn=s,!1;n.shift()}return!0}function jy(e,n,s){nc(e)&&s.delete(n)}function eS(){Kf=!1,Ss!==null&&nc(Ss)&&(Ss=null),As!==null&&nc(As)&&(As=null),bs!==null&&nc(bs)&&(bs=null),$l.forEach(jy),Wl.forEach(jy)}function ic(e,n){e.blockedOn===n&&(e.blockedOn=null,Kf||(Kf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,eS)))}var sc=null;function Hy(e){sc!==e&&(sc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){sc===e&&(sc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(Yf(l||s)===null)continue;break}var f=vn(s);f!==null&&(e.splice(n,3),n-=3,Fh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function ba(e){function n(R){return ic(R,e)}Ss!==null&&ic(Ss,e),As!==null&&ic(As,e),bs!==null&&ic(bs,e),$l.forEach(n),Wl.forEach(n);for(var s=0;s<Rs.length;s++){var l=Rs[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Rs.length&&(s=Rs[0],s.blockedOn===null);)qy(s),s.blockedOn===null&&Rs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[Me]||null;if(typeof f=="function")g||Hy(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Me]||null)E=g.formAction;else if(Yf(c)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Hy(s)}}}function Gy(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Xf(e){this._internalRoot=e}rc.prototype.render=Xf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=yn();xy(s,l,e,n,null,null)},rc.prototype.unmount=Xf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;xy(e.current,2,null,e,null,null),Pu(),n[Zn]=null}};function rc(e){this._internalRoot=e}rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Po();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Rs.length&&n!==0&&n<Rs[s].priority;s++);Rs.splice(s,0,e),s===0&&qy(e)}};var Fy=t.version;if(Fy!=="19.2.0")throw Error(r(527,Fy,"19.2.0"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var nS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{Mn=ac.inject(nS),Le=ac}catch{}}return no.createRoot=function(e,n){if(!o(e))throw Error(r(299));var s=!1,l="",c=$g,f=Wg,g=tp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Vy(e,1,!1,null,null,s,l,null,c,f,g,Gy),e[Zn]=n.current,Nf(e),new Xf(n)},no.hydrateRoot=function(e,n,s){if(!o(e))throw Error(r(299));var l=!1,c="",f=$g,g=Wg,E=tp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=Vy(e,1,!0,n,s??null,l,c,R,f,g,E,Gy),n.context=Uy(null),s=n.current,l=yn(),l=Ws(l),c=cs(l),c.callback=null,hs(s,c,l),s=l,n.current.lanes=s,Js(n,s),fi(n),e[Zn]=n.current,Nf(e),new rc(n)},no.version="19.2.0",no}var e_;function fS(){if(e_)return $f.exports;e_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),$f.exports=hS(),$f.exports}var dS=fS();const mS=()=>{};var n_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},gS=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];t[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],y=a[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;t[r++]=String.fromCharCode(55296+(v>>10)),t[r++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];t[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return t.join("")},Ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,y=d?a[o+1]:0,v=o+2<a.length,_=v?a[o+2]:0,S=h>>2,C=(h&3)<<4|y>>4;let x=(y&15)<<2|_>>6,K=_&63;v||(K=64,d||(x=64)),r.push(i[S],i[C],i[x],i[K])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Nv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):gS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],y=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const C=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||y==null||_==null||C==null)throw new pS;const x=h<<2|y>>4;if(r.push(x),_!==64){const K=y<<4&240|_>>2;if(r.push(K),C!==64){const tt=_<<6&192|C;r.push(tt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class pS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yS=function(a){const t=Nv(a);return Ov.encodeByteArray(t,!0)},Sc=function(a){return yS(a).replace(/\./g,"")},Mv=function(a){try{return Ov.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=()=>_S().__FIREBASE_DEFAULTS__,ES=()=>{if(typeof process>"u"||typeof n_>"u")return;const a=n_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},TS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Mv(a[1]);return t&&JSON.parse(t)},kc=()=>{try{return mS()||vS()||ES()||TS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Vv=a=>kc()?.emulatorHosts?.[a],SS=a=>{const t=Vv(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Uv=()=>kc()?.config,xv=a=>kc()?.[`_${a}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lv(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Sc(JSON.stringify(i)),Sc(JSON.stringify(d)),""].join(".")}const lo={};function RS(){const a={prod:[],emulator:[]};for(const t of Object.keys(lo))lo[t]?a.emulator.push(t):a.prod.push(t);return a}function wS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let i_=!1;function kv(a,t){if(typeof window>"u"||typeof document>"u"||!Fa(window.location.host)||lo[a]===t||lo[a]||i_)return;lo[a]=t;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",h=RS().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function y(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,K){x.setAttribute("width","24"),x.setAttribute("id",K),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{i_=!0,d()},x}function S(x,K){x.setAttribute("id",K),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function C(){const x=wS(r),K=i("text"),tt=document.getElementById(K)||document.createElement("span"),st=i("learnmore"),W=document.getElementById(st)||document.createElement("a"),ut=i("preprendIcon"),dt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const at=x.element;y(at),S(W,st);const pt=_();v(dt,ut),at.append(dt,tt,W,pt),document.body.appendChild(at)}h?(tt.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function IS(){const a=kc()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function OS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MS(){const a=Ke();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function VS(){return!IS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function US(){try{return typeof indexedDB=="object"}catch{return!1}}function xS(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="FirebaseError";class Yi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=LS,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,So.prototype.create)}}class So{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,h=this.errors[t],d=h?kS(h,r):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Yi(o,y,r)}}function kS(a,t){return a.replace(zS,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const zS=/\{\$([^}]+)}/g;function PS(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Nr(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=t[o];if(s_(h)&&s_(d)){if(!Nr(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function s_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function BS(a,t){const i=new qS(a,t);return i.subscribe.bind(i)}class qS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let o;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");jS(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:r},o.next===void 0&&(o.next=nd),o.error===void 0&&(o.error=nd),o.complete===void 0&&(o.complete=nd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jS(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function nd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(a){return a&&a._delegate?a._delegate:a}class Or{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new AS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FS(t))try{this.getOrInitializeService({instanceIdentifier:br})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(t=br){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=br){return this.instances.has(t)}getOptions(t=br){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&t(h,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=br){return this.component?this.component.multipleInstances?t:br:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GS(a){return a===br?void 0:a}function FS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new HS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ot||(Ot={}));const YS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},KS=Ot.INFO,XS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},ZS=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),o=XS[t];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Gd{constructor(t){this.name=t,this._logLevel=KS,this._logHandler=ZS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?YS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const JS=(a,t)=>t.some(i=>a instanceof i);let r_,a_;function $S(){return r_||(r_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WS(){return a_||(a_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zv=new WeakMap,pd=new WeakMap,Pv=new WeakMap,id=new WeakMap,Fd=new WeakMap;function tA(a){const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Us(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&zv.set(i,a)}).catch(()=>{}),Fd.set(t,a),t}function eA(a){if(pd.has(a))return;const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});pd.set(a,t)}let yd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return pd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Pv.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Us(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function nA(a){yd=a(yd)}function iA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(sd(this),t,...i);return Pv.set(r,t.sort?t.sort():[t]),Us(r)}:WS().includes(a)?function(...t){return a.apply(sd(this),t),Us(zv.get(this))}:function(...t){return Us(a.apply(sd(this),t))}}function sA(a){return typeof a=="function"?iA(a):(a instanceof IDBTransaction&&eA(a),JS(a,$S())?new Proxy(a,yd):a)}function Us(a){if(a instanceof IDBRequest)return tA(a);if(id.has(a))return id.get(a);const t=sA(a);return t!==a&&(id.set(a,t),Fd.set(t,a)),t}const sd=a=>Fd.get(a);function rA(a,t,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,t),y=Us(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Us(d.result),v.oldVersion,v.newVersion,Us(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const aA=["get","getKey","getAll","getAllKeys","count"],lA=["put","add","delete","clear"],rd=new Map;function l_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(rd.get(t))return rd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=lA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||aA.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return rd.set(t,h),h}nA(a=>({...a,get:(t,i,r)=>l_(t,i)||a.get(t,i,r),has:(t,i)=>!!l_(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(uA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function uA(a){return a.getComponent()?.type==="VERSION"}const _d="@firebase/app",o_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Gd("@firebase/app"),cA="@firebase/app-compat",hA="@firebase/analytics-compat",fA="@firebase/analytics",dA="@firebase/app-check-compat",mA="@firebase/app-check",gA="@firebase/auth",pA="@firebase/auth-compat",yA="@firebase/database",_A="@firebase/data-connect",vA="@firebase/database-compat",EA="@firebase/functions",TA="@firebase/functions-compat",SA="@firebase/installations",AA="@firebase/installations-compat",bA="@firebase/messaging",RA="@firebase/messaging-compat",wA="@firebase/performance",CA="@firebase/performance-compat",IA="@firebase/remote-config",DA="@firebase/remote-config-compat",NA="@firebase/storage",OA="@firebase/storage-compat",MA="@firebase/firestore",VA="@firebase/ai",UA="@firebase/firestore-compat",xA="firebase",LA="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="[DEFAULT]",kA={[_d]:"fire-core",[cA]:"fire-core-compat",[fA]:"fire-analytics",[hA]:"fire-analytics-compat",[mA]:"fire-app-check",[dA]:"fire-app-check-compat",[gA]:"fire-auth",[pA]:"fire-auth-compat",[yA]:"fire-rtdb",[_A]:"fire-data-connect",[vA]:"fire-rtdb-compat",[EA]:"fire-fn",[TA]:"fire-fn-compat",[SA]:"fire-iid",[AA]:"fire-iid-compat",[bA]:"fire-fcm",[RA]:"fire-fcm-compat",[wA]:"fire-perf",[CA]:"fire-perf-compat",[IA]:"fire-rc",[DA]:"fire-rc-compat",[NA]:"fire-gcs",[OA]:"fire-gcs-compat",[MA]:"fire-fst",[UA]:"fire-fst-compat",[VA]:"fire-vertex","fire-js":"fire-js",[xA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new Map,zA=new Map,Ed=new Map;function u_(a,t){try{a.container.addComponent(t)}catch(i){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function La(a){const t=a.name;if(Ed.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;Ed.set(t,a);for(const i of Ac.values())u_(i,a);for(const i of zA.values())u_(i,a);return!0}function Qd(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function mi(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new So("app","Firebase",PA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=LA;function Bv(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:vd,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw xs.create("bad-app-name",{appName:String(o)});if(i||(i=Uv()),!i)throw xs.create("no-options");const h=Ac.get(o);if(h){if(Nr(i,h.options)&&Nr(r,h.config))return h;throw xs.create("duplicate-app",{appName:o})}const d=new QS(o);for(const v of Ed.values())d.addComponent(v);const y=new BA(i,r,d);return Ac.set(o,y),y}function qv(a=vd){const t=Ac.get(a);if(!t&&a===vd&&Uv())return Bv();if(!t)throw xs.create("no-app",{appName:a});return t}function Ls(a,t,i){let r=kA[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=t.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${t}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(d.join(" "));return}La(new Or(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="firebase-heartbeat-database",jA=1,go="firebase-heartbeat-store";let ad=null;function jv(){return ad||(ad=rA(qA,jA,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(go)}catch(i){console.warn(i)}}}}).catch(a=>{throw xs.create("idb-open",{originalErrorMessage:a.message})})),ad}async function HA(a){try{const i=(await jv()).transaction(go),r=await i.objectStore(go).get(Hv(a));return await i.done,r}catch(t){if(t instanceof Yi)Hi.warn(t.message);else{const i=xs.create("idb-get",{originalErrorMessage:t?.message});Hi.warn(i.message)}}}async function c_(a,t){try{const r=(await jv()).transaction(go,"readwrite");await r.objectStore(go).put(t,Hv(a)),await r.done}catch(i){if(i instanceof Yi)Hi.warn(i.message);else{const r=xs.create("idb-set",{originalErrorMessage:i?.message});Hi.warn(r.message)}}}function Hv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=1024,FA=30;class QA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new KA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=h_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>FA){const o=XA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=h_(),{heartbeatsToSend:i,unsentEntries:r}=YA(this._heartbeatsCache.heartbeats),o=Sc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Hi.warn(t),""}}}function h_(){return new Date().toISOString().substring(0,10)}function YA(a,t=GA){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),f_(i)>t){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),f_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class KA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return US()?xS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await HA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return c_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return c_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function f_(a){return Sc(JSON.stringify({version:2,heartbeats:a})).length}function XA(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(a){La(new Or("platform-logger",t=>new oA(t),"PRIVATE")),La(new Or("heartbeat",t=>new QA(t),"PRIVATE")),Ls(_d,o_,a),Ls(_d,o_,"esm2020"),Ls("fire-js","")}ZA("");var JA="firebase",$A="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(JA,$A,"app");function Gv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WA=Gv,Fv=new So("auth","Firebase",Gv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Gd("@firebase/auth");function t1(a,...t){bc.logLevel<=Ot.WARN&&bc.warn(`Auth (${Qa}): ${a}`,...t)}function dc(a,...t){bc.logLevel<=Ot.ERROR&&bc.error(`Auth (${Qa}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(a,...t){throw Yd(a,...t)}function yi(a,...t){return Yd(a,...t)}function Qv(a,t,i){const r={...WA(),[t]:i};return new So("auth","Firebase",r).create(t,{appName:a.name})}function wr(a){return Qv(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yd(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return Fv.create(a,...t)}function mt(a,t,...i){if(!a)throw Yd(t,...i)}function qi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw dc(t),new Error(t)}function Fi(a,t){a||qi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(){return typeof self<"u"&&self.location?.href||""}function e1(){return d_()==="http:"||d_()==="https:"}function d_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e1()||NS()||"connection"in navigator)?navigator.onLine:!0}function i1(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,i){this.shortDelay=t,this.longDelay=i,Fi(i>t,"Short delay should be less than long delay!"),this.isMobile=CS()||OS()}get(){return n1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(a,t){Fi(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],a1=new bo(3e4,6e4);function Xd(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function Ya(a,t,i,r,o={}){return Kv(a,o,async()=>{let h={},d={};r&&(t==="GET"?d=r:h={body:JSON.stringify(r)});const y=Ao({key:a.config.apiKey,...d}).slice(1),v=await a._getAdditionalHeaders();v["Content-Type"]="application/json",a.languageCode&&(v["X-Firebase-Locale"]=a.languageCode);const _={method:t,headers:v,...h};return DS()||(_.referrerPolicy="no-referrer"),a.emulatorConfig&&Fa(a.emulatorConfig.host)&&(_.credentials="include"),Yv.fetch()(await Xv(a,a.config.apiHost,i,y),_)})}async function Kv(a,t,i){a._canInitEmulator=!1;const r={...s1,...t};try{const o=new o1(a),h=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw lc(a,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const y=h.ok?d.errorMessage:d.error.message,[v,_]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw lc(a,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw lc(a,"email-already-in-use",d);if(v==="USER_DISABLED")throw lc(a,"user-disabled",d);const S=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Qv(a,S,_);Gi(a,S)}}catch(o){if(o instanceof Yi)throw o;Gi(a,"network-request-failed",{message:String(o)})}}async function l1(a,t,i,r,o={}){const h=await Ya(a,t,i,r,o);return"mfaPendingCredential"in h&&Gi(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function Xv(a,t,i,r){const o=`${t}${i}?${r}`,h=a,d=h.config.emulator?Kd(a.config,o):`${a.config.apiScheme}://${o}`;return r1.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class o1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),a1.get())})}}function lc(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=yi(a,t,r);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(a,t){return Ya(a,"POST","/v1/accounts:delete",t)}async function Rc(a,t){return Ya(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function c1(a,t=!1){const i=Vr(a),r=await i.getIdToken(t),o=Zd(r);mt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const h=typeof o.firebase=="object"?o.firebase:void 0,d=h?.sign_in_provider;return{claims:o,token:r,authTime:oo(ld(o.auth_time)),issuedAtTime:oo(ld(o.iat)),expirationTime:oo(ld(o.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function ld(a){return Number(a)*1e3}function Zd(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Mv(i);return o?JSON.parse(o):(dc("Failed to decode base64 JWT payload"),null)}catch(o){return dc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function m_(a){const t=Zd(a);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Yi&&h1(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function h1({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=oo(this.lastLoginAt),this.creationTime=oo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(a){const t=a.auth,i=await a.getIdToken(),r=await po(a,Rc(t,{idToken:i}));mt(r?.users.length,t,"internal-error");const o=r.users[0];a._notifyReloadListener(o);const h=o.providerUserInfo?.length?Zv(o.providerUserInfo):[],d=m1(a.providerData,h),y=a.isAnonymous,v=!(a.email&&o.passwordHash)&&!d?.length,_=y?v:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Sd(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(a,S)}async function d1(a){const t=Vr(a);await wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function m1(a,t){return[...a.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function Zv(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(a,t){const i=await Kv(a,{},async()=>{const r=Ao({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:h}=a.config,d=await Xv(a,o,"/v1/token",`key=${h}`),y=await a._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:r};return a.emulatorConfig&&Fa(a.emulatorConfig.host)&&(v.credentials="include"),Yv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function p1(a,t){return Ya(a,"POST","/v2/accounts:revokeToken",Xd(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):m_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=m_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:o,expiresIn:h}=await g1(t,i);this.updateTokensAndExpiration(r,o,Number(h))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:o,expirationTime:h}=i,d=new Na;return r&&(mt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),o&&(mt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),h&&(mt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Na,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(a,t){mt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Gn{constructor({uid:t,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new f1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await po(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return c1(this,t)}reload(){return d1(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Gn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await wc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mi(this.auth.app))return Promise.reject(wr(this.auth));const t=await this.getIdToken();return await po(this,u1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,o=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:C,emailVerified:x,isAnonymous:K,providerData:tt,stsTokenManager:st}=i;mt(C&&st,t,"internal-error");const W=Na.fromJSON(this.name,st);mt(typeof C=="string",t,"internal-error"),Cs(r,t.name),Cs(o,t.name),mt(typeof x=="boolean",t,"internal-error"),mt(typeof K=="boolean",t,"internal-error"),Cs(h,t.name),Cs(d,t.name),Cs(y,t.name),Cs(v,t.name),Cs(_,t.name),Cs(S,t.name);const ut=new Gn({uid:C,auth:t,email:o,emailVerified:x,displayName:r,isAnonymous:K,photoURL:d,phoneNumber:h,tenantId:y,stsTokenManager:W,createdAt:_,lastLoginAt:S});return tt&&Array.isArray(tt)&&(ut.providerData=tt.map(dt=>({...dt}))),v&&(ut._redirectEventId=v),ut}static async _fromIdTokenResponse(t,i,r=!1){const o=new Na;o.updateFromServerResponse(i);const h=new Gn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await wc(h),h}static async _fromGetAccountInfoResponse(t,i,r){const o=i.users[0];mt(o.localId!==void 0,"internal-error");const h=o.providerUserInfo!==void 0?Zv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!h?.length,y=new Na;y.updateFromIdToken(r);const v=new Gn({uid:o.localId,auth:t,stsTokenManager:y,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Sd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!h?.length};return Object.assign(v,_),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new Map;function ji(a){Fi(a instanceof Function,"Expected a class definition");let t=g_.get(a);return t?(Fi(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,g_.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Jv.type="NONE";const p_=Jv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(a,t,i){return`firebase:${a}:${t}:${i}`}class Oa{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:o,name:h}=this.auth;this.fullUserKey=mc(this.userKey,o.apiKey,h),this.fullPersistenceKey=mc("persistence",o.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Rc(this.auth,{idToken:t}).catch(()=>{});return i?Gn._fromGetAccountInfoResponse(this.auth,i,t):null}return Gn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Oa(ji(p_),t,r);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=o[0]||ji(p_);const d=mc(r,t.config.apiKey,t.name);let y=null;for(const _ of i)try{const S=await _._get(d);if(S){let C;if(typeof S=="string"){const x=await Rc(t,{idToken:S}).catch(()=>{});if(!x)break;C=await Gn._fromGetAccountInfoResponse(t,x,S)}else C=Gn._fromJSON(t,S);_!==h&&(y=C),h=_;break}}catch{}const v=o.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new Oa(h,t,r):(h=v[0],y&&await h._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new Oa(h,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($v(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(iE(t))return"Blackberry";if(sE(t))return"Webos";if(Wv(t))return"Safari";if((t.includes("chrome/")||tE(t))&&!t.includes("edge/"))return"Chrome";if(nE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function $v(a=Ke()){return/firefox\//i.test(a)}function Wv(a=Ke()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tE(a=Ke()){return/crios\//i.test(a)}function eE(a=Ke()){return/iemobile/i.test(a)}function nE(a=Ke()){return/android/i.test(a)}function iE(a=Ke()){return/blackberry/i.test(a)}function sE(a=Ke()){return/webos/i.test(a)}function Jd(a=Ke()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function y1(a=Ke()){return Jd(a)&&!!window.navigator?.standalone}function _1(){return MS()&&document.documentMode===10}function rE(a=Ke()){return Jd(a)||nE(a)||sE(a)||iE(a)||/windows phone/i.test(a)||eE(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(a,t=[]){let i;switch(a){case"Browser":i=y_(Ke());break;case"Worker":i=`${y_(Ke())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Qa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=h=>new Promise((d,y)=>{try{const v=t(h);d(v)}catch(v){y(v)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(a,t={}){return Ya(a,"GET","/v2/passwordPolicy",Xd(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=6;class S1{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??T1,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,o,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,i,r,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new __(this),this.idTokenSubscription=new __(this),this.beforeStateQueue=new v1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Oa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Rc(this,{idToken:t}),r=await Gn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(mi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=r?._redirectEventId,y=await this.tryRedirectSignIn(t);(!h||h===d)&&y?.user&&(r=y.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(h){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await wc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=i1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(mi(this.app))return Promise.reject(wr(this));const i=t?Vr(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return mi(this.app)?Promise.reject(wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return mi(this.app)?Promise.reject(wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await E1(this),i=new S1(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new So("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await p1(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ji(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await Oa.create(this,[ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,o){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(y,this,"internal-error"),y.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,r,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=aE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&t1(`Error while retrieving App Check token: ${t.error}`),t?.token}}function $d(a){return Vr(a)}class __{constructor(t){this.auth=t,this.observer=null,this.addObserver=BS(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b1(a){Wd=a}function R1(a){return Wd.loadJS(a)}function w1(){return Wd.gapiScript}function C1(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(a,t){const i=Qd(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),h=i.getOptions();if(Nr(h,t??{}))return o;Gi(o,"already-initialized")}return i.initialize({options:t})}function D1(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ji);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function N1(a,t,i){const r=$d(a);mt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,h=lE(t),{host:d,port:y}=O1(t),v=y===null?"":`:${y}`,_={url:`${h}//${d}${v}/`},S=Object.freeze({host:d,port:y,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){mt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),mt(Nr(_,r.config.emulator)&&Nr(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,Fa(d)?(Lv(`${h}//${d}${v}`),kv("Auth",!0)):M1()}function lE(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function O1(a){const t=lE(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const h=o[1];return{host:h,port:v_(r.substr(h.length+1))}}else{const[h,d]=r.split(":");return{host:h,port:v_(d)}}}function v_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function M1(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return qi("not implemented")}_getIdTokenResponse(t){return qi("not implemented")}_linkToIdToken(t,i){return qi("not implemented")}_getReauthenticationResolver(t){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(a,t){return l1(a,"POST","/v1/accounts:signInWithIdp",Xd(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="http://localhost";class Mr extends oE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Mr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Gi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...h}=i;if(!r||!o)return null;const d=new Mr(r,o);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ma(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Ma(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ma(t,i)}buildRequest(){const t={requestUri:V1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ao(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends uE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Ro{constructor(){super("facebook.com")}static credential(t){return Mr._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Is.credentialFromTaggedObject(t)}static credentialFromError(t){return Is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Is.credential(t.oauthAccessToken)}catch{return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com";Is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Ro{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Mr._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ds.credentialFromTaggedObject(t)}static credentialFromError(t){return Ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Ds.credential(i,r)}catch{return null}}}Ds.GOOGLE_SIGN_IN_METHOD="google.com";Ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Ro{constructor(){super("github.com")}static credential(t){return Mr._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ns.credentialFromTaggedObject(t)}static credentialFromError(t){return Ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ns.credential(t.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Ro{constructor(){super("twitter.com")}static credential(t,i){return Mr._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Os.credentialFromTaggedObject(t)}static credentialFromError(t){return Os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Os.credential(i,r)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,o=!1){const h=await Gn._fromIdTokenResponse(t,r,o),d=E_(r);return new ka({user:h,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const o=E_(r);return new ka({user:t,providerId:o,_tokenResponse:r,operationType:i})}}function E_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends Yi{constructor(t,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Cc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,o){return new Cc(t,i,r,o)}}function cE(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Cc._fromErrorAndOperation(a,h,t,r):h})}async function U1(a,t,i=!1){const r=await po(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return ka._forOperation(a,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(a,t,i=!1){const{auth:r}=a;if(mi(r.app))return Promise.reject(wr(r));const o="reauthenticate";try{const h=await po(a,cE(r,o,t,a),i);mt(h.idToken,r,"internal-error");const d=Zd(h.idToken);mt(d,r,"internal-error");const{sub:y}=d;return mt(a.uid===y,r,"user-mismatch"),ka._forOperation(a,o,h)}catch(h){throw h?.code==="auth/user-not-found"&&Gi(r,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(a,t,i=!1){if(mi(a.app))return Promise.reject(wr(a));const r="signIn",o=await cE(a,r,t),h=await ka._fromIdTokenResponse(a,r,o);return i||await a._updateCurrentUser(h.user),h}function k1(a,t,i,r){return Vr(a).onIdTokenChanged(t,i,r)}function z1(a,t,i){return Vr(a).beforeAuthStateChanged(t,i)}const Ic="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Ic,"1"),this.storage.removeItem(Ic),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=1e3,B1=10;class fE extends hE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const r=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},h=this.storage.getItem(r);_1()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,B1):o()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},P1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}fE.type="LOCAL";const q1=fE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE extends hE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}dE.type="SESSION";const mE=dE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new zc(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:o,data:h}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const y=Array.from(d).map(async _=>_(i.origin,h)),v=await j1(y);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let h,d;return new Promise((y,v)=>{const _=tm("",20);o.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(C){const x=C;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(S),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),y(x.data.response);break;default:clearTimeout(S),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function G1(a){_i().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function F1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q1(){return navigator?.serviceWorker?.controller||null}function Y1(){return gE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="firebaseLocalStorageDb",K1=1,Dc="firebaseLocalStorage",yE="fbase_key";class wo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Pc(a,t){return a.transaction([Dc],t?"readwrite":"readonly").objectStore(Dc)}function X1(){const a=indexedDB.deleteDatabase(pE);return new wo(a).toPromise()}function Ad(){const a=indexedDB.open(pE,K1);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(Dc,{keyPath:yE})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(Dc)?t(r):(r.close(),await X1(),t(await Ad()))})})}async function T_(a,t,i){const r=Pc(a,!0).put({[yE]:t,value:i});return new wo(r).toPromise()}async function Z1(a,t){const i=Pc(a,!1).get(t),r=await new wo(i).toPromise();return r===void 0?null:r.value}function S_(a,t){const i=Pc(a,!0).delete(t);return new wo(i).toPromise()}const J1=800,$1=3;class _E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ad(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>$1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zc._getInstance(Y1()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await F1(),!this.activeServiceWorker)return;this.sender=new H1(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Q1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ad();return await T_(t,Ic,"1"),await S_(t,Ic),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>T_(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>Z1(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>S_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const h=Pc(o,!1).getAll();return new wo(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:h}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(h)&&(this.notifyListeners(o,h),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_E.type="LOCAL";const W1=_E;new bo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(a,t){return t?ji(t):(mt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em extends oE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ma(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ma(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ma(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function eb(a){return L1(a.auth,new em(a),a.bypassAuthState)}function nb(a){const{auth:t,user:i}=a;return mt(i,t,"internal-error"),x1(i,new em(a),a.bypassAuthState)}async function ib(a){const{auth:t,user:i}=a;return mt(i,t,"internal-error"),U1(i,new em(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t,i,r,o,h=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:o,tenantId:h,error:d,type:y}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:r,tenantId:h||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eb;case"linkViaPopup":case"linkViaRedirect":return ib;case"reauthViaPopup":case"reauthViaRedirect":return nb;default:Gi(this.auth,"internal-error")}}resolve(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=new bo(2e3,1e4);class Da extends vE{constructor(t,i,r,o,h){super(t,i,o,h),this.provider=r,this.authWindow=null,this.pollId=null,Da.currentPopupAction&&Da.currentPopupAction.cancel(),Da.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const t=tm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Da.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,sb.get())};t()}}Da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="pendingRedirect",gc=new Map;class ab extends vE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=gc.get(this.auth._key());if(!t){try{const r=await lb(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}gc.set(this.auth._key(),t)}return this.bypassAuthState||gc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lb(a,t){const i=cb(t),r=ub(a);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function ob(a,t){gc.set(a._key(),t)}function ub(a){return ji(a._redirectPersistence)}function cb(a){return mc(rb,a.config.apiKey,a.name)}async function hb(a,t,i=!1){if(mi(a.app))return Promise.reject(wr(a));const r=$d(a),o=tb(r,t),d=await new ab(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=600*1e3;class db{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mb(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!EE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(yi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fb&&this.cachedEventUids.clear(),this.cachedEventUids.has(A_(t))}saveEventToCache(t){this.cachedEventUids.add(A_(t)),this.lastProcessedEventTime=Date.now()}}function A_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function EE({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function mb(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EE(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(a,t={}){return Ya(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yb=/^https?/;async function _b(a){if(a.config.emulator)return;const{authorizedDomains:t}=await gb(a);for(const i of t)try{if(vb(i))return}catch{}Gi(a,"unauthorized-domain")}function vb(a){const t=Td(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!yb.test(i))return!1;if(pb.test(a))return r===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new bo(3e4,6e4);function b_(){const a=_i().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function Tb(a){return new Promise((t,i)=>{function r(){b_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{b_(),i(yi(a,"network-request-failed"))},timeout:Eb.get()})}if(_i().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(_i().gapi?.load)r();else{const o=C1("iframefcb");return _i()[o]=()=>{gapi.load?r():i(yi(a,"network-request-failed"))},R1(`${w1()}?onload=${o}`).catch(h=>i(h))}}).catch(t=>{throw pc=null,t})}let pc=null;function Sb(a){return pc=pc||Tb(a),pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new bo(5e3,15e3),bb="__/auth/iframe",Rb="emulator/auth/iframe",wb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ib(a){const t=a.config;mt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Kd(t,Rb):`https://${a.config.authDomain}/${bb}`,r={apiKey:t.apiKey,appName:a.name,v:Qa},o=Cb.get(a.config.apiHost);o&&(r.eid=o);const h=a._getFrameworks();return h.length&&(r.fw=h.join(",")),`${i}?${Ao(r).slice(1)}`}async function Db(a){const t=await Sb(a),i=_i().gapi;return mt(i,a,"internal-error"),t.open({where:document.body,url:Ib(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wb,dontclear:!0},r=>new Promise(async(o,h)=>{await r.restyle({setHideOnLeave:!1});const d=yi(a,"network-request-failed"),y=_i().setTimeout(()=>{h(d)},Ab.get());function v(){_i().clearTimeout(y),o(r)}r.ping(v).then(v,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ob=500,Mb=600,Vb="_blank",Ub="http://localhost";class R_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xb(a,t,i,r=Ob,o=Mb){const h=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let y="";const v={...Nb,width:r.toString(),height:o.toString(),top:h,left:d},_=Ke().toLowerCase();i&&(y=tE(_)?Vb:i),$v(_)&&(t=t||Ub,v.scrollbars="yes");const S=Object.entries(v).reduce((x,[K,tt])=>`${x}${K}=${tt},`,"");if(y1(_)&&y!=="_self")return Lb(t||"",y),new R_(null);const C=window.open(t||"",y,S);mt(C,a,"popup-blocked");try{C.focus()}catch{}return new R_(C)}function Lb(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="__/auth/handler",zb="emulator/auth/handler",Pb=encodeURIComponent("fac");async function w_(a,t,i,r,o,h){mt(a.config.authDomain,a,"auth-domain-config-required"),mt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:Qa,eventId:o};if(t instanceof uE){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",PS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,C]of Object.entries({}))d[S]=C}if(t instanceof Ro){const S=t.getScopes().filter(C=>C!=="");S.length>0&&(d.scopes=S.join(","))}a.tenantId&&(d.tid=a.tenantId);const y=d;for(const S of Object.keys(y))y[S]===void 0&&delete y[S];const v=await a._getAppCheckToken(),_=v?`#${Pb}=${encodeURIComponent(v)}`:"";return`${Bb(a)}?${Ao(y).slice(1)}${_}`}function Bb({config:a}){return a.emulator?Kd(a,zb):`https://${a.authDomain}/${kb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="webStorageSupport";class qb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mE,this._completeRedirectFn=hb,this._overrideRedirectResult=ob}async _openPopup(t,i,r,o){Fi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await w_(t,i,r,Td(),o);return xb(t,h,tm())}async _openRedirect(t,i,r,o){await this._originValidation(t);const h=await w_(t,i,r,Td(),o);return G1(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:h}=this.eventManagers[i];return o?Promise.resolve(o):(Fi(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await Db(t),r=new db(t);return i.register("authEvent",o=>(mt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(od,{type:od},o=>{const h=o?.[0]?.[od];h!==void 0&&i(!!h),Gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=_b(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return rE()||Wv()||Jd()}}const jb=qb;var C_="@firebase/auth",I_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fb(a){La(new Or("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=r.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:d,authDomain:y,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aE(a)},_=new A1(r,o,h,v);return D1(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),La(new Or("auth-internal",t=>{const i=$d(t.getProvider("auth").getImmediate());return(r=>new Hb(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(C_,I_,Gb(a)),Ls(C_,I_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=300,Yb=xv("authIdTokenMaxAge")||Qb;let D_=null;const Kb=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>Yb)return;const o=i?.token;D_!==o&&(D_=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Xb(a=qv()){const t=Qd(a,"auth");if(t.isInitialized())return t.getImmediate();const i=I1(a,{popupRedirectResolver:jb,persistence:[W1,q1,mE]}),r=xv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(r,location.origin);if(location.origin===h.origin){const d=Kb(h.toString());z1(i,d,()=>d(i.currentUser)),k1(i,y=>d(y))}}const o=Vv("auth");return o&&N1(i,`http://${o}`),i}function Zb(){return document.getElementsByTagName("head")?.[0]??document}b1({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=o=>{const h=yi("internal-error");h.customData=o,i(h)},r.type="text/javascript",r.charset="UTF-8",Zb().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fb("Browser");var N_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,TE;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,A){function w(){}w.prototype=A.prototype,I.F=A.prototype,I.prototype=new w,I.prototype.constructor=I,I.D=function(M,N,U){for(var b=Array(arguments.length-2),te=2;te<arguments.length;te++)b[te-2]=arguments[te];return A.prototype[N].apply(M,b)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,w){w||(w=0);const M=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)M[N]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(N=0;N<16;++N)M[N]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=I.g[0],w=I.g[1],N=I.g[2];let U=I.g[3],b;b=A+(U^w&(N^U))+M[0]+3614090360&4294967295,A=w+(b<<7&4294967295|b>>>25),b=U+(N^A&(w^N))+M[1]+3905402710&4294967295,U=A+(b<<12&4294967295|b>>>20),b=N+(w^U&(A^w))+M[2]+606105819&4294967295,N=U+(b<<17&4294967295|b>>>15),b=w+(A^N&(U^A))+M[3]+3250441966&4294967295,w=N+(b<<22&4294967295|b>>>10),b=A+(U^w&(N^U))+M[4]+4118548399&4294967295,A=w+(b<<7&4294967295|b>>>25),b=U+(N^A&(w^N))+M[5]+1200080426&4294967295,U=A+(b<<12&4294967295|b>>>20),b=N+(w^U&(A^w))+M[6]+2821735955&4294967295,N=U+(b<<17&4294967295|b>>>15),b=w+(A^N&(U^A))+M[7]+4249261313&4294967295,w=N+(b<<22&4294967295|b>>>10),b=A+(U^w&(N^U))+M[8]+1770035416&4294967295,A=w+(b<<7&4294967295|b>>>25),b=U+(N^A&(w^N))+M[9]+2336552879&4294967295,U=A+(b<<12&4294967295|b>>>20),b=N+(w^U&(A^w))+M[10]+4294925233&4294967295,N=U+(b<<17&4294967295|b>>>15),b=w+(A^N&(U^A))+M[11]+2304563134&4294967295,w=N+(b<<22&4294967295|b>>>10),b=A+(U^w&(N^U))+M[12]+1804603682&4294967295,A=w+(b<<7&4294967295|b>>>25),b=U+(N^A&(w^N))+M[13]+4254626195&4294967295,U=A+(b<<12&4294967295|b>>>20),b=N+(w^U&(A^w))+M[14]+2792965006&4294967295,N=U+(b<<17&4294967295|b>>>15),b=w+(A^N&(U^A))+M[15]+1236535329&4294967295,w=N+(b<<22&4294967295|b>>>10),b=A+(N^U&(w^N))+M[1]+4129170786&4294967295,A=w+(b<<5&4294967295|b>>>27),b=U+(w^N&(A^w))+M[6]+3225465664&4294967295,U=A+(b<<9&4294967295|b>>>23),b=N+(A^w&(U^A))+M[11]+643717713&4294967295,N=U+(b<<14&4294967295|b>>>18),b=w+(U^A&(N^U))+M[0]+3921069994&4294967295,w=N+(b<<20&4294967295|b>>>12),b=A+(N^U&(w^N))+M[5]+3593408605&4294967295,A=w+(b<<5&4294967295|b>>>27),b=U+(w^N&(A^w))+M[10]+38016083&4294967295,U=A+(b<<9&4294967295|b>>>23),b=N+(A^w&(U^A))+M[15]+3634488961&4294967295,N=U+(b<<14&4294967295|b>>>18),b=w+(U^A&(N^U))+M[4]+3889429448&4294967295,w=N+(b<<20&4294967295|b>>>12),b=A+(N^U&(w^N))+M[9]+568446438&4294967295,A=w+(b<<5&4294967295|b>>>27),b=U+(w^N&(A^w))+M[14]+3275163606&4294967295,U=A+(b<<9&4294967295|b>>>23),b=N+(A^w&(U^A))+M[3]+4107603335&4294967295,N=U+(b<<14&4294967295|b>>>18),b=w+(U^A&(N^U))+M[8]+1163531501&4294967295,w=N+(b<<20&4294967295|b>>>12),b=A+(N^U&(w^N))+M[13]+2850285829&4294967295,A=w+(b<<5&4294967295|b>>>27),b=U+(w^N&(A^w))+M[2]+4243563512&4294967295,U=A+(b<<9&4294967295|b>>>23),b=N+(A^w&(U^A))+M[7]+1735328473&4294967295,N=U+(b<<14&4294967295|b>>>18),b=w+(U^A&(N^U))+M[12]+2368359562&4294967295,w=N+(b<<20&4294967295|b>>>12),b=A+(w^N^U)+M[5]+4294588738&4294967295,A=w+(b<<4&4294967295|b>>>28),b=U+(A^w^N)+M[8]+2272392833&4294967295,U=A+(b<<11&4294967295|b>>>21),b=N+(U^A^w)+M[11]+1839030562&4294967295,N=U+(b<<16&4294967295|b>>>16),b=w+(N^U^A)+M[14]+4259657740&4294967295,w=N+(b<<23&4294967295|b>>>9),b=A+(w^N^U)+M[1]+2763975236&4294967295,A=w+(b<<4&4294967295|b>>>28),b=U+(A^w^N)+M[4]+1272893353&4294967295,U=A+(b<<11&4294967295|b>>>21),b=N+(U^A^w)+M[7]+4139469664&4294967295,N=U+(b<<16&4294967295|b>>>16),b=w+(N^U^A)+M[10]+3200236656&4294967295,w=N+(b<<23&4294967295|b>>>9),b=A+(w^N^U)+M[13]+681279174&4294967295,A=w+(b<<4&4294967295|b>>>28),b=U+(A^w^N)+M[0]+3936430074&4294967295,U=A+(b<<11&4294967295|b>>>21),b=N+(U^A^w)+M[3]+3572445317&4294967295,N=U+(b<<16&4294967295|b>>>16),b=w+(N^U^A)+M[6]+76029189&4294967295,w=N+(b<<23&4294967295|b>>>9),b=A+(w^N^U)+M[9]+3654602809&4294967295,A=w+(b<<4&4294967295|b>>>28),b=U+(A^w^N)+M[12]+3873151461&4294967295,U=A+(b<<11&4294967295|b>>>21),b=N+(U^A^w)+M[15]+530742520&4294967295,N=U+(b<<16&4294967295|b>>>16),b=w+(N^U^A)+M[2]+3299628645&4294967295,w=N+(b<<23&4294967295|b>>>9),b=A+(N^(w|~U))+M[0]+4096336452&4294967295,A=w+(b<<6&4294967295|b>>>26),b=U+(w^(A|~N))+M[7]+1126891415&4294967295,U=A+(b<<10&4294967295|b>>>22),b=N+(A^(U|~w))+M[14]+2878612391&4294967295,N=U+(b<<15&4294967295|b>>>17),b=w+(U^(N|~A))+M[5]+4237533241&4294967295,w=N+(b<<21&4294967295|b>>>11),b=A+(N^(w|~U))+M[12]+1700485571&4294967295,A=w+(b<<6&4294967295|b>>>26),b=U+(w^(A|~N))+M[3]+2399980690&4294967295,U=A+(b<<10&4294967295|b>>>22),b=N+(A^(U|~w))+M[10]+4293915773&4294967295,N=U+(b<<15&4294967295|b>>>17),b=w+(U^(N|~A))+M[1]+2240044497&4294967295,w=N+(b<<21&4294967295|b>>>11),b=A+(N^(w|~U))+M[8]+1873313359&4294967295,A=w+(b<<6&4294967295|b>>>26),b=U+(w^(A|~N))+M[15]+4264355552&4294967295,U=A+(b<<10&4294967295|b>>>22),b=N+(A^(U|~w))+M[6]+2734768916&4294967295,N=U+(b<<15&4294967295|b>>>17),b=w+(U^(N|~A))+M[13]+1309151649&4294967295,w=N+(b<<21&4294967295|b>>>11),b=A+(N^(w|~U))+M[4]+4149444226&4294967295,A=w+(b<<6&4294967295|b>>>26),b=U+(w^(A|~N))+M[11]+3174756917&4294967295,U=A+(b<<10&4294967295|b>>>22),b=N+(A^(U|~w))+M[2]+718787259&4294967295,N=U+(b<<15&4294967295|b>>>17),b=w+(U^(N|~A))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(N+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+U&4294967295}r.prototype.v=function(I,A){A===void 0&&(A=I.length);const w=A-this.blockSize,M=this.C;let N=this.h,U=0;for(;U<A;){if(N==0)for(;U<=w;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<A;)if(M[N++]=I.charCodeAt(U++),N==this.blockSize){o(this,M),N=0;break}}else for(;U<A;)if(M[N++]=I[U++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=A},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var w=I.length-8;w<I.length;++w)I[w]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,w=0;w<4;++w)for(let M=0;M<32;M+=8)I[A++]=this.g[w]>>>M&255;return I};function h(I,A){var w=y;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=A(I)}function d(I,A){this.h=A;const w=[];let M=!0;for(let N=I.length-1;N>=0;N--){const U=I[N]|0;M&&U==A||(w[N]=U,M=!1)}this.g=w}var y={};function v(I){return-128<=I&&I<128?h(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return C;if(I<0)return W(_(-I));const A=[];let w=1;for(let M=0;I>=w;M++)A[M]=I/w|0,w*=4294967296;return new d(A,0)}function S(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return W(S(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(A,8));let M=C;for(let U=0;U<I.length;U+=8){var N=Math.min(8,I.length-U);const b=parseInt(I.substring(U,U+N),A);N<8?(N=_(Math.pow(A,N)),M=M.j(N).add(_(b))):(M=M.j(w),M=M.add(_(b)))}return M}var C=v(0),x=v(1),K=v(16777216);a=d.prototype,a.m=function(){if(st(this))return-W(this).m();let I=0,A=1;for(let w=0;w<this.g.length;w++){const M=this.i(w);I+=(M>=0?M:4294967296+M)*A,A*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(tt(this))return"0";if(st(this))return"-"+W(this).toString(I);const A=_(Math.pow(I,6));var w=this;let M="";for(;;){const N=pt(w,A).g;w=ut(w,N.j(A));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(I);if(w=N,tt(w))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function tt(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function st(I){return I.h==-1}a.l=function(I){return I=ut(this,I),st(I)?-1:tt(I)?0:1};function W(I){const A=I.g.length,w=[];for(let M=0;M<A;M++)w[M]=~I.g[M];return new d(w,~I.h).add(x)}a.abs=function(){return st(this)?W(this):this},a.add=function(I){const A=Math.max(this.g.length,I.g.length),w=[];let M=0;for(let N=0;N<=A;N++){let U=M+(this.i(N)&65535)+(I.i(N)&65535),b=(U>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=b>>>16,U&=65535,b&=65535,w[N]=b<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ut(I,A){return I.add(W(A))}a.j=function(I){if(tt(this)||tt(I))return C;if(st(this))return st(I)?W(this).j(W(I)):W(W(this).j(I));if(st(I))return W(this.j(W(I)));if(this.l(K)<0&&I.l(K)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,w=[];for(var M=0;M<2*A;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<I.g.length;N++){const U=this.i(M)>>>16,b=this.i(M)&65535,te=I.i(N)>>>16,we=I.i(N)&65535;w[2*M+2*N]+=b*we,dt(w,2*M+2*N),w[2*M+2*N+1]+=U*we,dt(w,2*M+2*N+1),w[2*M+2*N+1]+=b*te,dt(w,2*M+2*N+1),w[2*M+2*N+2]+=U*te,dt(w,2*M+2*N+2)}for(I=0;I<A;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=A;I<2*A;I++)w[I]=0;return new d(w,0)};function dt(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function at(I,A){this.g=I,this.h=A}function pt(I,A){if(tt(A))throw Error("division by zero");if(tt(I))return new at(C,C);if(st(I))return A=pt(W(I),A),new at(W(A.g),W(A.h));if(st(A))return A=pt(I,W(A)),new at(W(A.g),A.h);if(I.g.length>30){if(st(I)||st(A))throw Error("slowDivide_ only works with positive integers.");for(var w=x,M=A;M.l(I)<=0;)w=wt(w),M=wt(M);var N=yt(w,1),U=yt(M,1);for(M=yt(M,2),w=yt(w,2);!tt(M);){var b=U.add(M);b.l(I)<=0&&(N=N.add(w),U=b),M=yt(M,1),w=yt(w,1)}return A=ut(I,N.j(A)),new at(N,A)}for(N=C;I.l(A)>=0;){for(w=Math.max(1,Math.floor(I.m()/A.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=_(w),b=U.j(A);st(b)||b.l(I)>0;)w-=M,U=_(w),b=U.j(A);tt(U)&&(U=x),N=N.add(U),I=ut(I,b)}return new at(N,I)}a.B=function(I){return pt(this,I).h},a.and=function(I){const A=Math.max(this.g.length,I.g.length),w=[];for(let M=0;M<A;M++)w[M]=this.i(M)&I.i(M);return new d(w,this.h&I.h)},a.or=function(I){const A=Math.max(this.g.length,I.g.length),w=[];for(let M=0;M<A;M++)w[M]=this.i(M)|I.i(M);return new d(w,this.h|I.h)},a.xor=function(I){const A=Math.max(this.g.length,I.g.length),w=[];for(let M=0;M<A;M++)w[M]=this.i(M)^I.i(M);return new d(w,this.h^I.h)};function wt(I){const A=I.g.length+1,w=[];for(let M=0;M<A;M++)w[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(w,I.h)}function yt(I,A){const w=A>>5;A%=32;const M=I.g.length-w,N=[];for(let U=0;U<M;U++)N[U]=A>0?I.i(U+w)>>>A|I.i(U+w+1)<<32-A:I.i(U+w);return new d(N,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,TE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,ks=d}).apply(typeof N_<"u"?N_:typeof self<"u"?self:typeof window<"u"?window:{});var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SE,io,AE,yc,bd,bE,RE,wE;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof oc=="object"&&oc];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function S(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function C(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var X=Array(arguments.length-2),St=2;St<arguments.length;St++)X[St-2]=arguments[St];return m.prototype[L].apply(T,X)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var p=typeof L;if(p=p!="object"?p:L?Array.isArray(L)?"array":p:"null",p=="array"||p=="object"&&typeof L.length=="number"){p=u.length||0;const B=L.length||0;u.length=p+B;for(let X=0;X<B;X++)u[p+X]=L[X]}else u.push(L)}}class st{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,p){const T=at.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var at=new st(()=>new pt,u=>u.reset());class pt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,yt=!1,I=new dt,A=()=>{const u=Promise.resolve(void 0);wt=()=>{u.then(w)}};function w(){for(var u;u=ut();){try{u.h.call(u.g)}catch(p){W(p)}var m=at;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}yt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function b(u){return/^[\s\xa0]*$/.test(u)}function te(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}C(te,N),te.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),H=0;function J(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function Ht(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function O(u){const m={};for(const p in u)m[p]=u[p];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let B=0;B<Q.length;B++)p=Q[B],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function et(u){this.src=u,this.g={},this.h=0}et.prototype.add=function(u,m,p,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const X=bt(u,m,T,L);return X>-1?(m=u[X],p||(m.fa=!1)):(m=new J(m,this.src,B,!!T,L),m.fa=p,u.push(m)),m};function gt(u,m){const p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ct(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function bt(u,m,p,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!p&&B.ha==T)return L}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ce={};function ee(u,m,p,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ee(u,m[B],p,T,L);return null}return p=Wa(p),u&&u[we]?u.J(m,p,y(T)?!!T.capture:!1,L):Ys(u,m,p,!1,T,L)}function Ys(u,m,p,T,L,B){if(!m)throw Error("Invalid event type");const X=y(L)?!!L.capture:!!L;let St=Ks(u);if(St||(u[Ut]=St=new et(u)),p=St.add(m,p,T,X,B),p.proxy)return p;if(T=xr(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)U||(L=X),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Fn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function xr(){function u(p){return m.call(u.src,u.listener,p)}const m=Ja;return u}function Lr(u,m,p,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Lr(u,m[B],p,T,L);else T=y(T)?!!T.capture:!!T,p=Wa(p),u&&u[we]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],p=bt(m,p,T,L),p>-1&&(ct(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Ks(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,p,T,L)),(p=u>-1?m[u]:null)&&kr(p))}function kr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])gt(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Fn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ks(m))?(gt(p,u),p.h==0&&(p.src=null,m[Ut]=null)):ct(u)}}}function Fn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function Ja(u,m){if(u.da)u=!0;else{m=new te(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&kr(u),u=p.call(T,m)}return u}function Ks(u){return u=u[Ut],u instanceof et?u:null}var $a="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wa(u){return typeof u=="function"?u:(u[$a]||(u[$a]=function(m){return u.handleEvent(m)}),u[$a])}function me(){M.call(this),this.i=new et(this),this.M=this,this.G=null}C(me,M),me.prototype[we]=!0,me.prototype.removeEventListener=function(u,m,p,T){Lr(this,u,m,p,T)};function Ie(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),$(m,L)}L=!0;let B,X;if(p)for(X=p.length-1;X>=0;X--)B=m.g=p[X],L=Ki(B,T,!0,m)&&L;if(B=m.g=u,L=Ki(B,T,!0,m)&&L,L=Ki(B,T,!1,m)&&L,p)for(X=0;X<p.length;X++)B=m.g=p[X],L=Ki(B,T,!1,m)&&L}me.prototype.N=function(){if(me.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)ct(p[T]);delete u.g[m],u.h--}}this.G=null},me.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},me.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function Ki(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const X=m[B];if(X&&!X.da&&X.capture==p){const St=X.listener,ue=X.ha||X.src;X.fa&&gt(u.i,X),L=St.call(ue,T)!==!1&&L}}return L&&!T.defaultPrevented}function Jc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Mo(u){u.g=Jc(()=>{u.g=null,u.i&&(u.i=!1,Mo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Xe extends M{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Mo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xs(u){M.call(this),this.h=u,this.g={}}C(Xs,M);var tl=[];function el(u){kt(u.g,function(m,p){this.g.hasOwnProperty(p)&&kr(m)},u),u.g={}}Xs.prototype.N=function(){Xs.Z.N.call(this),el(this)},Xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xi=d.JSON.stringify,$c=d.JSON.parse,Vo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Uo(){}function xo(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){N.call(this,"d")}C(Le,N);function _n(){N.call(this,"c")}C(_n,N);var oe={},Lo=null;function zr(){return Lo=Lo||new me}oe.Ia="serverreachability";function ko(u){N.call(this,oe.Ia,u)}C(ko,N);function Qn(u){const m=zr();Ie(m,new ko(m))}oe.STAT_EVENT="statevent";function Zs(u,m){N.call(this,oe.STAT_EVENT,u),this.stat=m}C(Zs,N);function ge(u){const m=zr();Ie(m,new Zs(m,u))}oe.Ja="timingevent";function Yn(u,m){N.call(this,oe.Ja,u),this.size=m}C(Yn,N);function Kn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Vn(){this.g=!0}Vn.prototype.ua=function(){this.g=!1};function Wc(u,m,p,T,L,B){u.info(function(){if(u.g)if(B){var X="",St=B.split("&");for(let qt=0;qt<St.length;qt++){var ue=St[qt].split("=");if(ue.length>1){const ne=ue[0];ue=ue[1];const Sn=ne.split("_");X=Sn.length>=2&&Sn[1]=="type"?X+(ne+"="+ue+"&"):X+(ne+"=redacted&")}}}else X=null;else X=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+X})}function zo(u,m,p,T,L,B,X){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+B+" "+X})}function Xn(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+th(u,p)+(T?" "+T:"")})}function Js(u,m){u.info(function(){return"TIMEOUT: "+m})}Vn.prototype.info=function(){};function th(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var p=B[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let X=1;X<T.length;X++)T[X]=""}}}}return Xi(B)}catch{return m}}var $s={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},nl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},il;function Ws(){}C(Ws,Uo),Ws.prototype.g=function(){return new XMLHttpRequest},il=new Ws;function Si(u){return encodeURIComponent(String(u))}function Po(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function Un(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new Xs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xn}function xn(){this.i=null,this.g="",this.h=!1}var pe={},Me={};function Zn(u,m,p){u.M=1,u.A=tr(_e(m)),u.u=p,u.R=!0,Pr(u,null)}function Pr(u,m){u.F=Date.now(),Jn(u),u.B=_e(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Hr(p.i,"t",T),u.C=0,p=u.j.L,u.h=new xn,u.g=tu(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Xe(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(tl[0]=L.toString()),L=tl);for(let B=0;B<L.length;B++){const X=ee(p,L[B],T||m.handleEvent,!1,m.h||m);if(!X)break;m.g[X.key]=X}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Qn(),Wc(u.i,u.v,u.B,u.l,u.S,u.u)}Un.prototype.ba=function(u){u=u.target;const m=this.O;m&&zn(u)==3?m.j():this.Y(u)},Un.prototype.Y=function(u){try{if(u==this.g)t:{const St=zn(this.g),ue=this.g.ya(),qt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||St!=4||ue==7||(ue==8||qt<=0?Qn(3):Qn(2)),$n(this);var m=this.g.ca();this.X=m;var p=eh(this);if(this.o=m==200,zo(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(T)){var B=T;break e}}B=null}if(u=B)Xn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wn(this,u);else{this.o=!1,this.m=3,ge(12),un(this),vn(this);break t}}if(this.R){u=!0;let ne;for(;!this.K&&this.C<p.length;)if(ne=qo(this,p),ne==Me){St==4&&(this.m=4,ge(14),u=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(ne==pe){this.m=4,ge(15),Xn(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else Xn(this.i,this.l,ne,null),Wn(this,ne);if(Bo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||p.length!=0||this.h.h||(this.m=1,ge(16),u=!1),this.o=this.o&&u,!u)Xn(this.i,this.l,p,"[Invalid Chunked Response]"),un(this),vn(this);else if(p.length>0&&!this.W){this.W=!0;var X=this.j;X.g==this&&X.aa&&!X.P&&(X.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),_l(X),X.P=!0,ge(11))}}else Xn(this.i,this.l,p,null),Wn(this,p);St==4&&un(this),this.o&&!this.K&&(St==4?Zo(this.j,this):(this.o=!1,Jn(this)))}else bi(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),un(this),vn(this)}}}catch{}finally{}};function eh(u){if(!Bo(u))return u.g.la();const m=ke(u.g);if(m==="")return"";let p="";const T=m.length,L=zn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),vn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,p+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function Bo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function qo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Me:(p=Number(m.substring(p,T)),isNaN(p)?pe:(T+=1,T+p>m.length?Me:(m=m.slice(T,T+p),u.C=T+p,m)))}Un.prototype.cancel=function(){this.K=!0,un(this)};function Jn(u){u.T=Date.now()+u.H,Br(u,u.H)}function Br(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Kn(_(u.aa,u),m)}function $n(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Un.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Js(this.i,this.B),this.M!=2&&(Qn(),ge(17)),un(this),this.m=2,vn(this)):Br(this,this.T-u)};function vn(u){u.j.I==0||u.K||Zo(u.j,u)}function un(u){$n(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,el(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Wn(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||ei(p.h,u))){if(!u.L&&ei(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)Kr(p),is(p);else break t;lr(p),ge(18)}}else p.xa=L[1],0<p.xa-p.K&&L[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Kn(_(p.Va,p),6e3));ti(p.h)<=1&&p.ta&&(p.ta=void 0)}else li(p,11)}else if((u.L||p.g==u)&&Kr(p),!b(m))for(L=p.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const ne=qt[0];if(!(ne<=p.K))if(p.K=ne,qt=qt[1],p.I==2)if(qt[0]=="c"){p.M=qt[1],p.ba=qt[2];const Sn=qt[3];Sn!=null&&(p.ka=Sn,p.j.info("VER="+p.ka));const oi=qt[4];oi!=null&&(p.za=oi,p.j.info("SVER="+p.za));const Pn=qt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(T=1.5*Pn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Bn=u.g;if(Bn){const or=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(or){var B=T.h;B.g||or.indexOf("spdy")==-1&&or.indexOf("quic")==-1&&or.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(al(B,B.h),B.h=null))}if(T.G){const Xr=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xr&&(T.wa=Xr,Gt(T.J,T.G,Xr))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var X=u;if(T.na=Wo(T,T.L?T.ba:null,T.W),X.L){ll(T.h,X);var St=X,ue=T.O;ue&&(St.H=ue),St.D&&($n(St),Jn(St)),T.g=X}else Ko(T);p.i.length>0&&ai(p)}else qt[0]!="stop"&&qt[0]!="close"||li(p,7);else p.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?li(p,7):pl(p):qt[0]!="noop"&&p.l&&p.l.qa(qt),p.A=0)}}Qn(4)}catch{}}var ye=class{constructor(u,m){this.g=u,this.map=m}};function sl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ti(u){return u.h?1:u.g?u.g.size:0}function ei(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function al(u,m){u.g?u.g.add(m):u.h=m}function ll(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}sl.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ol(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return K(u.i)}var jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qr(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let L,B=null;T>=0?(L=u[p].substring(0,T),B=u[p].substring(T+1)):L=u[p],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Ve(this,u.j),this.o=u.o,this.g=u.g,Zi(this,u.u),this.h=u.h,ul(this,Qo(u.i)),this.m=u.m):u&&(m=String(u).match(jo))?(this.l=!1,Ve(this,m[1]||"",!0),this.o=ni(m[2]||""),this.g=ni(m[3]||"",!0),Zi(this,m[4]),this.h=ni(m[5]||"",!0),ul(this,m[6]||"",!0),this.m=ni(m[7]||"")):(this.l=!1,this.i=new $i(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(er(m,jr,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(er(m,jr,!0),"@"),u.push(Si(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(er(p,p.charAt(0)=="/"?cl:Ho,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",er(p,Go)),u.join("")},cn.prototype.resolve=function(u){const m=_e(this);let p=!!u.j;p?Ve(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)Zi(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let X=0;X<L.length;){const St=L[X++];St=="."?T&&X==L.length&&B.push(""):St==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&X==L.length&&B.push("")):(B.push(St),T=!0)}T=B.join("/")}else T=L}return p?m.h=T:p=u.i.toString()!=="",p?ul(m,Qo(u.i)):p=!!u.m,p&&(m.m=u.m),m};function _e(u){return new cn(u)}function Ve(u,m,p){u.j=p?ni(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ul(u,m,p){m instanceof $i?(u.i=m,Gr(u.i,u.l)):(p||(m=er(m,Ji)),u.i=new $i(m,u.l))}function Gt(u,m,p){u.i.set(m,p)}function tr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ni(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function er(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var jr=/[#\/\?@]/g,Ho=/[#\?:]/g,cl=/[#\?]/g,Ji=/[#\?@]/g,Go=/#/g;function $i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&qr(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=$i.prototype,a.add=function(u,m){en(this),this.i=null,u=Wi(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Fo(u,m){en(u),m=Wi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function hl(u,m){return en(u),m=Wi(u,m),u.g.has(m)}a.forEach=function(u,m){en(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)};function fl(u,m){en(u);let p=[];if(typeof m=="string")hl(u,m)&&(p=p.concat(u.g.get(Wi(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}a.set=function(u,m){return en(this),this.i=null,u=Wi(this,u),hl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=fl(this,u),u.length>0?String(u[0]):m):m};function Hr(u,m,p){Fo(u,m),p.length>0&&(u.i=null,u.g.set(Wi(u,m),K(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const L=Si(p);p=fl(this,p);for(let B=0;B<p.length;B++){let X=L;p[B]!==""&&(X+="="+Si(p[B])),u.push(X)}}return this.i=u.join("&")};function Qo(u){const m=new $i;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Wi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Gr(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(p,T){const L=T.toLowerCase();T!=L&&(Fo(this,T),Hr(this,L,p))},u)),u.j=m}function Ln(u,m){const p=new Vn;if(d.Image){const T=new Image;T.onload=S(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=S(En,p,"TestLoadImage: error",!1,m,T),T.onabort=S(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(En,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function dl(u,m){const p=new Vn,T=new AbortController,L=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),En(p,"TestPingServer: error",!1,m)})}function En(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function ts(){this.g=new Vo}function ii(u){this.i=u.Sb||null,this.h=u.ab||!1}C(ii,Uo),ii.prototype.g=function(){return new nr(this.i,this.h)};function nr(u,m){me.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(nr,me),a=nr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,kn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,es(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?es(this):kn(this),this.readyState==3&&Fr(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,es(this))},a.Na=function(u){this.g&&(this.response=u,es(this))},a.ga=function(){this.g&&es(this)};function es(u){u.readyState=4,u.l=null,u.j=null,u.B=null,kn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Tn(u){let m="";return kt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function ir(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Tn(p),typeof u=="string"?p!=null&&Si(p):Gt(u,m,p))}function Yt(u){me.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(Yt,me);var si=/^https?$/i,ml=["POST","PUT"];a=Yt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():il.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){sr(this,B);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())p.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ml,m,void 0)>=0)||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,X]of p)this.g.setRequestHeader(B,X);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){sr(this,B)}};function sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,gl(u),Ai(u)}function gl(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Ai(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),Yt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?rr(this):this.Xa())},a.Xa=function(){rr(this)};function rr(u){if(u.h&&typeof h<"u"){if(u.v&&zn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),zn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=B===0){let X=String(u.D).match(jo)[1]||null;!X&&d.self&&d.self.location&&(X=d.self.location.protocol.slice(0,-1)),T=!si.test(X?X.toLowerCase():"")}p=T}if(p)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var L=zn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",gl(u)}}finally{Ai(u)}}}}function Ai(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ie(u,"ready");try{p.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function zn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return zn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),$c(m)}};function ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bi(u){const m={};u=(u.g&&zn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(b(u[T]))continue;var p=Po(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const B=m[L]||[];m[L]=B,B.push(p)}Ht(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ns(u){this.za=0,this.i=[],this.j=new Vn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ri("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ri("baseRetryDelayMs",5e3,u),this.Za=ri("retryDelaySeedMs",1e4,u),this.Ta=ri("forwardChannelMaxRetries",2,u),this.va=ri("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new sl(u&&u.concurrentRequestLimit),this.Ba=new ts,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ns.prototype,a.ka=8,a.I=1,a.connect=function(u,m,p,T){ge(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Wo(this,null,this.W),ai(this)};function pl(u){if(Qr(u),u.I==3){var m=u.V++,p=_e(u.J);if(Gt(p,"SID",u.M),Gt(p,"RID",m),Gt(p,"TYPE","terminate"),ar(u,p),m=new Un(u,u.j,m),m.M=2,m.A=tr(_e(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Jn(m)}$o(u)}function is(u){u.g&&(_l(u),u.g.cancel(),u.g=null)}function Qr(u){is(u),u.v&&(d.clearTimeout(u.v),u.v=null),Kr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ai(u){if(!rl(u.h)&&!u.m){u.m=!0;var m=u.Ea;wt||A(),yt||(wt(),yt=!0),I.add(m,u),u.D=0}}function Yr(u,m){return ti(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Kn(_(u.Ea,u,m),Jo(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Un(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),$(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Yo(this,L,m),p=_e(this.J),Gt(p,"RID",u),Gt(p,"CVER",22),this.G&&Gt(p,"X-HTTP-Session-Id",this.G),ar(this,p),B&&(this.R?m="headers="+Si(Tn(B))+"&"+m:this.u&&ir(p,this.u,B)),al(this.h,L),this.Ra&&Gt(p,"TYPE","init"),this.S?(Gt(p,"$req",m),Gt(p,"SID","null"),L.U=!0,Zn(L,p,null)):Zn(L,p,m),this.I=2}}else this.I==3&&(u?yl(this,u):this.i.length==0||rl(this.h)||yl(this))};function yl(u,m){var p;m?p=m.l:p=u.V++;const T=_e(u.J);Gt(T,"SID",u.M),Gt(T,"RID",p),Gt(T,"AID",u.K),ar(u,T),u.u&&u.o&&ir(T,u.u,u.o),p=new Un(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Yo(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),al(u.h,p),Zn(p,T,m)}function ar(u,m){u.H&&kt(u.H,function(p,T){Gt(m,T,p)}),u.l&&kt({},function(p,T){Gt(m,T,p)})}function Yo(u,m,p){p=Math.min(u.i.length,p);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let St=-1;for(;;){const ue=["count="+p];St==-1?p>0?(St=L[0].g,ue.push("ofs="+St)):St=0:ue.push("ofs="+St);let qt=!0;for(let ne=0;ne<p;ne++){var B=L[ne].g;const Sn=L[ne].map;if(B-=St,B<0)St=Math.max(0,L[ne].g-100),qt=!1;else try{B="req"+B+"_"||"";try{var X=Sn instanceof Map?Sn:Object.entries(Sn);for(const[oi,Pn]of X){let Bn=Pn;y(Pn)&&(Bn=Xi(Pn)),ue.push(B+oi+"="+encodeURIComponent(Bn))}}catch(oi){throw ue.push(B+"type="+encodeURIComponent("_badmap")),oi}}catch{T&&T(Sn)}}if(qt){X=ue.join("&");break t}}X=void 0}return u=u.i.splice(0,p),m.G=u,X}function Ko(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;wt||A(),yt||(wt(),yt=!0),I.add(m,u),u.A=0}}function lr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Kn(_(u.Da,u),Jo(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Xo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Kn(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),is(this),Xo(this))};function _l(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Xo(u){u.g=new Un(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=_e(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),ar(u,m),u.u&&u.o&&ir(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=tr(_e(m)),p.u=null,p.R=!0,Pr(p,u)}a.Va=function(){this.C!=null&&(this.C=null,is(this),lr(this),ge(19))};function Kr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Zo(u,m){var p=null;if(u.g==m){Kr(u),_l(u),u.g=null;var T=2}else if(ei(u.h,m))p=m.G,ll(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=zr(),Ie(T,new Yn(T,p)),ai(u)}else Ko(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Yr(u,m)||T==2&&lr(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),L){case 1:li(u,5);break;case 4:li(u,10);break;case 3:li(u,6);break;default:li(u,2)}}}function Jo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function li(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),T=u.Ua;const L=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ve(T,"https"),tr(T),L?Ln(T.toString(),p):dl(T.toString(),p)}else ge(2);u.I=0,u.l&&u.l.pa(m),$o(u),Qr(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function $o(u){if(u.I=0,u.ja=[],u.l){const m=ol(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Wo(u,m,p){var T=p instanceof cn?_e(p):new cn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Zi(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new cn(null);T&&Ve(B,T),m&&(B.g=m),L&&Zi(B,L),p&&(B.h=p),T=B}return p=u.G,m=u.wa,p&&m&&Gt(T,p,m),Gt(T,"VER",u.ka),ar(u,T),T}function tu(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new ii({ab:p})):new Yt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function eu(){}a=eu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ss(){}ss.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){me.call(this),this.g=new ns(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!b(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ri(this)}C(Ze,me),Ze.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){pl(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Xi(u),u=p);m.i.push(new ye(m.Ya++,u)),m.I==3&&ai(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,Ze.Z.N.call(this)};function nu(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}C(nu,Le);function iu(){_n.call(this),this.status=1}C(iu,_n);function Ri(u){this.g=u}C(Ri,eu),Ri.prototype.ra=function(){Ie(this.g,"a")},Ri.prototype.qa=function(u){Ie(this.g,new nu(u))},Ri.prototype.pa=function(u){Ie(this.g,new iu)},Ri.prototype.oa=function(){Ie(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,wE=function(){return new ss},RE=function(){return zr()},bE=oe,bd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$s.NO_ERROR=0,$s.TIMEOUT=8,$s.HTTP_ERROR=6,yc=$s,nl.COMPLETE="complete",AE=nl,xo.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",me.prototype.listen=me.prototype.J,io=xo,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,SE=Yt}).apply(typeof oc<"u"?oc:typeof self<"u"?self:typeof window<"u"?window:{});const O_="@firebase/firestore",M_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Gd("@firebase/firestore");function Ra(){return Bs.logLevel}function Jb(a){Bs.setLogLevel(a)}function nt(a,...t){if(Bs.logLevel<=Ot.DEBUG){const i=t.map(nm);Bs.debug(`Firestore (${Ka}): ${a}`,...i)}}function Qi(a,...t){if(Bs.logLevel<=Ot.ERROR){const i=t.map(nm);Bs.error(`Firestore (${Ka}): ${a}`,...i)}}function za(a,...t){if(Bs.logLevel<=Ot.WARN){const i=t.map(nm);Bs.warn(`Firestore (${Ka}): ${a}`,...i)}}function nm(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,CE(a,r,i)}function CE(a,t,i){let r=`FIRESTORE (${Ka}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Qi(r),new Error(r)}function re(a,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||CE(t,o,r)}function Lt(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Yi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class $b{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Qe.UNAUTHENTICATED)))}shutdown(){}}class Wb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class tR{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){re(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Cr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Cr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(re(typeof r.accessToken=="string",31837,{l:r}),new IE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return re(t===null||typeof t=="string",2055,{h:t}),new Qe(t)}}class eR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new eR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Qe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){re(this.o===void 0,3512);const r=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>r(h)))};const o=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(re(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new V_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=sR(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=t.charAt(o[h]%62))}return r}}function Vt(a,t){return a<t?-1:a>t?1:0}function Rd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=t.charAt(r);if(o!==h)return ud(o)===ud(h)?Vt(o,h):ud(o)?1:-1}return Vt(a.length,t.length)}const rR=55296,aR=57343;function ud(a){const t=a.charCodeAt(0);return t>=rR&&t<=aR}function Pa(a,t,i){return a.length===t.length&&a.every(((r,o)=>i(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="__name__";class di{constructor(t,i,r){i===void 0?i=0:i>t.length&&Tt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&Tt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return di.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof di?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const h=di.compareSegments(t.get(o),i.get(o));if(h!==0)return h}return Vt(t.length,i.length)}static compareSegments(t,i){const r=di.isNumericId(t),o=di.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?di.extractNumericId(t).compare(di.extractNumericId(i)):Rd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ks.fromString(t.substring(4,t.length-2))}}class se extends di{construct(t,i,r){return new se(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const lR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends di{construct(t,i,r){return new $e(t,i,r)}static isValidIdentifier(t){return lR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U_}static keyField(){return new $e([U_])}static fromServerFormat(t){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<t.length;){const y=t[o];if(y==="\\"){if(o+1===t.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(r+=y,o++):(h(),o++)}if(h(),d)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(i)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(se.fromString(t))}static fromName(t){return new ft(se.fromString(t).popFirst(5))}static empty(){return new ft(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return se.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new se(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(a,t,i){if(!i)throw new lt(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function uR(a,t,i,r){if(t===!0&&r===!0)throw new lt(Z.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function x_(a){if(!ft.isDocumentKey(a))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function cR(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function hR(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Tt(12329,{type:typeof a})}function wd(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=hR(a);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(a,t){const i={typeString:a};return t&&(i.value=t),i}function Co(a,t){if(!cR(a))throw new lt(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,h="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new lt(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=-62135596800,k_=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*k_);return new be(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<L_)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k_}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Co(t,be._jsonSchema))return new be(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-L_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}be._jsonSchemaVersion="firestore/timestamp/1.0",be._jsonSchema={type:Re("string",be._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new be(0,0))}static max(){return new vt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=-1;function fR(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(r===1e9?new be(i+1,0):new be(i,r));return new qs(o,ft.empty(),t)}function dR(a){return new qs(a.readTime,a.key,yo)}class qs{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new qs(vt.min(),ft.empty(),yo)}static max(){return new qs(vt.max(),ft.empty(),yo)}}function mR(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(a.documentKey,t.documentKey),i!==0?i:Vt(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==gR)throw a;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,r)=>{i(t)}))}static reject(t){return new Y(((i,r)=>{r(t)}))}static waitFor(t){return new Y(((i,r)=>{let o=0,h=0,d=!1;t.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(v=>r(v)))})),d=!0,h===o&&i()}))}static or(t){let i=Y.resolve(!1);for(const r of t)i=i.next((o=>o?Y.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(t,i){return new Y(((r,o)=>{const h=t.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(t[_]).next((S=>{d[_]=S,++y,y===h&&r(d)}),(S=>o(S)))}}))}static doWhile(t,i){return new Y(((r,o)=>{const h=()=>{t()===!0?i().next((()=>{h()}),o):r()};h()}))}}function yR(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Xa(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}qc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=-1;function jc(a){return a==null}function Cd(a){return a===0&&1/a==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="";function vR(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=z_(t)),t=ER(a.get(i),t);return z_(t)}function ER(a,t){let i=t;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case DE:i+="";break;default:i+=h}}return i}function z_(a){return a+DE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Io(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function TR(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,i){this.comparator=t,this.root=i||je.EMPTY}insert(t,i){return new de(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new uc(this.root,t,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new uc(this.root,t,this.comparator,!0)}}class uc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?r(t.key,i):1,i&&o&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,i,r,o,h){this.key=t,this.value=i,this.color=r??je.RED,this.left=o??je.EMPTY,this.right=h??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,h){return new je(t??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const h=r(t,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(t,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return je.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,i,r,o,h){return this}insert(t,i,r){return new je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new B_(this.data.getIterator())}getIteratorFrom(t){return new B_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Oe(this.comparator);return i.data=t,i}}class B_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new Ms([])}unionWith(t){let i=new Oe($e.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Ms(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Pa(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new NE("Invalid base64 string: "+h):h}})(t);return new He(i)}static fromUint8Array(t){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(t);return new He(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const SR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(a){if(re(!!a,39018),typeof a=="string"){let t=0;const i=SR.exec(a);if(re(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:fe(a.seconds),nanos:fe(a.nanos)}}function fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Hs(a){return typeof a=="string"?He.fromBase64String(a):He.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="server_timestamp",ME="__type__",VE="__previous_value__",UE="__local_write_time__";function sm(a){return(a?.mapValue?.fields||{})[ME]?.stringValue===OE}function Hc(a){const t=a.mapValue.fields[VE];return sm(t)?Hc(t):t}function _o(a){const t=js(a.mapValue.fields[UE].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t,i,r,o,h,d,y,v,_,S){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const Nc="(default)";class vo{constructor(t,i){this.projectId=t,this.database=i||Nc}static empty(){return new vo("","")}get isDefaultDatabase(){return this.database===Nc}isEqual(t){return t instanceof vo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="__type__",RR="__max__",cc={mapValue:{}},wR="__vector__",Id="value";function Gs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?sm(a)?4:IR(a)?9007199254740991:CR(a)?10:11:Tt(28295,{value:a})}function Ei(a,t){if(a===t)return!0;const i=Gs(a);if(i!==Gs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return _o(a).isEqual(_o(t));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=js(o.timestampValue),y=js(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(o,h){return Hs(o.bytesValue).isEqual(Hs(h.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(o,h){return fe(o.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(h.geoPointValue.longitude)})(a,t);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return fe(o.integerValue)===fe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=fe(o.doubleValue),y=fe(h.doubleValue);return d===y?Cd(d)===Cd(y):isNaN(d)&&isNaN(y)}return!1})(a,t);case 9:return Pa(a.arrayValue.values||[],t.arrayValue.values||[],Ei);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(P_(d)!==P_(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Ei(d[v],y[v])))return!1;return!0})(a,t);default:return Tt(52216,{left:a})}}function Eo(a,t){return(a.values||[]).find((i=>Ei(i,t)))!==void 0}function Ba(a,t){if(a===t)return 0;const i=Gs(a),r=Gs(t);if(i!==r)return Vt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(a.booleanValue,t.booleanValue);case 2:return(function(h,d){const y=fe(h.integerValue||h.doubleValue),v=fe(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(a,t);case 3:return q_(a.timestampValue,t.timestampValue);case 4:return q_(_o(a),_o(t));case 5:return Rd(a.stringValue,t.stringValue);case 6:return(function(h,d){const y=Hs(h),v=Hs(d);return y.compareTo(v)})(a.bytesValue,t.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const S=Vt(y[_],v[_]);if(S!==0)return S}return Vt(y.length,v.length)})(a.referenceValue,t.referenceValue);case 8:return(function(h,d){const y=Vt(fe(h.latitude),fe(d.latitude));return y!==0?y:Vt(fe(h.longitude),fe(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return j_(a.arrayValue,t.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[Id]?.arrayValue,S=v[Id]?.arrayValue,C=Vt(_?.values?.length||0,S?.values?.length||0);return C!==0?C:j_(_,S)})(a.mapValue,t.mapValue);case 11:return(function(h,d){if(h===cc.mapValue&&d===cc.mapValue)return 0;if(h===cc.mapValue)return 1;if(d===cc.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let C=0;C<v.length&&C<S.length;++C){const x=Rd(v[C],S[C]);if(x!==0)return x;const K=Ba(y[v[C]],_[S[C]]);if(K!==0)return K}return Vt(v.length,S.length)})(a.mapValue,t.mapValue);default:throw Tt(23264,{he:i})}}function q_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Vt(a,t);const i=js(a),r=js(t),o=Vt(i.seconds,r.seconds);return o!==0?o:Vt(i.nanos,r.nanos)}function j_(a,t){const i=a.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Ba(i[o],r[o]);if(h)return h}return Vt(i.length,r.length)}function qa(a){return Dd(a)}function Dd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=js(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Hs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ft.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=Dd(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${Dd(i.fields[d])}`;return o+"}"})(a.mapValue):Tt(61005,{value:a})}function _c(a){switch(Gs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Hc(a);return t?16+_c(t):16;case 5:return 2*a.stringValue.length;case 6:return Hs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+_c(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Io(r.fields,((h,d)=>{o+=h.length+_c(d)})),o})(a.mapValue);default:throw Tt(13486,{value:a})}}function Nd(a){return!!a&&"integerValue"in a}function rm(a){return!!a&&"arrayValue"in a}function H_(a){return!!a&&"nullValue"in a}function G_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function cd(a){return!!a&&"mapValue"in a}function CR(a){return(a?.mapValue?.fields||{})[bR]?.stringValue===wR}function uo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Io(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=uo(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=uo(a.arrayValue.values[i]);return t}return{...a}}function IR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===RR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this.value=t}static empty(){return new gi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!cd(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=uo(i)}setAll(t){let i=$e.emptyPath(),r={},o=[];t.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=y.popLast()}d?r[y.lastSegment()]=uo(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(t){const i=this.field(t.popLast());cd(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ei(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];cd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){Io(i,((o,h)=>t[o]=h));for(const o of r)delete t[o]}clone(){return new gi(uo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,i,r,o,h,d,y){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(t){return new Ye(t,0,vt.min(),vt.min(),vt.min(),gi.empty(),0)}static newFoundDocument(t,i,r,o){return new Ye(t,1,i,vt.min(),r,o,0)}static newNoDocument(t,i){return new Ye(t,2,i,vt.min(),vt.min(),gi.empty(),0)}static newUnknownDocument(t,i){return new Ye(t,3,i,vt.min(),vt.min(),gi.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,i){this.position=t,this.inclusive=i}}function F_(a,t,i){let r=0;for(let o=0;o<a.position.length;o++){const h=t[o],d=a.position[o];if(h.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),i.key):r=Ba(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ei(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,i="asc"){this.field=t,this.dir=i}}function DR(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{}class Ne extends xE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new OR(t,i,r):i==="array-contains"?new UR(t,r):i==="in"?new xR(t,r):i==="not-in"?new LR(t,r):i==="array-contains-any"?new kR(t,r):new Ne(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new MR(t,r):new VR(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ba(i,this.value)):i!==null&&Gs(this.value)===Gs(i)&&this.matchesComparison(Ba(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends xE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ti(t,i)}matches(t){return LE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LE(a){return a.op==="and"}function kE(a){return NR(a)&&LE(a)}function NR(a){for(const t of a.filters)if(t instanceof Ti)return!1;return!0}function Od(a){if(a instanceof Ne)return a.field.canonicalString()+a.op.toString()+qa(a.value);if(kE(a))return a.filters.map((t=>Od(t))).join(",");{const t=a.filters.map((i=>Od(i))).join(",");return`${a.op}(${t})`}}function zE(a,t){return a instanceof Ne?(function(r,o){return o instanceof Ne&&r.op===o.op&&r.field.isEqual(o.field)&&Ei(r.value,o.value)})(a,t):a instanceof Ti?(function(r,o){return o instanceof Ti&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,y)=>h&&zE(d,o.filters[y])),!0):!1})(a,t):void Tt(19439)}function PE(a){return a instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${qa(i.value)}`})(a):a instanceof Ti?(function(i){return i.op.toString()+" {"+i.getFilters().map(PE).join(" ,")+"}"})(a):"Filter"}class OR extends Ne{constructor(t,i,r){super(t,i,r),this.key=ft.fromName(r.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class MR extends Ne{constructor(t,i){super(t,"in",i),this.keys=BE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class VR extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=BE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function BE(a,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class UR extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return rm(i)&&Eo(i.arrayValue,this.value)}}class xR extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Eo(this.value.arrayValue,i)}}class LR extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(Eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Eo(this.value.arrayValue,i)}}class kR extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!rm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Eo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t,i=null,r=[],o=[],h=null,d=null,y=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function Y_(a,t=null,i=[],r=[],o=null,h=null,d=null){return new zR(a,t,i,r,o,h,d)}function am(a){const t=Lt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Od(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),jc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>qa(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>qa(r))).join(",")),t.Te=i}return t.Te}function lm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!DR(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!zE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!Q_(a.startAt,t.startAt)&&Q_(a.endAt,t.endAt)}function Md(a){return ft.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,i=null,r=[],o=[],h=null,d="F",y=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PR(a,t,i,r,o,h,d,y){return new Gc(a,t,i,r,o,h,d,y)}function om(a){return new Gc(a)}function K_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function BR(a){return a.collectionGroup!==null}function co(a){const t=Lt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Oe($e.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Mc(h,r))})),i.has($e.keyField().canonicalString())||t.Ie.push(new Mc($e.keyField(),r))}return t.Ie}function vi(a){const t=Lt(a);return t.Ee||(t.Ee=qR(t,co(a))),t.Ee}function qR(a,t){if(a.limitType==="F")return Y_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new Mc(o.field,h)}));const i=a.endAt?new Oc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Oc(a.startAt.position,a.startAt.inclusive):null;return Y_(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function Vd(a,t,i){return new Gc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function Fc(a,t){return lm(vi(a),vi(t))&&a.limitType===t.limitType}function qE(a){return`${am(vi(a))}|lt:${a.limitType}`}function wa(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>PE(o))).join(", ")}]`),jc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>qa(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>qa(o))).join(",")),`Target(${r})`})(vi(a))}; limitType=${a.limitType})`}function Qc(a,t){return t.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ft.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,t)&&(function(r,o){for(const h of co(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,t)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,t)&&(function(r,o){return!(r.startAt&&!(function(d,y,v){const _=F_(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,co(r),o)||r.endAt&&!(function(d,y,v){const _=F_(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,co(r),o))})(a,t)}function jR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function jE(a){return(t,i)=>{let r=!1;for(const o of co(a)){const h=HR(o,t,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function HR(a,t,i){const r=a.field.isKeyField()?ft.comparator(t.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Ba(v,_):Tt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Tt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],t))return void(o[h]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Io(this.inner,((i,r)=>{for(const[o,h]of r)t(o,h)}))}isEmpty(){return TR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new de(ft.comparator);function Fs(){return GR}const HE=new de(ft.comparator);function so(...a){let t=HE;for(const i of a)t=t.insert(i.key,i);return t}function FR(a){let t=HE;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Rr(){return ho()}function GE(){return ho()}function ho(){return new Ur((a=>a.toString()),((a,t)=>a.isEqual(t)))}const QR=new Oe(ft.comparator);function zt(...a){let t=QR;for(const i of a)t=t.add(i);return t}const YR=new Oe(Vt);function KR(){return YR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cd(t)?"-0":t}}function ZR(a){return{integerValue:""+a}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this._=void 0}}function JR(a,t,i){return a instanceof Ud?(function(o,h){const d={fields:{[ME]:{stringValue:OE},[UE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&sm(h)&&(h=Hc(h)),h&&(d.fields[VE]=h),{mapValue:d}})(i,t):a instanceof Vc?FE(a,t):a instanceof Uc?QE(a,t):(function(o,h){const d=WR(o,h),y=X_(d)+X_(o.Ae);return Nd(d)&&Nd(o.Ae)?ZR(y):XR(o.serializer,y)})(a,t)}function $R(a,t,i){return a instanceof Vc?FE(a,t):a instanceof Uc?QE(a,t):i}function WR(a,t){return a instanceof xd?(function(r){return Nd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(t)?t:{integerValue:0}:null}class Ud extends Yc{}class Vc extends Yc{constructor(t){super(),this.elements=t}}function FE(a,t){const i=YE(t);for(const r of a.elements)i.some((o=>Ei(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Uc extends Yc{constructor(t){super(),this.elements=t}}function QE(a,t){let i=YE(t);for(const r of a.elements)i=i.filter((o=>!Ei(o,r)));return{arrayValue:{values:i}}}class xd extends Yc{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function X_(a){return fe(a.integerValue||a.doubleValue)}function YE(a){return rm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function tw(a,t){return a.field.isEqual(t.field)&&(function(r,o){return r instanceof Vc&&o instanceof Vc||r instanceof Uc&&o instanceof Uc?Pa(r.elements,o.elements,Ei):r instanceof xd&&o instanceof xd?Ei(r.Ae,o.Ae):r instanceof Ud&&o instanceof Ud})(a.transform,t.transform)}class Ir{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ir}static exists(t){return new Ir(void 0,t)}static updateTime(t){return new Ir(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class um{}function KE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new nw(a.key,Ir.none()):new cm(a.key,a.data,Ir.none());{const i=a.data,r=gi.empty();let o=new Oe($e.comparator);for(let h of t.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Kc(a.key,r,new Ms(o.toArray()),Ir.none())}}function ew(a,t,i){a instanceof cm?(function(o,h,d){const y=o.value.clone(),v=J_(o.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,t,i):a instanceof Kc?(function(o,h,d){if(!vc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=J_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(XE(o)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,t,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function fo(a,t,i,r){return a instanceof cm?(function(h,d,y,v){if(!vc(h.precondition,d))return y;const _=h.value.clone(),S=$_(h.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,t,i,r):a instanceof Kc?(function(h,d,y,v){if(!vc(h.precondition,d))return y;const _=$_(h.fieldTransforms,v,d),S=d.data;return S.setAll(XE(h)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((C=>C.field)))})(a,t,i,r):(function(h,d,y){return vc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(a,t,i)}function Z_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Pa(r,o,((h,d)=>tw(h,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class cm extends um{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Kc extends um{constructor(t,i,r,o,h=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function XE(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function J_(a,t,i){const r=new Map;re(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,y=t.data.field(h.field);r.set(h.field,$R(d,y,i[o]))}return r}function $_(a,t,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,JR(h,d,t))}return r}class nw extends um{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(t.key)&&ew(h,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=fo(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=fo(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=GE();return this.mutations.forEach((o=>{const h=t.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const v=KE(d,y);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&Pa(this.mutations,t.mutations,((i,r)=>Z_(i,r)))&&Pa(this.baseMutations,t.baseMutations,((i,r)=>Z_(i,r)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,xt;function ZE(a){if(a===void 0)return Qi("GRPC error has no .code"),Z.UNKNOWN;switch(a){case Ae.OK:return Z.OK;case Ae.CANCELLED:return Z.CANCELLED;case Ae.UNKNOWN:return Z.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return Z.INTERNAL;case Ae.UNAVAILABLE:return Z.UNAVAILABLE;case Ae.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ae.NOT_FOUND:return Z.NOT_FOUND;case Ae.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ae.ABORTED:return Z.ABORTED;case Ae.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ae.DATA_LOSS:return Z.DATA_LOSS;default:return Tt(39323,{code:a})}}(xt=Ae||(Ae={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new ks([4294967295,4294967295],0);function W_(a){const t=aw().encode(a),i=new TE;return i.update(t),new Uint8Array(i.digest())}function tv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new ks([i,r],0),new ks([o,h],0)]}class hm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new ro(`Invalid padding: ${i}`);if(r<0)throw new ro(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new ro(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ks.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(ks.fromNumber(r)));return o.compare(lw)===1&&(o=new ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=W_(t),[r,o]=tv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new hm(h,o,i);return r.forEach((y=>d.insert(y))),d}insert(t){if(this.ge===0)return;const i=W_(t),[r,o]=tv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,i,r,o,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Do.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Xc(vt.min(),o,new de(Vt),Fs(),zt())}}class Do{constructor(t,i,r,o,h){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Do(r,i,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class JE{constructor(t,i){this.targetId=t,this.Ce=i}}class $E{constructor(t,i,r=He.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class ev{constructor(){this.ve=0,this.Fe=nv(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),r=zt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Tt(38017,{changeType:h})}})),new Do(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=nv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ow{constructor(t){this.Ge=t,this.ze=new Map,this.je=Fs(),this.Je=hc(),this.He=hc(),this.Ye=new de(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Md(h))if(r===0){const d=new ft(h.path);this.et(i,d,Ye.newNoDocument(d,vt.min()))}else re(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(t),v=y?this.ct(y,t,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=Hs(r).toUint8Array()}catch(v){if(v instanceof NE)return za("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new hm(d,o,h)}catch(v){return za(v instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&Md(y.target)){const v=new ft(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ye.newNoDocument(v,t))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=zt();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const o=new Xc(t,i,this.Ye,this.je,r);return this.je=Fs(),this.Je=hc(),this.He=hc(),this.Ye=new de(Vt),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new ev,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Oe(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Oe(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ev),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function hc(){return new de(ft.comparator)}function nv(){return new de(ft.comparator)}const uw={asc:"ASCENDING",desc:"DESCENDING"},cw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hw={and:"AND",or:"OR"};class fw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Ld(a,t){return a.useProto3Json||jc(t)?t:{value:t}}function dw(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mw(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function Va(a){return re(!!a,49232),vt.fromTimestamp((function(i){const r=js(i);return new be(r.seconds,r.nanos)})(a))}function gw(a,t){return kd(a,t).canonicalString()}function kd(a,t){const i=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(a).child("documents");return t===void 0?i:i.child(t)}function WE(a){const t=se.fromString(a);return re(sT(t),10190,{key:t.toString()}),t}function hd(a,t){const i=WE(t);if(i.get(1)!==a.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ft(eT(i))}function tT(a,t){return gw(a.databaseId,t)}function pw(a){const t=WE(a);return t.length===4?se.emptyPath():eT(t)}function iv(a){return new se(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function eT(a){return re(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function yw(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Tt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],h=(function(_,S){return _.useProto3Json?(re(S===void 0||typeof S=="string",58123),He.fromBase64String(S||"")):(re(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),He.fromUint8Array(S||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?Z.UNKNOWN:ZE(_.code);return new lt(S,_.message||"")})(d);i=new $E(r,o,h,y||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=hd(a,r.document.name),h=Va(r.document.updateTime),d=r.document.createTime?Va(r.document.createTime):vt.min(),y=new gi({mapValue:{fields:r.document.fields}}),v=Ye.newFoundDocument(o,h,d,y),_=r.targetIds||[],S=r.removedTargetIds||[];i=new Ec(_,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=hd(a,r.document),h=r.readTime?Va(r.readTime):vt.min(),d=Ye.newNoDocument(o,h),y=r.removedTargetIds||[];i=new Ec([],y,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=hd(a,r.document),h=r.removedTargetIds||[];i=new Ec([],h,o,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new rw(o,h),y=r.targetId;i=new JE(y,d)}}return i}function _w(a,t){return{documents:[tT(a,t.path)]}}function vw(a,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=tT(a,o);const h=(function(_){if(_.length!==0)return iT(Ti.create(_,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((S=>(function(x){return{field:Ca(x.field),direction:Sw(x.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Ld(a,t.limit);return y!==null&&(i.structuredQuery.limit=y),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:o}}function Ew(a){let t=pw(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){re(r===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:t=t.child(S.collectionId)}let h=[];i.where&&(h=(function(C){const x=nT(C);return x instanceof Ti&&kE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(C){return C.map((x=>(function(tt){return new Mc(Ia(tt.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(x)))})(i.orderBy));let y=null;i.limit&&(y=(function(C){let x;return x=typeof C=="object"?C.value:C,jc(x)?null:x})(i.limit));let v=null;i.startAt&&(v=(function(C){const x=!!C.before,K=C.values||[];return new Oc(K,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(C){const x=!C.before,K=C.values||[];return new Oc(K,x)})(i.endAt)),PR(t,o,d,h,y,"F",v,_)}function Tw(a,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function nT(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ia(i.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ia(i.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ia(i.unaryFilter.field);return Ne.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ia(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ne.create(Ia(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Ti.create(i.compositeFilter.filters.map((r=>nT(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(i.compositeFilter.op))})(a):Tt(30097,{filter:a})}function Sw(a){return uw[a]}function Aw(a){return cw[a]}function bw(a){return hw[a]}function Ca(a){return{fieldPath:a.canonicalString()}}function Ia(a){return $e.fromServerFormat(a.fieldPath)}function iT(a){return a instanceof Ne?(function(i){if(i.op==="=="){if(G_(i.value))return{unaryFilter:{field:Ca(i.field),op:"IS_NAN"}};if(H_(i.value))return{unaryFilter:{field:Ca(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(G_(i.value))return{unaryFilter:{field:Ca(i.field),op:"IS_NOT_NAN"}};if(H_(i.value))return{unaryFilter:{field:Ca(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(i.field),op:Aw(i.op),value:i.value}}})(a):a instanceof Ti?(function(i){const r=i.getFilters().map((o=>iT(o)));return r.length===1?r[0]:{compositeFilter:{op:bw(i.op),filters:r}}})(a):Tt(54877,{filter:a})}function sT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t,i,r,o,h=vt.min(),d=vt.min(),y=He.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(t){return new Vs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t){this.yt=t}}function ww(a){const t=Ew({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Vd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(){this.Cn=new Iw}addToCollectionParentIndex(t,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(qs.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(qs.min())}updateCollectionGroup(t,i,r){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class Iw{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Oe(se.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Oe(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rT=41943040;class on{static withCacheSize(t){return new on(t,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(rT,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ja(0)}static cr(){return new ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="LruGarbageCollector",Dw=1048576;function av([a,t],[i,r]){const o=Vt(a,i);return o===0?Vt(t,r):o}class Nw{constructor(t){this.Ir=t,this.buffer=new Oe(av),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();av(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Ow{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){nt(rv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Xa(i)?nt(rv,"Ignoring IndexedDB error during garbage collection: ",i):await Bc(i)}await this.Vr(3e5)}))}}class Mw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(qc.ce);const r=new Nw(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(sv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,h,d,y,v,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,d=Date.now(),this.nthSequenceNumber(t,o)))).next((C=>(r=C,y=Date.now(),this.removeTargets(t,r,i)))).next((C=>(h=C,v=Date.now(),this.removeOrphanedDocuments(t,r)))).next((C=>(_=Date.now(),Ra()<=Ot.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${C} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:C}))))}}function Vw(a,t){return new Mw(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.changes=new Ur((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Y.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&fo(r.mutation,o,Ms.empty(),be.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,zt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=zt()){const o=Rr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((h=>{let d=so();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Rr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,zt())))}populateOverlays(t,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(t,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(t,i,r,o){let h=Fs();const d=ho(),y=(function(){return ho()})();return i.forEach(((v,_)=>{const S=r.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof Kc)?h=h.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),fo(S.mutation,_,S.mutation.getFieldMask(),be.now())):d.set(_.key,Ms.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>y.set(_,new xw(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(t,i){const r=ho();let o=new de(((d,y)=>d-y)),h=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let S=r.get(v)||Ms.empty();S=y.applyToLocalView(_,S),r.set(v,S);const C=(o.get(y.batchId)||zt()).add(v);o=o.insert(y.batchId,C)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,S=v.value,C=GE();S.forEach((x=>{if(!h.has(x)){const K=KE(i.get(x),r.get(x));K!==null&&C.set(x,K),h=h.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,C))}return Y.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):BR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-h.size):Y.resolve(Rr());let y=yo,v=h;return d.next((_=>Y.forEach(_,((S,C)=>(y<C.largestBatchId&&(y=C.largestBatchId),h.get(S)?Y.resolve():this.remoteDocumentCache.getEntry(t,S).next((x=>{v=v.insert(S,x)}))))).next((()=>this.populateOverlays(t,_,h))).next((()=>this.computeViews(t,v,_,zt()))).next((S=>({batchId:y,changes:FR(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((r=>{let o=so();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const h=i.collectionGroup;let d=so();return this.indexManager.getCollectionParents(t,h).next((y=>Y.forEach(y,(v=>{const _=(function(C,x){return new Gc(x,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,_,r,o).next((S=>{S.forEach(((C,x)=>{d=d.insert(C,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,h,o)))).next((d=>{h.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Ye.newInvalidDocument(S)))}));let y=so();return d.forEach(((v,_)=>{const S=h.get(v);S!==void 0&&fo(S.mutation,_,Ms.empty(),be.now()),Qc(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Va(o.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:ww(o.bundledQuery),readTime:Va(o.readTime)}})(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.overlays=new de(ft.comparator),this.qr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Rr();return Y.forEach(i,(o=>this.getOverlay(t,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,h)=>{this.St(t,i,h)})),Y.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(t,i,r){const o=Rr(),h=i.length+1,d=new ft(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return Y.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let h=new de(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let S=h.get(_.largestBatchId);S===null&&(S=Rr(),h=h.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=Rr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=o)););return Y.resolve(y)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new sw(i,r));let h=this.qr.get(i);h===void 0&&(h=zt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this.Qr=new Oe(xe.$r),this.Ur=new Oe(xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new xe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new xe(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ft(new se([])),r=new xe(i,t),o=new xe(i,t+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new se([])),r=new xe(i,t),o=new xe(i,t+1);let h=zt();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new xe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class xe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(xe.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new iw(h,i,r,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new xe(y.key,h)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?_R:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const y=this.Xr(d.Yr);h.push(y)})),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Oe(Vt);return i.forEach((o=>{const h=new xe(o,0),d=new xe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{r=r.add(y.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let h=r;ft.isDocumentKey(h)||(h=h.child(""));const d=new xe(new ft(h),0);let y=new Oe(Vt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),Y.resolve(this.ti(y))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){re(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(i.mutations,(o=>{const h=new xe(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new xe(i,0),o=this.Zr.firstAfterOrEqual(r);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.ri=t,this.docs=(function(){return new de(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Y.resolve(r?r.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(t,i){let r=Fs();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Ye.newInvalidDocument(o))})),Y.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let h=Fs();const d=i.path,y=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||mR(dR(S),r)<=0||(o.has(S.key)||Qc(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(t,i,r,o){Tt(9500)}ii(t,i){return Y.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new jw(this)}getSize(t){return Y.resolve(this.size)}}class jw extends Uw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),Y.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t){this.persistence=t,this.si=new Ur((i=>am(i)),lm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new fm,this.targetCount=0,this.ai=ja.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Y.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ja(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.Pr(i),Y.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,r){let o=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,y.targetId)),o++)})),Y.waitFor(h).next((()=>o))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return Y.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),Y.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(t,d))})),Y.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return Y.resolve(r)}containsKey(t,i){return Y.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(t,i){this.ui={},this.overlays={},this.ci=new qc(0),this.li=!1,this.li=!0,this.hi=new Pw,this.referenceDelegate=t(this),this.Pi=new Hw(this),this.indexManager=new Cw,this.remoteDocumentCache=(function(o){return new qw(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Rw(i),this.Ii=new kw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new zw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new Bw(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){nt("MemoryPersistence","Starting transaction:",t);const o=new Gw(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(t,i){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class Gw extends pR{constructor(t){super(),this.currentSequenceNumber=t}}class dm{constructor(t){this.persistence=t,this.Ri=new fm,this.Vi=null}static mi(t){return new dm(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Y.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const o=ft.fromPath(r);return this.gi(t,o).next((h=>{h||i.removeEntry(o,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class xc{constructor(t,i){this.persistence=t,this.pi=new Ur((r=>vR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Vw(this,i)}static mi(t,i){return new xc(t,i)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return Y.forEach(this.pi,((r,o)=>this.br(t,r,o).next((h=>h?Y.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((y=>{y||(r++,h.removeEntry(d,vt.min()))})))).next((()=>h.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=_c(t.data.value)),i}br(t,i,r){return Y.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return Y.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=zt(),o=zt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new mm(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return VS()?8:yR(Ke())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Fw;return this.Ss(t,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(t,i,d,y.size)}))})).next((()=>h.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(Ra()<=Ot.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",wa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Ra()<=Ot.DEBUG&&nt("QueryEngine","Query:",wa(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Ra()<=Ot.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",wa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vi(i))):Y.resolve())}ys(t,i){if(K_(i))return Y.resolve(null);let r=vi(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Vd(i,null,"F"),r=vi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((h=>{const d=zt(...h);return this.ps.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,r).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(t,Vd(i,null,"F")):this.vs(t,_,i,v)}))))})))))}ws(t,i,r,o){return K_(i)||o.isEqual(vt.min())?Y.resolve(null):this.ps.getDocuments(t,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?Y.resolve(null):(Ra()<=Ot.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wa(i)),this.vs(t,d,i,fR(o,yo)).next((y=>y)))}))}Ds(t,i){let r=new Oe(jE(t));return i.forEach(((o,h)=>{Qc(t,h)&&(r=r.add(h))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(t,i,r){return Ra()<=Ot.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",wa(i)),this.ps.getDocumentsMatchingQuery(t,i,qs.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="LocalStore",Yw=3e8;class Kw{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new de(Vt),this.xs=new Ur((h=>am(h)),lm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Lw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function Xw(a,t,i,r){return new Kw(a,t,i,r)}async function lT(a,t){const i=Lt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let v=zt();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of h){y.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function oT(a){const t=Lt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function Zw(a,t){const i=Lt(a),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];t.targetChanges.forEach(((S,C)=>{const x=o.get(C);if(!x)return;y.push(i.Pi.removeMatchingKeys(h,S.removedDocuments,C).next((()=>i.Pi.addMatchingKeys(h,S.addedDocuments,C))));let K=x.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(C)!==null?K=K.withResumeToken(He.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):S.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(S.resumeToken,r)),o=o.insert(C,K),(function(st,W,ut){return st.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=Yw?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(x,K,S)&&y.push(i.Pi.updateTargetData(h,K))}));let v=Fs(),_=zt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))})),y.push(Jw(h,d,t.documentUpdates).next((S=>{v=S.ks,_=S.qs}))),!r.isEqual(vt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(h).next((C=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(S)}return Y.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function Jw(a,t,i){let r=zt(),o=zt();return i.forEach((h=>r=r.add(h))),t.getEntries(a,r).next((h=>{let d=Fs();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(vt.min())?(t.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(v),d=d.insert(y,v)):nt(gm,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function $w(a,t){const i=Lt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((h=>h?(o=h,Y.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new Vs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function zd(a,t,i){const r=Lt(a),o=r.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Xa(d))throw d;nt(gm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function lv(a,t,i){const r=Lt(a);let o=vt.min(),h=zt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const C=Lt(v),x=C.xs.get(S);return x!==void 0?Y.resolve(C.Ms.get(x)):C.Pi.getTargetData(_,S)})(r,d,vi(t)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?o:vt.min(),i?h:zt()))).next((y=>(Ww(r,jR(t),y),{documents:y,Qs:h})))))}function Ww(a,t,i){let r=a.Os.get(t)||vt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Os.set(t,r)}class ov{constructor(){this.activeTargetIds=KR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class t2{constructor(){this.Mo=new ov,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new ov,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="ConnectivityMonitor";class cv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(uv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){nt(uv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc=null;function Pd(){return fc===null?fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():fc++,"0x"+fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="RestConnection",n2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class i2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Nc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,h){const d=Pd(),y=this.zo(t,i.toUriEncodedString());nt(fd,`Sending RPC '${t}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(y),S=Fa(_);return this.Jo(t,y,v,r,S).then((C=>(nt(fd,`Received RPC '${t}' ${d}: `,C),C)),(C=>{throw za(fd,`RPC '${t}' ${d} failed with error: `,C,"url: ",y,"request:",r),C}))}Ho(t,i,r,o,h,d){return this.Go(t,i,r,o,h)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ka})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>t[h]=o)),r&&r.headers.forEach(((o,h)=>t[h]=o))}zo(t,i){const r=n2[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class r2 extends i2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,h){const d=Pd();return new Promise(((y,v)=>{const _=new SE;_.setWithCredentials(!0),_.listenOnce(AE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case yc.NO_ERROR:const C=_.getResponseJson();nt(Fe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(C)),y(C);break;case yc.TIMEOUT:nt(Fe,`RPC '${t}' ${d} timed out`),v(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case yc.HTTP_ERROR:const x=_.getStatus();if(nt(Fe,`RPC '${t}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const tt=K?.error;if(tt&&tt.status&&tt.message){const st=(function(ut){const dt=ut.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(dt)>=0?dt:Z.UNKNOWN})(tt.status);v(new lt(st,tt.message))}else v(new lt(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{nt(Fe,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(o);nt(Fe,`RPC '${t}' ${d} sending request:`,o),_.send(i,"POST",S,r,15)}))}T_(t,i,r){const o=Pd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=wE(),y=RE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const S=h.join("");nt(Fe,`Creating RPC '${t}' stream ${o}: ${S}`,v);const C=d.createWebChannel(S,v);this.I_(C);let x=!1,K=!1;const tt=new s2({Yo:W=>{K?nt(Fe,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(x||(nt(Fe,`Opening RPC '${t}' stream ${o} transport.`),C.open(),x=!0),nt(Fe,`RPC '${t}' stream ${o} sending:`,W),C.send(W))},Zo:()=>C.close()}),st=(W,ut,dt)=>{W.listen(ut,(at=>{try{dt(at)}catch(pt){setTimeout((()=>{throw pt}),0)}}))};return st(C,io.EventType.OPEN,(()=>{K||(nt(Fe,`RPC '${t}' stream ${o} transport opened.`),tt.o_())})),st(C,io.EventType.CLOSE,(()=>{K||(K=!0,nt(Fe,`RPC '${t}' stream ${o} transport closed`),tt.a_(),this.E_(C))})),st(C,io.EventType.ERROR,(W=>{K||(K=!0,za(Fe,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),tt.a_(new lt(Z.UNAVAILABLE,"The operation could not be completed")))})),st(C,io.EventType.MESSAGE,(W=>{if(!K){const ut=W.data[0];re(!!ut,16349);const dt=ut,at=dt?.error||dt[0]?.error;if(at){nt(Fe,`RPC '${t}' stream ${o} received error:`,at);const pt=at.status;let wt=(function(A){const w=Ae[A];if(w!==void 0)return ZE(w)})(pt),yt=at.message;wt===void 0&&(wt=Z.INTERNAL,yt="Unknown error status: "+pt+" with message "+at.message),K=!0,tt.a_(new lt(wt,yt)),C.close()}else nt(Fe,`RPC '${t}' stream ${o} received:`,ut),tt.u_(ut)}})),st(y,bE.STAT_EVENT,(W=>{W.stat===bd.PROXY?nt(Fe,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===bd.NOPROXY&&nt(Fe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function dd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(a){return new fw(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(t,i,r=1e3,o=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&nt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="PersistentStream";class a2{constructor(t,i,r,o,h,d,y,v){this.Mi=t,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Qi(i.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new lt(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return nt(hv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(nt(hv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class l2 extends a2{constructor(t,i,r,o,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=yw(this.serializer,t),r=(function(h){if(!("targetChange"in h))return vt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Va(d.readTime):vt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=iv(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=Md(v)?{documents:_w(h,v)}:{query:vw(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=mw(h,d.resumeToken);const _=Ld(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){y.readTime=dw(h,d.snapshotVersion.toTimestamp());const _=Ld(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,t);const r=Tw(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=iv(this.serializer),i.removeTarget=t,this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{}class u2 extends o2{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,kd(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(Z.UNKNOWN,h.toString())}))}Ho(t,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(t,kd(i,r),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class c2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qi(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="RemoteStore";class h2{constructor(t,i,r,o,h){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Oo(this)&&(nt(Ha,"Restarting streams for network reachability change."),await(async function(v){const _=Lt(v);_.Ea.add(4),await No(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Zc(_)})(this))}))})),this.Ra=new c2(r,o)}}async function Zc(a){if(Oo(a))for(const t of a.da)await t(!0)}async function No(a){for(const t of a.da)await t(!1)}function hT(a,t){const i=Lt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),vm(i)?_m(i):Za(i).O_()&&ym(i,t))}function pm(a,t){const i=Lt(a),r=Za(i);i.Ia.delete(t),r.O_()&&fT(i,t),i.Ia.size===0&&(r.O_()?r.L_():Oo(i)&&i.Ra.set("Unknown"))}function ym(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Za(a).Y_(t)}function fT(a,t){a.Va.Ue(t),Za(a).Z_(t)}function _m(a){a.Va=new ow({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),Za(a).start(),a.Ra.ua()}function vm(a){return Oo(a)&&!Za(a).x_()&&a.Ia.size>0}function Oo(a){return Lt(a).Ea.size===0}function dT(a){a.Va=void 0}async function f2(a){a.Ra.set("Online")}async function d2(a){a.Ia.forEach(((t,i)=>{ym(a,t)}))}async function m2(a,t){dT(a),vm(a)?(a.Ra.ha(t),_m(a)):a.Ra.set("Unknown")}async function g2(a,t,i){if(a.Ra.set("Online"),t instanceof $E&&t.state===2&&t.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(a,t)}catch(r){nt(Ha,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await fv(a,r)}else if(t instanceof Ec?a.Va.Ze(t):t instanceof JE?a.Va.st(t):a.Va.tt(t),!i.isEqual(vt.min()))try{const r=await oT(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=h.Ia.get(_);S&&h.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const S=h.Ia.get(v);if(!S)return;h.Ia.set(v,S.withResumeToken(He.EMPTY_BYTE_STRING,S.snapshotVersion)),fT(h,v);const C=new Vs(S.target,v,_,S.sequenceNumber);ym(h,C)})),h.remoteSyncer.applyRemoteEvent(y)})(a,i)}catch(r){nt(Ha,"Failed to raise snapshot:",r),await fv(a,r)}}async function fv(a,t,i){if(!Xa(t))throw t;a.Ea.add(1),await No(a),a.Ra.set("Offline"),i||(i=()=>oT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{nt(Ha,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Zc(a)}))}async function dv(a,t){const i=Lt(a);i.asyncQueue.verifyOperationInProgress(),nt(Ha,"RemoteStore received new credentials");const r=Oo(i);i.Ea.add(3),await No(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Zc(i)}async function p2(a,t){const i=Lt(a);t?(i.Ea.delete(2),await Zc(i)):t||(i.Ea.add(2),await No(i),i.Ra.set("Unknown"))}function Za(a){return a.ma||(a.ma=(function(i,r,o){const h=Lt(i);return h.sa(),new l2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:f2.bind(null,a),t_:d2.bind(null,a),r_:m2.bind(null,a),H_:g2.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),vm(a)?_m(a):a.Ra.set("Unknown")):(await a.ma.stop(),dT(a))}))),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(t,i,r,o,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,h){const d=Date.now()+r,y=new Em(t,i,d,o,h);return y.start(r),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mT(a,t){if(Qi("AsyncQueue",`${t}: ${a}`),Xa(a))return new lt(Z.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{static emptySet(t){return new Ua(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ft.comparator(i.key,r.key):(i,r)=>ft.comparator(i.key,r.key),this.keyedMap=so(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ua)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ua;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.ga=new de(ft.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Ga{constructor(t,i,r,o,h,d,y,v,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Ga(t,i,Ua.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class _2{constructor(){this.queries=gv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Lt(i),h=o.queries;o.queries=gv(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function gv(){return new Ur((a=>qE(a)),Fc)}async function v2(a,t){const i=Lt(a);let r=3;const o=t.query;let h=i.queries.get(o);h?!h.ba()&&t.Da()&&(r=2):(h=new y2,r=t.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=mT(d,`Initialization of query '${wa(t.query)}' failed`);return void t.onError(y)}i.queries.set(o,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Tm(i)}async function E2(a,t){const i=Lt(a),r=t.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=t.Da()?0:1:!h.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function T2(a,t){const i=Lt(a);let r=!1;for(const o of t){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(o)&&(r=!0);d.wa=o}}r&&Tm(i)}function S2(a,t,i){const r=Lt(a),o=r.queries.get(t);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(t)}function Tm(a){a.Ca.forEach((t=>{t.next()}))}var Bd,pv;(pv=Bd||(Bd={})).Ma="default",pv.Cache="cache";class A2{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Ga(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ga.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Bd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(t){this.key=t}}class pT{constructor(t){this.key=t}}class b2{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=jE(t),this.tu=new Ua(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new mv,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((S,C)=>{const x=o.get(S),K=Qc(this.query,C)?C:null,tt=!!x&&this.mutatedKeys.has(x.key),st=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let W=!1;x&&K?x.data.isEqual(K.data)?tt!==st&&(r.track({type:3,doc:K}),W=!0):this.su(x,K)||(r.track({type:2,doc:K}),W=!0,(v&&this.eu(K,v)>0||_&&this.eu(K,_)<0)&&(y=!0)):!x&&K?(r.track({type:0,doc:K}),W=!0):x&&!K&&(r.track({type:1,doc:x}),W=!0,(v||_)&&(y=!0)),W&&(K?(d=d.add(K),h=st?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:y,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,C)=>(function(K,tt){const st=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:W})}};return st(K)-st(tt)})(S.type,C.type)||this.eu(S.doc,C.doc))),this.ou(r),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Ga(this.query,t.tu,h,d,t.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new pT(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new gT(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ga.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sm="SyncEngine";class R2{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class w2{constructor(t){this.key=t,this.hu=!1}}class C2{constructor(t,i,r,o,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ur((y=>qE(y)),Fc),this.Iu=new Map,this.Eu=new Set,this.du=new de(ft.comparator),this.Au=new Map,this.Ru=new fm,this.Vu={},this.mu=new Map,this.fu=ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function I2(a,t,i=!0){const r=TT(a);let o;const h=r.Tu.get(t);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await yT(r,t,i,!0),o}async function D2(a,t){const i=TT(a);await yT(i,t,!0,!1)}async function yT(a,t,i,r){const o=await $w(a.localStore,vi(t)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let y;return r&&(y=await N2(a,t,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&hT(a.remoteStore,o),y}async function N2(a,t,i,r,o){a.pu=(C,x,K)=>(async function(st,W,ut,dt){let at=W.view.ru(ut);at.Cs&&(at=await lv(st.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,at))));const pt=dt&&dt.targetChanges.get(W.targetId),wt=dt&&dt.targetMismatches.get(W.targetId)!=null,yt=W.view.applyChanges(at,st.isPrimaryClient,pt,wt);return _v(st,W.targetId,yt.au),yt.snapshot})(a,C,x,K);const h=await lv(a.localStore,t,!0),d=new b2(t,h.Qs),y=d.ru(h.documents),v=Do.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),_=d.applyChanges(y,a.isPrimaryClient,v);_v(a,i,_.au);const S=new R2(t,i,d);return a.Tu.set(t,S),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),_.snapshot}async function O2(a,t,i){const r=Lt(a),o=r.Tu.get(t),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!Fc(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await zd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&pm(r.remoteStore,o.targetId),qd(r,o.targetId)})).catch(Bc)):(qd(r,o.targetId),await zd(r.localStore,o.targetId,!0))}async function M2(a,t){const i=Lt(a),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),pm(i.remoteStore,r.targetId))}async function _T(a,t){const i=Lt(a);try{const r=await Zw(i.localStore,t);t.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(re(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?re(d.hu,14607):o.removedDocuments.size>0&&(re(d.hu,42227),d.hu=!1))})),await ET(i,r,t)}catch(r){await Bc(r)}}function yv(a,t,i){const r=Lt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(t);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=Lt(d);v.onlineState=y;let _=!1;v.queries.forEach(((S,C)=>{for(const x of C.Sa)x.va(y)&&(_=!0)})),_&&Tm(v)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function V2(a,t,i){const r=Lt(a);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),h=o&&o.key;if(h){let d=new de(ft.comparator);d=d.insert(h,Ye.newNoDocument(h,vt.min()));const y=zt().add(h),v=new Xc(vt.min(),new Map,new de(Vt),d,y);await _T(r,v),r.du=r.du.remove(h),r.Au.delete(t),Am(r)}else await zd(r.localStore,t,!1).then((()=>qd(r,t,i))).catch(Bc)}function qd(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||vT(a,r)}))}function vT(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(pm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Am(a))}function _v(a,t,i){for(const r of i)r instanceof gT?(a.Ru.addReference(r.key,t),U2(a,r)):r instanceof pT?(nt(Sm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||vT(a,r.key)):Tt(19791,{wu:r})}function U2(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(nt(Sm,"New document in limbo: "+i),a.Eu.add(r),Am(a))}function Am(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ft(se.fromString(t)),r=a.fu.next();a.Au.set(r,new w2(i)),a.du=a.du.insert(i,r),hT(a.remoteStore,new Vs(vi(om(i.path)),r,"TargetPurposeLimboResolution",qc.ce))}}async function ET(a,t,i){const r=Lt(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){o.push(_);const S=mm.As(v.targetId,_);h.push(S)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const S=Lt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>Y.forEach(_,(x=>Y.forEach(x.Es,(K=>S.persistence.referenceDelegate.addReference(C,x.targetId,K))).next((()=>Y.forEach(x.ds,(K=>S.persistence.referenceDelegate.removeReference(C,x.targetId,K)))))))))}catch(C){if(!Xa(C))throw C;nt(gm,"Failed to update sequence numbers: "+C)}for(const C of _){const x=C.targetId;if(!C.fromCache){const K=S.Ms.get(x),tt=K.snapshotVersion,st=K.withLastLimboFreeSnapshotVersion(tt);S.Ms=S.Ms.insert(x,st)}}})(r.localStore,h))}async function x2(a,t){const i=Lt(a);if(!i.currentUser.isEqual(t)){nt(Sm,"User change. New user:",t.toKey());const r=await lT(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new lt(Z.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ET(i,r.Ls)}}function L2(a,t){const i=Lt(a),r=i.Au.get(t);if(r&&r.hu)return zt().add(r.key);{let o=zt();const h=i.Iu.get(t);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function TT(a){const t=Lt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=_T.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=L2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=V2.bind(null,t),t.Pu.H_=T2.bind(null,t.eventManager),t.Pu.yu=S2.bind(null,t.eventManager),t}class Lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=uT(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Xw(this.persistence,new Qw,t.initialUser,this.serializer)}Cu(t){return new aT(dm.mi,this.serializer)}Du(t){return new t2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lc.provider={build:()=>new Lc};class k2 extends Lc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){re(this.persistence.referenceDelegate instanceof xc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Ow(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new aT((r=>xc.mi(r,i)),this.serializer)}}class jd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x2.bind(null,this.syncEngine),await p2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new _2})()}createDatastore(t){const i=uT(t.databaseInfo.databaseId),r=(function(h){return new r2(h)})(t.databaseInfo);return(function(h,d,y,v){return new u2(h,d,y,v)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,h,d,y){return new h2(r,o,h,d,y)})(this.localStore,this.datastore,t.asyncQueue,(i=>yv(this.syncEngine,i,0)),(function(){return cv.v()?new cv:new e2})())}createSyncEngine(t,i){return(function(o,h,d,y,v,_,S){const C=new C2(o,h,d,y,v,_);return S&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Lt(i);nt(Ha,"RemoteStore shutting down."),r.Ea.add(5),await No(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jd.provider={build:()=>new jd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="FirestoreClient";class P2{constructor(t,i,r,o,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{nt(Qs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(nt(Qs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=mT(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function md(a,t){a.asyncQueue.verifyOperationInProgress(),nt(Qs,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await lT(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function vv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await B2(a);nt(Qs,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>dv(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>dv(t.remoteStore,o))),a._onlineComponents=t}async function B2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){nt(Qs,"Using user provided OfflineComponentProvider");try{await md(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;za("Error using user provided cache. Falling back to memory cache: "+i),await md(a,new Lc)}}else nt(Qs,"Using default OfflineComponentProvider"),await md(a,new k2(void 0));return a._offlineComponents}async function q2(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(nt(Qs,"Using user provided OnlineComponentProvider"),await vv(a,a._uninitializedComponentsProvider._online)):(nt(Qs,"Using default OnlineComponentProvider"),await vv(a,new jd))),a._onlineComponents}async function j2(a){const t=await q2(a),i=t.eventManager;return i.onListen=I2.bind(null,t.syncEngine),i.onUnlisten=O2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=D2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=M2.bind(null,t.syncEngine),i}function H2(a,t,i={}){const r=new Cr;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const S=new z2({next:x=>{S.Nu(),d.enqueueAndForget((()=>E2(h,C)));const K=x.docs.has(y);!K&&x.fromCache?_.reject(new lt(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&x.fromCache&&v&&v.source==="server"?_.reject(new lt(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),C=new A2(om(y.path),S,{includeMetadataChanges:!0,qa:!0});return v2(h,C)})(await j2(a),a.asyncQueue,t,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="firestore.googleapis.com",Tv=!0;class Sv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AT,this.ssl=Tv}else this.host=t.host,this.ssl=t.ssl??Tv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=rT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Dw)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}uR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ST(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bm{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new $b;switch(r.type){case"firstParty":return new nR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Ev.get(i);r&&(nt("ComponentProvider","Removing Datastore"),Ev.delete(i),r.terminate())})(this),Promise.resolve()}}function G2(a,t,i,r={}){a=wd(a,bm);const o=Fa(t),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},y=`${t}:${i}`;o&&(Lv(`https://${y}`),kv("Firestore",!0)),h.host!==AT&&h.host!==y&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:o,emulatorOptions:r};if(!Nr(v,d)&&(a._setSettings(v),r.mockUserToken)){let _,S;if(typeof r.mockUserToken=="string")_=r.mockUserToken,S=Qe.MOCK_USER;else{_=bS(r.mockUserToken,a._app?.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Qe(C)}a._authCredentials=new Wb(new IE(_,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Rm(this.firestore,t,this._query)}}class We{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new We(this.firestore,t,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Co(i,We._jsonSchema))return new We(t,r||null,new ft(se.fromString(i.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:Re("string",We._jsonSchemaVersion),referencePath:Re("string")};class To extends Rm{constructor(t,i,r){super(t,i,om(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new We(this.firestore,null,new ft(t))}withConverter(t){return new To(this.firestore,t,this._path)}}function F2(a,t,...i){if(a=Vr(a),arguments.length===1&&(t=im.newId()),oR("doc","path",t),a instanceof bm){const r=se.fromString(t,...i);return x_(r),new We(a,null,new ft(r))}{if(!(a instanceof We||a instanceof To))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(se.fromString(t,...i));return x_(r),new We(a.firestore,a instanceof To?a.converter:null,new ft(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="AsyncQueue";class bv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cT(this,"async_queue_retry"),this._c=()=>{const r=dd();r&&nt(Av,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=dd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=dd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Xa(t))throw t;nt(Av,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Qi("INTERNAL UNHANDLED ERROR: ",Rv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Em.createAndSchedule(this,t,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:Rv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Rv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class bT extends bm{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new bv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new bv(t),this._firestoreClient=void 0,await t}}}function Q2(a,t){const i=typeof a=="object"?a:qv(),r=typeof a=="string"?a:Nc,o=Qd(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=SS("firestore");h&&G2(o,...h)}return o}function Y2(a){if(a._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||K2(a),a._firestoreClient}function K2(a){const t=a._freezeSettings(),i=(function(o,h,d,y){return new AR(o,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,ST(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new P2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new pi(He.fromBase64String(t))}catch(i){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new pi(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Co(t,pi._jsonSchema))return pi.fromBase64String(t.bytes)}}pi._jsonSchemaVersion="firestore/bytes/1.0",pi._jsonSchema={type:Re("string",pi._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zs._jsonSchemaVersion}}static fromJSON(t){if(Co(t,zs._jsonSchema))return new zs(t.latitude,t.longitude)}}zs._jsonSchemaVersion="firestore/geoPoint/1.0",zs._jsonSchema={type:Re("string",zs._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Co(t,Ps._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ps(t.vectorValues);throw new lt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ps._jsonSchemaVersion="firestore/vectorValue/1.0",Ps._jsonSchema={type:Re("string",Ps._jsonSchemaVersion),vectorValues:Re("object")};const X2=new RegExp("[~\\*/\\[\\]]");function Z2(a,t,i){if(t.search(X2)>=0)throw wv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a);try{return new RT(...t.split("."))._internalPath}catch{throw wv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a)}}function wv(a,t,i,r,o){let h=`Function ${t}() called with invalid data`;h+=". ";let d="";return new lt(Z.INVALID_ARGUMENT,h+a+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t,i,r,o,h){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new J2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(CT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class J2 extends wT{data(){return super.data()}}function CT(a,t){return typeof t=="string"?Z2(a,t):t instanceof RT?t._internalPath:t._delegate._internalPath}class $2{convertValue(t,i="none"){switch(Gs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Hs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Io(t,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(t){const i=t.fields?.[Id].arrayValue?.values?.map((r=>fe(r.doubleValue)));return new Ps(i)}convertGeoPoint(t){return new zs(fe(t.latitude),fe(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Hc(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(_o(t));default:return null}}convertTimestamp(t){const i=js(t);return new be(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=se.fromString(t);re(sT(r),9688,{name:t});const o=new vo(r.get(1),r.get(3)),h=new ft(r.popFirst(5));return o.isEqual(i)||Qi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class ao{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Dr extends wT{constructor(t,i,r,o,h,d){super(t,i,r,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(CT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Dr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Dr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Dr._jsonSchema={type:Re("string",Dr._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Tc extends Dr{data(t={}){return super.data(t)}}class mo{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new ao(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Tc(this._firestore,this._userDataWriter,r.key,r,new ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new Tc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ao(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Tc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ao(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:W2(y.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=mo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=im.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function W2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(a){a=wd(a,We);const t=wd(a.firestore,bT);return H2(Y2(t),a._key).then((i=>nC(t,a,i)))}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:Re("string",mo._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class eC extends $2{constructor(t){super(),this.firestore=t}convertBytes(t){return new pi(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new We(this.firestore,null,i)}}function nC(a,t,i){const r=i.docs.get(t._key),o=new eC(a);return new Dr(a,o,t._key,r,new ao(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){Ka=o})(Qa),La(new Or("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new bT(new tR(r.getProvider("auth-internal")),new iR(d,r.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vo(_.options.projectId,S)})(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),Ls(O_,M_,t),Ls(O_,M_,"esm2020")})();const Cv={apiKey:"AIzaSy_fallback_key",authDomain:"fallback-project.firebaseapp.com",projectId:"fallback-project",storageBucket:"fallback-project.appspot.com",messagingSenderId:"123456789012",appId:"1:123456789012:web:a1b2c3d4e5f6g7h8i9j0"},Iv=typeof __firebase_config<"u"?__firebase_config:null;let xa;if(Iv)try{xa=JSON.parse(Iv)}catch(a){console.error("Erreur lors de l'analyse de la configuration Firebase JSON fournie. Utilisation de la configuration de secours.",a),xa=Cv}else console.warn("Avertissement: __firebase_config est manquant. Utilisation de la configuration de secours."),xa=Cv;const iC=typeof __initial_auth_token<"u"?__initial_auth_token:null,Dv="contacts/AAD",gd="test-uid-simulation",sC=()=>{const[a,t]=On.useState(null),[i,r]=On.useState(null),[o,h]=On.useState(null),[d,y]=On.useState(!0),[v,_]=On.useState(null),[S,C]=On.useState({}),[x,K]=On.useState(0),tt=On.useMemo(()=>Object.keys(xa).length>0&&!!xa.apiKey,[]);On.useEffect(()=>{_(null),h(null);try{const ut=Bv(xa),dt=Q2(ut),at=Xb(ut);Jb("debug"),t(dt),r(at),console.warn("[AUTH SIMULATION] Authentification relle dsactive. Simulation de connexion russie avec UID:",gd),h(gd),y(!1),K(pt=>pt+1)}catch(ut){console.error("Erreur critique lors de l'initialisation de Firebase:",ut),_("Erreur critique lors de l'initialisation de Firebase: "+ut.message),y(!1)}},[tt,iC]);const st=On.useCallback(async(ut,dt)=>{if(!dt)return{status:"Non initialis",data:null};const at=3;for(let pt=0;pt<at;pt++)try{const wt=F2(dt,ut),yt=await tC(wt);return yt.exists()?{status:"Succs",data:yt.data()}:{status:"Document non trouv",data:null}}catch(wt){if(console.error(`[CONSOLE_ERROR] Erreur lors de la rcupration du document ${ut} (tentative ${pt+1}):`,wt),pt===at-1)return{status:"Erreur critique de lecture/permission",error:wt.message};const yt=Math.pow(2,pt)*1e3+Math.random()*1e3;await new Promise(I=>setTimeout(I,yt))}},[]);On.useEffect(()=>{if(!a||!o)return;(async()=>{y(!0),console.log(`[INFO] Tentative de rcupration des donnes avec UID: ${o} (Simul)`);const dt=await st(Dv,a),at=[],pt={};for(const wt of at){const yt=await st(wt.path,a);pt[wt.name]=yt}C({rootContact:dt,externalDocuments:pt}),y(!1)})()},[a,o,x,st]);const W=(ut,dt,at)=>{let pt="bg-gray-200 text-gray-700",wt="En attente...",yt=null;return at.status==="Non initialis"?wt="Non initialis":at.status==="Succs"?(pt="bg-green-100 text-green-700",wt="Succs! Document trouv.",yt=Et.jsx("pre",{className:"mt-2 p-2 bg-white border rounded text-xs overflow-auto max-h-40",children:JSON.stringify(at.data,null,2)})):at.status==="Document non trouv"?(pt="bg-yellow-100 text-yellow-700",wt="Document non trouv"):at.status==="Erreur critique de lecture/permission"&&(pt="bg-red-100 text-red-700",wt=`Accs Refus (Permission/Erreur): ${at.error}`,yt=Et.jsxs("div",{className:"mt-2 p-2 bg-white border border-red-300 rounded text-sm",children:[Et.jsx("p",{className:"font-bold text-red-700 mb-1",children:"Action Requise : Vrification des Rgles Firestore"}),Et.jsx("p",{children:"Mme avec l'UID simul, Firestore rejette la requte. Cela signifie que vos Rgles de Scurit ne permettent pas l'accs."}),Et.jsxs("p",{className:"font-medium mt-1",children:["Veuillez vrifier vos rgles pour la collection ",Et.jsx("code",{className:"bg-gray-100 p-1 rounded text-xs",children:dt.split("/")[0]})," et vous assurer qu'elles autorisent la lecture (au moins temporairement pour le diagnostic)."]})]})),Et.jsxs("div",{className:"mb-4 p-4 border rounded-lg shadow-sm bg-white",children:[Et.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:ut}),Et.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["**Path:** ",Et.jsx("code",{className:"bg-gray-100 p-1 rounded text-xs",children:dt})]}),Et.jsxs("div",{className:`p-2 rounded text-sm font-medium ${pt}`,children:["Statut: ",wt]}),yt]},dt)};return v?Et.jsx("div",{className:"p-8 bg-red-50 min-h-screen",children:Et.jsxs("div",{className:"max-w-3xl mx-auto p-6 bg-white rounded-xl shadow-2xl border border-red-300",children:[Et.jsx("h1",{className:"text-2xl font-bold text-red-800 mb-4",children:"Erreur Critique"}),Et.jsx("p",{className:"text-red-600 mb-4 font-mono",children:v}),Et.jsx("p",{className:"text-sm text-red-700",children:"Cette erreur empche l'initialisation. Si l'erreur concerne `__firebase_config` ou l'authentification, elle doit tre rsolue par l'environnement d'excution (Canvas)."})]})}):Et.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-8 font-sans",children:[Et.jsx("script",{src:"https://cdn.tailwindcss.com"}),Et.jsxs("div",{className:"max-w-4xl mx-auto",children:[Et.jsxs("header",{className:"text-center mb-10",children:[Et.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-indigo-700 mb-2",children:"Vrification des Documents Firestore"}),Et.jsxs("p",{className:"text-gray-600",children:["**MODE SIMUL :** L'authentification a chou. Connexion simule avec UID ",Et.jsx("code",{className:"bg-gray-200 p-1 rounded text-xs",children:gd})," pour vrifier les rgles Firestore."]})]}),Et.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-indigo-500 mb-8",children:[Et.jsx("h2",{className:"text-xl font-semibold text-indigo-700 mb-3",children:"Statut du Diagnostic"}),Et.jsxs("div",{className:"space-y-2",children:[Et.jsxs("p",{className:"text-gray-700",children:["**Configuration :** ",Et.jsx("span",{className:`font-semibold ${tt?"text-green-600":"text-red-600"}`,children:tt?"Disponible (via secours)":"Configuration manquante/factice"})]}),Et.jsxs("p",{className:"text-gray-700",children:["**tat de la connexion :** ",Et.jsx("span",{className:`font-semibold ${o?"text-green-600":"text-red-600"}`,children:o?`Connect (UID simul: ${o})`:"Non Connect/Anonyme"})]}),Et.jsx("p",{className:"text-gray-700 text-sm italic",children:'**Objectif :** Vrifier si la lecture du document `contacts/AAD` est autorise sous le statut d\'utilisateur "connect" (simul).'}),d&&Et.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[Et.jsxs("svg",{className:"animate-spin h-5 w-5 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Et.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Et.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Et.jsx("span",{className:"text-indigo-600",children:"Chargement des donnes..."})]})]})]}),Et.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Et.jsxs("div",{className:"md:col-span-2",children:[Et.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3 border-b pb-1",children:"Contacts (Racine)"}),W("Document contacts/AAD",Dv,S.rootContact||{})]})}),Et.jsx("footer",{className:"mt-10 pt-4 border-t text-center text-sm text-gray-500",children:Et.jsx("p",{children:"Le code est maintenant configur en mode diagnostic de scurit pur."})})]})]})};dS.createRoot(document.getElementById("root")).render(Et.jsx(On.StrictMode,{children:Et.jsx(sC,{})}));
