(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var $f={exports:{}},eo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function rS(){if(Yy)return eo;Yy=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return eo.Fragment=t,eo.jsx=i,eo.jsxs=i,eo}var Ky;function aS(){return Ky||(Ky=1,$f.exports=rS()),$f.exports}var dt=aS(),Wf={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function lS(){if(Xy)return yt;Xy=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),U=Symbol.iterator;function K(O){return O===null||typeof O!="object"?null:(O=U&&O[U]||O["@@iterator"],typeof O=="function"?O:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,W={};function pt(O,Q,$){this.props=O,this.context=Q,this.refs=W,this.updater=$||tt}pt.prototype.isReactComponent={},pt.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},pt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function wt(){}wt.prototype=pt.prototype;function lt(O,Q,$){this.props=O,this.context=Q,this.refs=W,this.updater=$||tt}var Rt=lt.prototype=new wt;Rt.constructor=lt,st(Rt,pt.prototype),Rt.isPureReactComponent=!0;var St=Array.isArray;function ft(){}var b={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(O,Q,$){var et=$.ref;return{$$typeof:a,type:O,key:Q,ref:et!==void 0?et:null,props:$}}function M(O,Q){return R(O.type,Q,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function x(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function($){return Q[$]})}var w=/\/+/g;function te(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?x(""+O.key):Q.toString(36)}function we(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ft,ft):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Q,$,et,gt){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var xt=!1;if(O===null)xt=!0;else switch(At){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(O.$$typeof){case a:case t:xt=!0;break;case A:return xt=O._init,H(xt(O._payload),Q,$,et,gt)}}if(xt)return gt=gt(O),xt=et===""?"."+te(O,0):et,St(gt)?($="",xt!=null&&($=xt.replace(w,"$&/")+"/"),H(gt,Q,$,"",function(Zs){return Zs})):gt!=null&&(N(gt)&&(gt=M(gt,$+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(w,"$&/")+"/")+xt)),Q.push(gt)),1;xt=0;var Ce=et===""?".":et+":";if(St(O))for(var ee=0;ee<O.length;ee++)et=O[ee],At=Ce+te(et,ee),xt+=H(et,Q,$,At,gt);else if(ee=K(O),typeof ee=="function")for(O=ee.call(O),ee=0;!(et=O.next()).done;)et=et.value,At=Ce+te(et,ee++),xt+=H(et,Q,$,At,gt);else if(At==="object"){if(typeof O.then=="function")return H(we(O),Q,$,et,gt);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return xt}function J(O,Q,$){if(O==null)return O;var et=[],gt=0;return H(O,et,"","",function(At){return Q.call($,At,gt++)}),et}function ut(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function($){(O._status===0||O._status===-1)&&(O._status=1,O._result=$)},function($){(O._status===0||O._status===-1)&&(O._status=2,O._result=$)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var kt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:J,forEach:function(O,Q,$){J(O,function(){Q.apply(this,arguments)},$)},count:function(O){var Q=0;return J(O,function(){Q++}),Q},toArray:function(O){return J(O,function(Q){return Q})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return yt.Activity=I,yt.Children=Ht,yt.Component=pt,yt.Fragment=i,yt.Profiler=o,yt.PureComponent=lt,yt.StrictMode=r,yt.Suspense=v,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,yt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return b.H.useMemoCache(O)}},yt.cache=function(O){return function(){return O.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(O,Q,$){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var et=st({},O.props),gt=O.key;if(Q!=null)for(At in Q.key!==void 0&&(gt=""+Q.key),Q)!S.call(Q,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Q.ref===void 0||(et[At]=Q[At]);var At=arguments.length-2;if(At===1)et.children=$;else if(1<At){for(var xt=Array(At),Ce=0;Ce<At;Ce++)xt[Ce]=arguments[Ce+2];et.children=xt}return R(O.type,gt,et)},yt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},yt.createElement=function(O,Q,$){var et,gt={},At=null;if(Q!=null)for(et in Q.key!==void 0&&(At=""+Q.key),Q)S.call(Q,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(gt[et]=Q[et]);var xt=arguments.length-2;if(xt===1)gt.children=$;else if(1<xt){for(var Ce=Array(xt),ee=0;ee<xt;ee++)Ce[ee]=arguments[ee+2];gt.children=Ce}if(O&&O.defaultProps)for(et in xt=O.defaultProps,xt)gt[et]===void 0&&(gt[et]=xt[et]);return R(O,At,gt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(O){return{$$typeof:y,render:O}},yt.isValidElement=N,yt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ut}},yt.memo=function(O,Q){return{$$typeof:_,type:O,compare:Q===void 0?null:Q}},yt.startTransition=function(O){var Q=b.T,$={};b.T=$;try{var et=O(),gt=b.S;gt!==null&&gt($,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(ft,kt)}catch(At){kt(At)}finally{Q!==null&&$.types!==null&&(Q.types=$.types),b.T=Q}},yt.unstable_useCacheRefresh=function(){return b.H.useCacheRefresh()},yt.use=function(O){return b.H.use(O)},yt.useActionState=function(O,Q,$){return b.H.useActionState(O,Q,$)},yt.useCallback=function(O,Q){return b.H.useCallback(O,Q)},yt.useContext=function(O){return b.H.useContext(O)},yt.useDebugValue=function(){},yt.useDeferredValue=function(O,Q){return b.H.useDeferredValue(O,Q)},yt.useEffect=function(O,Q){return b.H.useEffect(O,Q)},yt.useEffectEvent=function(O){return b.H.useEffectEvent(O)},yt.useId=function(){return b.H.useId()},yt.useImperativeHandle=function(O,Q,$){return b.H.useImperativeHandle(O,Q,$)},yt.useInsertionEffect=function(O,Q){return b.H.useInsertionEffect(O,Q)},yt.useLayoutEffect=function(O,Q){return b.H.useLayoutEffect(O,Q)},yt.useMemo=function(O,Q){return b.H.useMemo(O,Q)},yt.useOptimistic=function(O,Q){return b.H.useOptimistic(O,Q)},yt.useReducer=function(O,Q,$){return b.H.useReducer(O,Q,$)},yt.useRef=function(O){return b.H.useRef(O)},yt.useState=function(O){return b.H.useState(O)},yt.useSyncExternalStore=function(O,Q,$){return b.H.useSyncExternalStore(O,Q,$)},yt.useTransition=function(){return b.H.useTransition()},yt.version="19.2.0",yt}var Zy;function Fd(){return Zy||(Zy=1,Wf.exports=lS()),Wf.exports}var _n=Fd(),td={exports:{}},no={},ed={exports:{}},nd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function oS(){return Jy||(Jy=1,(function(a){function t(H,J){var ut=H.length;H.push(J);t:for(;0<ut;){var kt=ut-1>>>1,Ht=H[kt];if(0<o(Ht,J))H[kt]=J,H[ut]=Ht,ut=kt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var J=H[0],ut=H.pop();if(ut!==J){H[0]=ut;t:for(var kt=0,Ht=H.length,O=Ht>>>1;kt<O;){var Q=2*(kt+1)-1,$=H[Q],et=Q+1,gt=H[et];if(0>o($,ut))et<Ht&&0>o(gt,$)?(H[kt]=gt,H[et]=ut,kt=et):(H[kt]=$,H[Q]=ut,kt=Q);else if(et<Ht&&0>o(gt,ut))H[kt]=gt,H[et]=ut,kt=et;else break t}}return J}function o(H,J){var ut=H.sortIndex-J.sortIndex;return ut!==0?ut:H.id-J.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();a.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,I=null,U=3,K=!1,tt=!1,st=!1,W=!1,pt=typeof setTimeout=="function"?setTimeout:null,wt=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function Rt(H){for(var J=i(_);J!==null;){if(J.callback===null)r(_);else if(J.startTime<=H)r(_),J.sortIndex=J.expirationTime,t(v,J);else break;J=i(_)}}function St(H){if(st=!1,Rt(H),!tt)if(i(v)!==null)tt=!0,ft||(ft=!0,x());else{var J=i(_);J!==null&&we(St,J.startTime-H)}}var ft=!1,b=-1,S=5,R=-1;function M(){return W?!0:!(a.unstable_now()-R<S)}function N(){if(W=!1,ft){var H=a.unstable_now();R=H;var J=!0;try{t:{tt=!1,st&&(st=!1,wt(b),b=-1),K=!0;var ut=U;try{e:{for(Rt(H),I=i(v);I!==null&&!(I.expirationTime>H&&M());){var kt=I.callback;if(typeof kt=="function"){I.callback=null,U=I.priorityLevel;var Ht=kt(I.expirationTime<=H);if(H=a.unstable_now(),typeof Ht=="function"){I.callback=Ht,Rt(H),J=!0;break e}I===i(v)&&r(v),Rt(H)}else r(v);I=i(v)}if(I!==null)J=!0;else{var O=i(_);O!==null&&we(St,O.startTime-H),J=!1}}break t}finally{I=null,U=ut,K=!1}J=void 0}}finally{J?x():ft=!1}}}var x;if(typeof lt=="function")x=function(){lt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,te=w.port2;w.port1.onmessage=N,x=function(){te.postMessage(null)}}else x=function(){pt(N,0)};function we(H,J){b=pt(function(){H(a.unstable_now())},J)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return U},a.unstable_next=function(H){switch(U){case 1:case 2:case 3:var J=3;break;default:J=U}var ut=U;U=J;try{return H()}finally{U=ut}},a.unstable_requestPaint=function(){W=!0},a.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=U;U=H;try{return J()}finally{U=ut}},a.unstable_scheduleCallback=function(H,J,ut){var kt=a.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?kt+ut:kt):ut=kt,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ut+Ht,H={id:A++,callback:J,priorityLevel:H,startTime:ut,expirationTime:Ht,sortIndex:-1},ut>kt?(H.sortIndex=ut,t(_,H),i(v)===null&&H===i(_)&&(st?(wt(b),b=-1):st=!0,we(St,ut-kt))):(H.sortIndex=Ht,t(v,H),tt||K||(tt=!0,ft||(ft=!0,x()))),H},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(H){var J=U;return function(){var ut=U;U=J;try{return H.apply(this,arguments)}finally{U=ut}}}})(nd)),nd}var $y;function uS(){return $y||($y=1,ed.exports=oS()),ed.exports}var id={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function cS(){if(Wy)return Ge;Wy=1;var a=Fd();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:I==null?null:""+I,children:v,containerInfo:_,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ge.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return h(v,_,null,A)},Ge.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},Ge.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Ge.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Ge.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,I=y(A,_.crossOrigin),U=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:U,fetchPriority:K}):A==="script"&&r.d.X(v,{crossOrigin:I,integrity:U,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Ge.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,I=y(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Ge.requestFormReset=function(v){r.d.r(v)},Ge.unstable_batchedUpdates=function(v,_){return v(_)},Ge.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.2.0",Ge}var t_;function hS(){if(t_)return id.exports;t_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),id.exports=cS(),id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function fS(){if(e_)return no;e_=1;var a=uS(),t=Fd(),i=hS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return v(c),e;if(f===l)return v(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,l=f;break}if(E===l){g=!0,l=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=c;break}if(E===l){g=!0,l=f,s=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var I=Object.assign,U=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),pt=Symbol.for("react.profiler"),wt=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),St=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case pt:return"Profiler";case W:return"StrictMode";case St:return"Suspense";case ft:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case lt:return e.displayName||"Context";case wt:return(e._context.displayName||"Context")+".Consumer";case Rt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case b:return n=e.displayName||null,n!==null?n:te(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return te(e(n))}catch{}}return null}var we=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},kt=[],Ht=-1;function O(e){return{current:e}}function Q(e){0>Ht||(e.current=kt[Ht],kt[Ht]=null,Ht--)}function $(e,n){Ht++,kt[Ht]=e.current,e.current=n}var et=O(null),gt=O(null),At=O(null),xt=O(null);function Ce(e,n){switch($(At,n),$(gt,e),$(et,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?py(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=py(n),e=yy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(et),$(et,e)}function ee(){Q(et),Q(gt),Q(At)}function Zs(e){e.memoizedState!==null&&$(xt,e);var n=et.current,s=yy(n,e.type);n!==s&&($(gt,e),$(et,s))}function Lr(e){gt.current===e&&(Q(et),Q(gt)),xt.current===e&&(Q(xt),Jl._currentValue=ut)}var kr,zr;function Qn(e){if(kr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);kr=n&&n[1]||"",zr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kr+e+zr}var Ja=!1;function Js(e,n){if(!e||Ja)return"";Ja=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(j){var P=j}Reflect.construct(e,[],F)}else{try{F.call()}catch(j){P=j}e.call(F.prototype)}}else{try{throw Error()}catch(j){P=j}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(j){if(j&&P&&typeof j.stack=="string")return[j.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===z.length)for(l=C.length-1,c=z.length-1;1<=l&&0<=c&&C[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==z[c]){var q=`
`+C[l].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=l&&0<=c);break}}}finally{Ja=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Qn(s):""}function $a(e,n){switch(e.tag){case 26:case 27:case 5:return Qn(e.type);case 16:return Qn("Lazy");case 13:return e.child!==n&&n!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return Js(e.type,!1);case 11:return Js(e.type.render,!1);case 1:return Js(e.type,!0);case 31:return Qn("Activity");default:return""}}function Wa(e){try{var n="",s=null;do n+=$a(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var me=Object.prototype.hasOwnProperty,Ie=a.unstable_scheduleCallback,Zi=a.unstable_cancelCallback,Wc=a.unstable_shouldYield,xo=a.unstable_requestPaint,Xe=a.unstable_now,$s=a.unstable_getCurrentPriorityLevel,tl=a.unstable_ImmediatePriority,el=a.unstable_UserBlockingPriority,Ji=a.unstable_NormalPriority,th=a.unstable_LowPriority,Uo=a.unstable_IdlePriority,Lo=a.log,ko=a.unstable_setDisableYieldValue,Vn=null,Le=null;function vn(e){if(typeof Lo=="function"&&ko(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Vn,e)}catch{}}var oe=Math.clz32?Math.clz32:Po,zo=Math.log,Pr=Math.LN2;function Po(e){return e>>>=0,e===0?32:31-(zo(e)/Pr|0)|0}var Yn=256,Ws=262144,ge=4194304;function Kn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xn(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Kn(l):(g&=E,g!==0?c=Kn(g):s||(s=E&~e,s!==0&&(c=Kn(s))))):(E=l&~f,E!==0?c=Kn(E):g!==0?c=Kn(g):s||(s=l&~e,s!==0&&(c=Kn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function eh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var e=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),e}function Zn(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function tr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nh(e,n,s,l,c,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var q=31-oe(s),F=1<<q;E[q]=0,C[q]=-1;var P=z[q];if(P!==null)for(z[q]=null,q=0;q<P.length;q++){var j=P[q];j!==null&&(j.lane&=-536870913)}s&=~F}l!==0&&er(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function er(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-oe(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function nl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-oe(s),c=1<<l;c&n|e[l]&n&&(e[l]|=n),s&=~c}}function il(e,n){var s=n&-n;return s=(s&42)!==0?1:nr(s),(s&(e.suspendedLanes|n))!==0?0:s}function nr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Si(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function jo(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:By(e.type))}function Un(e,n){var s=J.p;try{return J.p=e,n()}finally{J.p=s}}var Ln=Math.random().toString(36).slice(2),pe="__reactFiber$"+Ln,Me="__reactProps$"+Ln,Jn="__reactContainer$"+Ln,Br="__reactEvents$"+Ln,ih="__reactListeners$"+Ln,qo="__reactHandles$"+Ln,Ho="__reactResources$"+Ln,$n="__reactMarker$"+Ln;function jr(e){delete e[pe],delete e[Me],delete e[Br],delete e[ih],delete e[qo]}function Wn(e){var n=e[pe];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Jn]||s[pe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=by(e);e!==null;){if(s=e[pe])return s;e=by(e)}return n}e=s,s=e.parentNode}return null}function En(e){if(e=e[pe]||e[Jn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function un(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ti(e){var n=e[Ho];return n||(n=e[Ho]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ye(e){e[$n]=!0}var sl=new Set,rl={};function ei(e,n){ni(e,n),ni(e+"Capture",n)}function ni(e,n){for(rl[e]=n,e=0;e<n.length;e++)sl.add(n[e])}var al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ll={},ol={};function Go(e){return me.call(ol,e)?!0:me.call(ll,e)?!1:al.test(e)?ol[e]=!0:(ll[e]=!0,!1)}function qr(e,n,s){if(Go(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function cn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function _e(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Ve(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $i(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ul(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=$i(e)?"checked":"value";e._valueTracker=ul(e,n,""+e[n])}}function ir(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=$i(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sr=/[\n"\\]/g;function tn(e){return e.replace(sr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Hr(e,n,s,l,c,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ve(n)):e.value!==""+Ve(n)&&(e.value=""+Ve(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?cl(e,g,Ve(n)):s!=null?cl(e,g,Ve(s)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ve(E):e.removeAttribute("name")}function Fo(e,n,s,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+Ve(s):"",n=n!=null?""+Ve(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function cl(e,n,s){n==="number"&&ii(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Wi(e,n,s,l){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ve(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Qo(e,n,s){if(n!=null&&(n=""+Ve(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ve(s):""}function ts(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(we(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ve(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Gt(e)}function en(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Yo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||Yo.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function fl(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&hl(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&hl(e,f,n[f])}function Gr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ko=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fr(e){return es.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function kn(){}var dl=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ns=null,si=null;function rr(e){var n=En(e);if(n&&(e=n.stateNode)){var s=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(Hr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var c=l[Me]||null;if(!c)throw Error(r(90));Hr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&ir(l)}break t;case"textarea":Qo(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Wi(e,!!s.multiple,n,!1)}}}var Qr=!1;function is(e,n,s){if(Qr)return e(n,s);Qr=!0;try{var l=e(n);return l}finally{if(Qr=!1,(ns!==null||si!==null)&&(ju(),ns&&(n=ns,e=si,si=ns=null,rr(n),e)))for(n=0;n<e.length;n++)rr(e[n])}}function zn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Me]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ar=!1;if(Sn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){ar=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{ar=!1}var ri=null,ml=null,lr=null;function gl(){if(lr)return lr;var e,n=ml,s=n.length,l,c="value"in ri?ri.value:ri.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return lr=c.slice(e,1<l?1-l:void 0)}function or(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function Pn(){return!1}function ke(e){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ai:Pn,this.isPropagationStopped=Pn,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),n}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ai=ke(bi),ss=I({},bi,{view:0,detail:0}),pl=ke(ss),rs,Yr,li,Kr=I({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:as,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==li&&(li&&e.type==="mousemove"?(rs=e.screenX-li.screenX,Yr=e.screenY-li.screenY):Yr=rs=0,li=e),rs)},movementY:function(e){return"movementY"in e?e.movementY:Yr}}),yl=ke(Kr),ur=I({},Kr,{dataTransfer:0}),Xo=ke(ur),Zo=I({},ss,{relatedTarget:0}),cr=ke(Zo),_l=I({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Jo=ke(_l),Xr=I({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$o=ke(Xr),Wo=I({},bi,{data:0}),oi=ke(Wo),tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=nu[e])?!!n[e]:!1}function as(){return iu}var Ze=I({},ss,{key:function(e){if(e.key){var n=tu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:as,charCode:function(e){return e.type==="keypress"?or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),su=ke(Ze),ru=I({},Kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ri=ke(ru),u=I({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:as}),m=ke(u),p=I({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ke(p),L=I({},Kr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ke(L),X=I({},bi,{newState:0,oldState:0}),Et=ke(X),ue=[9,13,27,32],jt=Sn&&"CompositionEvent"in window,ne=null;Sn&&"documentMode"in document&&(ne=document.documentMode);var An=Sn&&"TextEvent"in window&&!ne,ui=Sn&&(!jt||ne&&8<ne&&11>=ne),Bn=" ",jn=!1;function hr(e,n){switch(e){case"keyup":return ue.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function DT(e,n){switch(e){case"compositionend":return Zr(n);case"keypress":return n.which!==32?null:(jn=!0,Bn);case"textInput":return e=n.data,e===Bn&&jn?null:e;default:return null}}function NT(e,n){if(Jr)return e==="compositionend"||!jt&&hr(e,n)?(e=gl(),lr=ml=ri=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ui&&n.locale!=="ko"?null:n.data;default:return null}}var OT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!OT[e.type]:n==="textarea"}function Im(e,n,s,l){ns?si?si.push(l):si=[l]:ns=l,n=Ku(n,"onChange"),0<n.length&&(s=new ai("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var vl=null,El=null;function MT(e){cy(e,0)}function au(e){var n=un(e);if(ir(n))return e}function Dm(e,n){if(e==="change")return n}var Nm=!1;if(Sn){var sh;if(Sn){var rh="oninput"in document;if(!rh){var Om=document.createElement("div");Om.setAttribute("oninput","return;"),rh=typeof Om.oninput=="function"}sh=rh}else sh=!1;Nm=sh&&(!document.documentMode||9<document.documentMode)}function Mm(){vl&&(vl.detachEvent("onpropertychange",Vm),El=vl=null)}function Vm(e){if(e.propertyName==="value"&&au(El)){var n=[];Im(n,El,e,Tn(e)),is(MT,n)}}function VT(e,n,s){e==="focusin"?(Mm(),vl=n,El=s,vl.attachEvent("onpropertychange",Vm)):e==="focusout"&&Mm()}function xT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return au(El)}function UT(e,n){if(e==="click")return au(n)}function LT(e,n){if(e==="input"||e==="change")return au(n)}function kT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var hn=typeof Object.is=="function"?Object.is:kT;function Tl(e,n){if(hn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!me.call(n,c)||!hn(e[c],n[c]))return!1}return!0}function xm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Um(e,n){var s=xm(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=xm(s)}}function Lm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Lm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function km(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ii(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ii(e.document)}return n}function ah(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var zT=Sn&&"documentMode"in document&&11>=document.documentMode,$r=null,lh=null,Sl=null,oh=!1;function zm(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;oh||$r==null||$r!==ii(l)||(l=$r,"selectionStart"in l&&ah(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Sl&&Tl(Sl,l)||(Sl=l,l=Ku(lh,"onSelect"),0<l.length&&(n=new ai("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=$r)))}function fr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Wr={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},uh={},Pm={};Sn&&(Pm=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function dr(e){if(uh[e])return uh[e];if(!Wr[e])return e;var n=Wr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Pm)return uh[e]=n[s];return e}var Bm=dr("animationend"),jm=dr("animationiteration"),qm=dr("animationstart"),PT=dr("transitionrun"),BT=dr("transitionstart"),jT=dr("transitioncancel"),Hm=dr("transitionend"),Gm=new Map,ch="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ch.push("scrollEnd");function qn(e,n){Gm.set(e,n),ei(n,[e])}var lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},bn=[],ta=0,hh=0;function ou(){for(var e=ta,n=hh=ta=0;n<e;){var s=bn[n];bn[n++]=null;var l=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Fm(s,c,f)}}function uu(e,n,s,l){bn[ta++]=e,bn[ta++]=n,bn[ta++]=s,bn[ta++]=l,hh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function fh(e,n,s,l){return uu(e,n,s,l),cu(e)}function mr(e,n){return uu(e,null,null,n),cu(e)}function Fm(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-oe(s),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function cu(e){if(50<Gl)throw Gl=0,Sf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ea={};function qT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,n,s,l){return new qT(e,n,s,l)}function dh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wi(e,n){var s=e.alternate;return s===null?(s=fn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Qm(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function hu(e,n,s,l,c,f){var g=0;if(l=e,typeof e=="function")dh(e)&&(g=1);else if(typeof e=="string")g=Y0(e,s,et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=fn(31,s,n,c),e.elementType=R,e.lanes=f,e;case st:return gr(s.children,c,f,n);case W:g=8,c|=24;break;case pt:return e=fn(12,s,n,c|2),e.elementType=pt,e.lanes=f,e;case St:return e=fn(13,s,n,c),e.elementType=St,e.lanes=f,e;case ft:return e=fn(19,s,n,c),e.elementType=ft,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:g=10;break t;case wt:g=9;break t;case Rt:g=11;break t;case b:g=14;break t;case S:g=16,l=null;break t}g=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=fn(g,s,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function gr(e,n,s,l){return e=fn(7,e,l,n),e.lanes=s,e}function mh(e,n,s){return e=fn(6,e,null,n),e.lanes=s,e}function Ym(e){var n=fn(18,null,null,0);return n.stateNode=e,n}function gh(e,n,s){return n=fn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Km=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var s=Km.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Wa(n)},Km.set(e,n),n)}return{value:e,source:n,stack:Wa(n)}}var na=[],ia=0,fu=null,Al=0,wn=[],Cn=0,ls=null,ci=1,hi="";function Ci(e,n){na[ia++]=Al,na[ia++]=fu,fu=e,Al=n}function Xm(e,n,s){wn[Cn++]=ci,wn[Cn++]=hi,wn[Cn++]=ls,ls=e;var l=ci;e=hi;var c=32-oe(l)-1;l&=~(1<<c),s+=1;var f=32-oe(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,ci=1<<32-oe(n)+c|s<<c|l,hi=f+e}else ci=1<<f|s<<c|l,hi=e}function ph(e){e.return!==null&&(Ci(e,1),Xm(e,1,0))}function yh(e){for(;e===fu;)fu=na[--ia],na[ia]=null,Al=na[--ia],na[ia]=null;for(;e===ls;)ls=wn[--Cn],wn[Cn]=null,hi=wn[--Cn],wn[Cn]=null,ci=wn[--Cn],wn[Cn]=null}function Zm(e,n){wn[Cn++]=ci,wn[Cn++]=hi,wn[Cn++]=ls,ci=n.id,hi=n.overflow,ls=e}var ze=null,$t=null,Mt=!1,os=null,In=!1,_h=Error(r(519));function us(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(Rn(n,e)),_h}function Jm(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[pe]=e,n[Me]=l,s){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(s=0;s<Ql.length;s++)It(Ql[s],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Fo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),ts(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||my(n.textContent,s)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=kn),n=!0):n=!1,n||us(e,!0)}function $m(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:ze=ze.return}}function sa(e){if(e!==ze)return!1;if(!Mt)return $m(e),Mt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||kf(e.type,e.memoizedProps)),s=!s),s&&$t&&us(e),$m(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));$t=Ay(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));$t=Ay(e)}else n===27?(n=$t,As(e.type)?(e=qf,qf=null,$t=e):$t=n):$t=ze?Nn(e.stateNode.nextSibling):null;return!0}function pr(){$t=ze=null,Mt=!1}function vh(){var e=os;return e!==null&&(an===null?an=e:an.push.apply(an,e),os=null),e}function bl(e){os===null?os=[e]:os.push(e)}var Eh=O(null),yr=null,Ii=null;function cs(e,n,s){$(Eh,n._currentValue),n._currentValue=s}function Di(e){e._currentValue=Eh.current,Q(Eh)}function Th(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Sh(e,n,s,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Th(f.return,s,e),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Th(g,s,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ra(e,n,s,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(c===xt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Jl):e=[Jl])}c=c.return}e!==null&&Sh(n,e,s,l),n.flags|=262144}function du(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _r(e){yr=e,Ii=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pe(e){return Wm(yr,e)}function mu(e,n){return yr===null&&_r(e),Wm(e,n)}function Wm(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ii===null){if(e===null)throw Error(r(308));Ii=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ii=Ii.next=n;return s}var HT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},GT=a.unstable_scheduleCallback,FT=a.unstable_NormalPriority,ve={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ah(){return{controller:new HT,data:new Map,refCount:0}}function Rl(e){e.refCount--,e.refCount===0&&GT(FT,function(){e.controller.abort()})}var wl=null,bh=0,aa=0,la=null;function QT(e,n){if(wl===null){var s=wl=[];bh=0,aa=If(),la={status:"pending",value:void 0,then:function(l){s.push(l)}}}return bh++,n.then(tg,tg),n}function tg(){if(--bh===0&&wl!==null){la!==null&&(la.status="fulfilled");var e=wl;wl=null,aa=0,la=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function YT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var eg=H.S;H.S=function(e,n){zp=Xe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&QT(e,n),eg!==null&&eg(e,n)};var vr=O(null);function Rh(){var e=vr.current;return e!==null?e:Jt.pooledCache}function gu(e,n){n===null?$(vr,vr.current):$(vr,n.pool)}function ng(){var e=Rh();return e===null?null:{parent:ve._currentValue,pool:e}}var oa=Error(r(460)),wh=Error(r(474)),pu=Error(r(542)),yu={then:function(){}};function ig(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(kn,kn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ag(e),e;default:if(typeof n.status=="string")n.then(kn,kn);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ag(e),e}throw Tr=n,oa}}function Er(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Tr=s,oa):s}}var Tr=null;function rg(){if(Tr===null)throw Error(r(459));var e=Tr;return Tr=null,e}function ag(e){if(e===oa||e===pu)throw Error(r(483))}var ua=null,Cl=0;function _u(e){var n=Cl;return Cl+=1,ua===null&&(ua=[]),sg(ua,e,n)}function Il(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function vu(e,n){throw n.$$typeof===U?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function lg(e){function n(V,D){if(e){var k=V.deletions;k===null?(V.deletions=[D],V.flags|=16):k.push(D)}}function s(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function l(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function c(V,D){return V=wi(V,D),V.index=0,V.sibling=null,V}function f(V,D,k){return V.index=k,e?(k=V.alternate,k!==null?(k=k.index,k<D?(V.flags|=67108866,D):k):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,k,G){return D===null||D.tag!==6?(D=mh(k,V.mode,G),D.return=V,D):(D=c(D,k),D.return=V,D)}function C(V,D,k,G){var ot=k.type;return ot===st?q(V,D,k.props.children,G,k.key):D!==null&&(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Er(ot)===D.type)?(D=c(D,k.props),Il(D,k),D.return=V,D):(D=hu(k.type,k.key,k.props,null,V.mode,G),Il(D,k),D.return=V,D)}function z(V,D,k,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==k.containerInfo||D.stateNode.implementation!==k.implementation?(D=gh(k,V.mode,G),D.return=V,D):(D=c(D,k.children||[]),D.return=V,D)}function q(V,D,k,G,ot){return D===null||D.tag!==7?(D=gr(k,V.mode,G,ot),D.return=V,D):(D=c(D,k),D.return=V,D)}function F(V,D,k){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=mh(""+D,V.mode,k),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case K:return k=hu(D.type,D.key,D.props,null,V.mode,k),Il(k,D),k.return=V,k;case tt:return D=gh(D,V.mode,k),D.return=V,D;case S:return D=Er(D),F(V,D,k)}if(we(D)||x(D))return D=gr(D,V.mode,k,null),D.return=V,D;if(typeof D.then=="function")return F(V,_u(D),k);if(D.$$typeof===lt)return F(V,mu(V,D),k);vu(V,D)}return null}function P(V,D,k,G){var ot=D!==null?D.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ot!==null?null:E(V,D,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case K:return k.key===ot?C(V,D,k,G):null;case tt:return k.key===ot?z(V,D,k,G):null;case S:return k=Er(k),P(V,D,k,G)}if(we(k)||x(k))return ot!==null?null:q(V,D,k,G,null);if(typeof k.then=="function")return P(V,D,_u(k),G);if(k.$$typeof===lt)return P(V,D,mu(V,k),G);vu(V,k)}return null}function j(V,D,k,G,ot){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return V=V.get(k)||null,E(D,V,""+G,ot);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case K:return V=V.get(G.key===null?k:G.key)||null,C(D,V,G,ot);case tt:return V=V.get(G.key===null?k:G.key)||null,z(D,V,G,ot);case S:return G=Er(G),j(V,D,k,G,ot)}if(we(G)||x(G))return V=V.get(k)||null,q(D,V,G,ot,null);if(typeof G.then=="function")return j(V,D,k,_u(G),ot);if(G.$$typeof===lt)return j(V,D,k,mu(D,G),ot);vu(D,G)}return null}function it(V,D,k,G){for(var ot=null,Pt=null,rt=D,bt=D=0,Nt=null;rt!==null&&bt<k.length;bt++){rt.index>bt?(Nt=rt,rt=null):Nt=rt.sibling;var Bt=P(V,rt,k[bt],G);if(Bt===null){rt===null&&(rt=Nt);break}e&&rt&&Bt.alternate===null&&n(V,rt),D=f(Bt,D,bt),Pt===null?ot=Bt:Pt.sibling=Bt,Pt=Bt,rt=Nt}if(bt===k.length)return s(V,rt),Mt&&Ci(V,bt),ot;if(rt===null){for(;bt<k.length;bt++)rt=F(V,k[bt],G),rt!==null&&(D=f(rt,D,bt),Pt===null?ot=rt:Pt.sibling=rt,Pt=rt);return Mt&&Ci(V,bt),ot}for(rt=l(rt);bt<k.length;bt++)Nt=j(rt,V,bt,k[bt],G),Nt!==null&&(e&&Nt.alternate!==null&&rt.delete(Nt.key===null?bt:Nt.key),D=f(Nt,D,bt),Pt===null?ot=Nt:Pt.sibling=Nt,Pt=Nt);return e&&rt.forEach(function(Is){return n(V,Is)}),Mt&&Ci(V,bt),ot}function ct(V,D,k,G){if(k==null)throw Error(r(151));for(var ot=null,Pt=null,rt=D,bt=D=0,Nt=null,Bt=k.next();rt!==null&&!Bt.done;bt++,Bt=k.next()){rt.index>bt?(Nt=rt,rt=null):Nt=rt.sibling;var Is=P(V,rt,Bt.value,G);if(Is===null){rt===null&&(rt=Nt);break}e&&rt&&Is.alternate===null&&n(V,rt),D=f(Is,D,bt),Pt===null?ot=Is:Pt.sibling=Is,Pt=Is,rt=Nt}if(Bt.done)return s(V,rt),Mt&&Ci(V,bt),ot;if(rt===null){for(;!Bt.done;bt++,Bt=k.next())Bt=F(V,Bt.value,G),Bt!==null&&(D=f(Bt,D,bt),Pt===null?ot=Bt:Pt.sibling=Bt,Pt=Bt);return Mt&&Ci(V,bt),ot}for(rt=l(rt);!Bt.done;bt++,Bt=k.next())Bt=j(rt,V,bt,Bt.value,G),Bt!==null&&(e&&Bt.alternate!==null&&rt.delete(Bt.key===null?bt:Bt.key),D=f(Bt,D,bt),Pt===null?ot=Bt:Pt.sibling=Bt,Pt=Bt);return e&&rt.forEach(function(sS){return n(V,sS)}),Mt&&Ci(V,bt),ot}function Zt(V,D,k,G){if(typeof k=="object"&&k!==null&&k.type===st&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case K:t:{for(var ot=k.key;D!==null;){if(D.key===ot){if(ot=k.type,ot===st){if(D.tag===7){s(V,D.sibling),G=c(D,k.props.children),G.return=V,V=G;break t}}else if(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Er(ot)===D.type){s(V,D.sibling),G=c(D,k.props),Il(G,k),G.return=V,V=G;break t}s(V,D);break}else n(V,D);D=D.sibling}k.type===st?(G=gr(k.props.children,V.mode,G,k.key),G.return=V,V=G):(G=hu(k.type,k.key,k.props,null,V.mode,G),Il(G,k),G.return=V,V=G)}return g(V);case tt:t:{for(ot=k.key;D!==null;){if(D.key===ot)if(D.tag===4&&D.stateNode.containerInfo===k.containerInfo&&D.stateNode.implementation===k.implementation){s(V,D.sibling),G=c(D,k.children||[]),G.return=V,V=G;break t}else{s(V,D);break}else n(V,D);D=D.sibling}G=gh(k,V.mode,G),G.return=V,V=G}return g(V);case S:return k=Er(k),Zt(V,D,k,G)}if(we(k))return it(V,D,k,G);if(x(k)){if(ot=x(k),typeof ot!="function")throw Error(r(150));return k=ot.call(k),ct(V,D,k,G)}if(typeof k.then=="function")return Zt(V,D,_u(k),G);if(k.$$typeof===lt)return Zt(V,D,mu(V,k),G);vu(V,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,D!==null&&D.tag===6?(s(V,D.sibling),G=c(D,k),G.return=V,V=G):(s(V,D),G=mh(k,V.mode,G),G.return=V,V=G),g(V)):s(V,D)}return function(V,D,k,G){try{Cl=0;var ot=Zt(V,D,k,G);return ua=null,ot}catch(rt){if(rt===oa||rt===pu)throw rt;var Pt=fn(29,rt,null,V.mode);return Pt.lanes=G,Pt.return=V,Pt}finally{}}}var Sr=lg(!0),og=lg(!1),hs=!1;function Ch(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ih(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ds(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=cu(e),Fm(e,null,s),n}return uu(e,l,n,s),cu(e)}function Dl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,nl(e,s)}}function Dh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Nh=!1;function Nl(){if(Nh){var e=la;if(e!==null)throw e}}function Ol(e,n,s,l){Nh=!1;var c=e.updateQueue;hs=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==g&&(E===null?q.firstBaseUpdate=z:E.next=z,q.lastBaseUpdate=C))}if(f!==null){var F=c.baseState;g=0,q=z=C=null,E=f;do{var P=E.lane&-536870913,j=P!==E.lane;if(j?(Dt&P)===P:(l&P)===P){P!==0&&P===aa&&(Nh=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var it=e,ct=E;P=n;var Zt=s;switch(ct.tag){case 1:if(it=ct.payload,typeof it=="function"){F=it.call(Zt,F,P);break t}F=it;break t;case 3:it.flags=it.flags&-65537|128;case 0:if(it=ct.payload,P=typeof it=="function"?it.call(Zt,F,P):it,P==null)break t;F=I({},F,P);break t;case 2:hs=!0}}P=E.callback,P!==null&&(e.flags|=64,j&&(e.flags|=8192),j=c.callbacks,j===null?c.callbacks=[P]:j.push(P))}else j={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(z=q=j,C=F):q=q.next=j,g|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);q===null&&(C=F),c.baseState=C,c.firstBaseUpdate=z,c.lastBaseUpdate=q,f===null&&(c.shared.lanes=0),_s|=g,e.lanes=g,e.memoizedState=F}}function ug(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function cg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)ug(s[e],n)}var ca=O(null),Eu=O(0);function hg(e,n){e=zi,$(Eu,e),$(ca,n),zi=e|n.baseLanes}function Oh(){$(Eu,zi),$(ca,ca.current)}function Mh(){zi=Eu.current,Q(ca),Q(Eu)}var dn=O(null),Dn=null;function ms(e){var n=e.alternate;$(ce,ce.current&1),$(dn,e),Dn===null&&(n===null||ca.current!==null||n.memoizedState!==null)&&(Dn=e)}function Vh(e){$(ce,ce.current),$(dn,e),Dn===null&&(Dn=e)}function fg(e){e.tag===22?($(ce,ce.current),$(dn,e),Dn===null&&(Dn=e)):gs()}function gs(){$(ce,ce.current),$(dn,dn.current)}function mn(e){Q(dn),Dn===e&&(Dn=null),Q(ce)}var ce=O(0);function Tu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Bf(s)||jf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ni=0,Tt=null,Kt=null,Ee=null,Su=!1,ha=!1,Ar=!1,Au=0,Ml=0,fa=null,KT=0;function ae(){throw Error(r(321))}function xh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!hn(e[s],n[s]))return!1;return!0}function Uh(e,n,s,l,c,f){return Ni=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Xg:Zh,Ar=!1,f=s(l,c),Ar=!1,ha&&(f=mg(n,s,l,c)),dg(e),f}function dg(e){H.H=Ul;var n=Kt!==null&&Kt.next!==null;if(Ni=0,Ee=Kt=Tt=null,Su=!1,Ml=0,fa=null,n)throw Error(r(300));e===null||Te||(e=e.dependencies,e!==null&&du(e)&&(Te=!0))}function mg(e,n,s,l){Tt=e;var c=0;do{if(ha&&(fa=null),Ml=0,ha=!1,25<=c)throw Error(r(301));if(c+=1,Ee=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Zg,f=n(s,l)}while(ha);return f}function XT(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Vl(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(Tt.flags|=1024),n}function Lh(){var e=Au!==0;return Au=0,e}function kh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function zh(e){if(Su){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Su=!1}Ni=0,Ee=Kt=Tt=null,ha=!1,Ml=Au=0,fa=null}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Tt.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function he(){if(Kt===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=Ee===null?Tt.memoizedState:Ee.next;if(n!==null)Ee=n,Kt=e;else{if(e===null)throw Tt.alternate===null?Error(r(467)):Error(r(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Ee===null?Tt.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(e){var n=Ml;return Ml+=1,fa===null&&(fa=[]),e=sg(fa,e,n),n=Tt,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Xg:Zh),e}function Ru(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vl(e);if(e.$$typeof===lt)return Pe(e)}throw Error(r(438,String(e)))}function Ph(e){var n=null,s=Tt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=bu(),Tt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=M;return n.index++,s}function Oi(e,n){return typeof n=="function"?n(e):n}function wu(e){var n=he();return Bh(n,Kt,e)}function Bh(e,n,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=g=null,C=null,z=n,q=!1;do{var F=z.lane&-536870913;if(F!==z.lane?(Dt&F)===F:(Ni&F)===F){var P=z.revertLane;if(P===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),F===aa&&(q=!0);else if((Ni&P)===P){z=z.next,P===aa&&(q=!0);continue}else F={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=F,g=f):C=C.next=F,Tt.lanes|=P,_s|=P;F=z.action,Ar&&s(f,F),f=z.hasEagerState?z.eagerState:s(f,F)}else P={lane:F,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=P,g=f):C=C.next=P,Tt.lanes|=F,_s|=F;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!hn(f,e.memoizedState)&&(Te=!0,q&&(s=la,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function jh(e){var n=he(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(Te=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function gg(e,n,s){var l=Tt,c=he(),f=Mt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!hn((Kt||c).memoizedState,s);if(g&&(c.memoizedState=s,Te=!0),c=c.queue,Gh(_g.bind(null,l,c,e),[e]),c.getSnapshot!==n||g||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,da(9,{destroy:void 0},yg.bind(null,l,c,s,n),null),Jt===null)throw Error(r(349));f||(Ni&127)!==0||pg(l,n,s)}return s}function pg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Tt.updateQueue,n===null?(n=bu(),Tt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function yg(e,n,s,l){n.value=s,n.getSnapshot=l,vg(n)&&Eg(e)}function _g(e,n,s){return s(function(){vg(n)&&Eg(e)})}function vg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!hn(e,s)}catch{return!0}}function Eg(e){var n=mr(e,2);n!==null&&ln(n,e,2)}function qh(e){var n=Je();if(typeof e=="function"){var s=e;if(e=s(),Ar){vn(!0);try{s()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},n}function Tg(e,n,s,l){return e.baseState=s,Bh(e,Kt,typeof l=="function"?l:Oi)}function ZT(e,n,s,l,c){if(Du(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Sg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Sg(e,n){var s=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=s(c,l),C=H.S;C!==null&&C(g,E),Ag(e,n,E)}catch(z){Hh(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(c,l),Ag(e,n,f)}catch(z){Hh(e,n,z)}}function Ag(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){bg(e,n,l)},function(l){return Hh(e,n,l)}):bg(e,n,s)}function bg(e,n,s){n.status="fulfilled",n.value=s,Rg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Sg(e,s)))}function Hh(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Rg(n),n=n.next;while(n!==l)}e.action=null}function Rg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function wg(e,n){return n}function Cg(e,n){if(Mt){var s=Jt.formState;if(s!==null){t:{var l=Tt;if(Mt){if($t){e:{for(var c=$t,f=In;c.nodeType!==8;){if(!f){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){$t=Nn(c.nextSibling),l=c.data==="F!";break t}}us(l)}l=!1}l&&(n=s[0])}}return s=Je(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:n},s.queue=l,s=Qg.bind(null,Tt,l),l.dispatch=s,l=qh(!1),f=Xh.bind(null,Tt,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,s=ZT.bind(null,Tt,c,f,s),c.dispatch=s,l.memoizedState=e,[n,s,!1]}function Ig(e){var n=he();return Dg(n,Kt,e)}function Dg(e,n,s){if(n=Bh(e,n,wg)[0],e=wu(Oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Vl(n)}catch(g){throw g===oa?pu:g}else l=n;n=he();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Tt.flags|=2048,da(9,{destroy:void 0},JT.bind(null,c,s),null)),[l,f,e]}function JT(e,n){e.action=n}function Ng(e){var n=he(),s=Kt;if(s!==null)return Dg(n,s,e);he(),n=n.memoizedState,s=he();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function da(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=bu(),Tt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function Og(){return he().memoizedState}function Cu(e,n,s,l){var c=Je();Tt.flags|=e,c.memoizedState=da(1|n,{destroy:void 0},s,l===void 0?null:l)}function Iu(e,n,s,l){var c=he();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&xh(l,Kt.memoizedState.deps)?c.memoizedState=da(n,f,s,l):(Tt.flags|=e,c.memoizedState=da(1|n,f,s,l))}function Mg(e,n){Cu(8390656,8,e,n)}function Gh(e,n){Iu(2048,8,e,n)}function $T(e){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=bu(),Tt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Vg(e){var n=he().memoizedState;return $T({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function xg(e,n){return Iu(4,2,e,n)}function Ug(e,n){return Iu(4,4,e,n)}function Lg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function kg(e,n,s){s=s!=null?s.concat([e]):null,Iu(4,4,Lg.bind(null,n,e),s)}function Fh(){}function zg(e,n){var s=he();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&xh(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Pg(e,n){var s=he();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&xh(n,l[1]))return l[0];if(l=e(),Ar){vn(!0);try{e()}finally{vn(!1)}}return s.memoizedState=[l,n],l}function Qh(e,n,s){return s===void 0||(Ni&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Bp(),Tt.lanes|=e,_s|=e,s)}function Bg(e,n,s,l){return hn(s,n)?s:ca.current!==null?(e=Qh(e,s,l),hn(e,n)||(Te=!0),e):(Ni&42)===0||(Ni&1073741824)!==0&&(Dt&261930)===0?(Te=!0,e.memoizedState=s):(e=Bp(),Tt.lanes|=e,_s|=e,n)}function jg(e,n,s,l,c){var f=J.p;J.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Xh(e,!1,n,s);try{var C=c(),z=H.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var q=YT(C,l);xl(e,n,q,yn(e))}else xl(e,n,l,yn(e))}catch(F){xl(e,n,{then:function(){},status:"rejected",reason:F},yn())}finally{J.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function WT(){}function Yh(e,n,s,l){if(e.tag!==5)throw Error(r(476));var c=qg(e).queue;jg(e,c,n,ut,s===null?WT:function(){return Hg(e),s(l)})}function qg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Hg(e){var n=qg(e);n.next===null&&(n=e.alternate.memoizedState),xl(e,n.next.queue,{},yn())}function Kh(){return Pe(Jl)}function Gg(){return he().memoizedState}function Fg(){return he().memoizedState}function t0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=yn();e=fs(s);var l=ds(n,e,s);l!==null&&(ln(l,n,s),Dl(l,n,s)),n={cache:Ah()},e.payload=n;return}n=n.return}}function e0(e,n,s){var l=yn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Du(e)?Yg(n,s):(s=fh(e,n,s,l),s!==null&&(ln(s,e,l),Kg(s,n,l)))}function Qg(e,n,s){var l=yn();xl(e,n,s,l)}function xl(e,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Du(e))Yg(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return uu(e,n,c,0),Jt===null&&ou(),!1}catch{}finally{}if(s=fh(e,n,c,l),s!==null)return ln(s,e,l),Kg(s,n,l),!0}return!1}function Xh(e,n,s,l){if(l={lane:2,revertLane:If(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Du(e)){if(n)throw Error(r(479))}else n=fh(e,s,l,2),n!==null&&ln(n,e,2)}function Du(e){var n=e.alternate;return e===Tt||n!==null&&n===Tt}function Yg(e,n){ha=Su=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Kg(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,nl(e,s)}}var Ul={readContext:Pe,use:Ru,useCallback:ae,useContext:ae,useEffect:ae,useImperativeHandle:ae,useLayoutEffect:ae,useInsertionEffect:ae,useMemo:ae,useReducer:ae,useRef:ae,useState:ae,useDebugValue:ae,useDeferredValue:ae,useTransition:ae,useSyncExternalStore:ae,useId:ae,useHostTransitionStatus:ae,useFormState:ae,useActionState:ae,useOptimistic:ae,useMemoCache:ae,useCacheRefresh:ae};Ul.useEffectEvent=ae;var Xg={readContext:Pe,use:Ru,useCallback:function(e,n){return Je().memoizedState=[e,n===void 0?null:n],e},useContext:Pe,useEffect:Mg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Cu(4194308,4,Lg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Cu(4194308,4,e,n)},useInsertionEffect:function(e,n){Cu(4,2,e,n)},useMemo:function(e,n){var s=Je();n=n===void 0?null:n;var l=e();if(Ar){vn(!0);try{e()}finally{vn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=Je();if(s!==void 0){var c=s(n);if(Ar){vn(!0);try{s(n)}finally{vn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=e0.bind(null,Tt,e),[l.memoizedState,e]},useRef:function(e){var n=Je();return e={current:e},n.memoizedState=e},useState:function(e){e=qh(e);var n=e.queue,s=Qg.bind(null,Tt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Fh,useDeferredValue:function(e,n){var s=Je();return Qh(s,e,n)},useTransition:function(){var e=qh(!1);return e=jg.bind(null,Tt,e.queue,!0,!1),Je().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Tt,c=Je();if(Mt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Jt===null)throw Error(r(349));(Dt&127)!==0||pg(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Mg(_g.bind(null,l,f,e),[e]),l.flags|=2048,da(9,{destroy:void 0},yg.bind(null,l,f,s,n),null),s},useId:function(){var e=Je(),n=Jt.identifierPrefix;if(Mt){var s=hi,l=ci;s=(l&~(1<<32-oe(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Au++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=KT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Kh,useFormState:Cg,useActionState:Cg,useOptimistic:function(e){var n=Je();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Xh.bind(null,Tt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Ph,useCacheRefresh:function(){return Je().memoizedState=t0.bind(null,Tt)},useEffectEvent:function(e){var n=Je(),s={impl:e};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Zh={readContext:Pe,use:Ru,useCallback:zg,useContext:Pe,useEffect:Gh,useImperativeHandle:kg,useInsertionEffect:xg,useLayoutEffect:Ug,useMemo:Pg,useReducer:wu,useRef:Og,useState:function(){return wu(Oi)},useDebugValue:Fh,useDeferredValue:function(e,n){var s=he();return Bg(s,Kt.memoizedState,e,n)},useTransition:function(){var e=wu(Oi)[0],n=he().memoizedState;return[typeof e=="boolean"?e:Vl(e),n]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Kh,useFormState:Ig,useActionState:Ig,useOptimistic:function(e,n){var s=he();return Tg(s,Kt,e,n)},useMemoCache:Ph,useCacheRefresh:Fg};Zh.useEffectEvent=Vg;var Zg={readContext:Pe,use:Ru,useCallback:zg,useContext:Pe,useEffect:Gh,useImperativeHandle:kg,useInsertionEffect:xg,useLayoutEffect:Ug,useMemo:Pg,useReducer:jh,useRef:Og,useState:function(){return jh(Oi)},useDebugValue:Fh,useDeferredValue:function(e,n){var s=he();return Kt===null?Qh(s,e,n):Bg(s,Kt.memoizedState,e,n)},useTransition:function(){var e=jh(Oi)[0],n=he().memoizedState;return[typeof e=="boolean"?e:Vl(e),n]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Kh,useFormState:Ng,useActionState:Ng,useOptimistic:function(e,n){var s=he();return Kt!==null?Tg(s,Kt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Ph,useCacheRefresh:Fg};Zg.useEffectEvent=Vg;function Jh(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:I({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var $h={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=yn(),c=fs(l);c.payload=n,s!=null&&(c.callback=s),n=ds(e,c,l),n!==null&&(ln(n,e,l),Dl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=yn(),c=fs(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=ds(e,c,l),n!==null&&(ln(n,e,l),Dl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=yn(),l=fs(s);l.tag=2,n!=null&&(l.callback=n),n=ds(e,l,s),n!==null&&(ln(n,e,s),Dl(n,e,s))}};function Jg(e,n,s,l,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Tl(s,l)||!Tl(c,f):!0}function $g(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&$h.enqueueReplaceState(n,n.state,null)}function br(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=I({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function Wg(e){lu(e)}function tp(e){console.error(e)}function ep(e){lu(e)}function Nu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function np(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Wh(e,n,s){return s=fs(s),s.tag=3,s.payload={element:null},s.callback=function(){Nu(e,n)},s}function ip(e){return e=fs(e),e.tag=3,e}function sp(e,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){np(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){np(n,s,l),typeof c!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function n0(e,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ra(n,s,c,!0),s=dn.current,s!==null){switch(s.tag){case 31:case 13:return Dn===null?qu():s.alternate===null&&le===0&&(le=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===yu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Rf(e,l,c)),!1;case 22:return s.flags|=65536,l===yu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Rf(e,l,c)),!1}throw Error(r(435,s.tag))}return Rf(e,l,c),qu(),!1}if(Mt)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==_h&&(e=Error(r(422),{cause:l}),bl(Rn(e,s)))):(l!==_h&&(n=Error(r(423),{cause:l}),bl(Rn(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Rn(l,s),c=Wh(e.stateNode,l,c),Dh(e,c),le!==4&&(le=2)),!1;var f=Error(r(520),{cause:l});if(f=Rn(f,s),Hl===null?Hl=[f]:Hl.push(f),le!==4&&(le=2),n===null)return!0;l=Rn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=Wh(s.stateNode,l,e),Dh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(vs===null||!vs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=ip(c),sp(c,e,s,l),Dh(s,c),!1}s=s.return}while(s!==null);return!1}var tf=Error(r(461)),Te=!1;function Be(e,n,s,l){n.child=e===null?og(n,null,s,l):Sr(n,e.child,s,l)}function rp(e,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return _r(n),l=Uh(e,n,s,g,f,c),E=Lh(),e!==null&&!Te?(kh(e,n,c),Mi(e,n,c)):(Mt&&E&&ph(n),n.flags|=1,Be(e,n,l,c),n.child)}function ap(e,n,s,l,c){if(e===null){var f=s.type;return typeof f=="function"&&!dh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,lp(e,n,f,l,c)):(e=hu(s.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!uf(e,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Tl,s(g,l)&&e.ref===n.ref)return Mi(e,n,c)}return n.flags|=1,e=wi(f,l),e.ref=n.ref,e.return=n,n.child=e}function lp(e,n,s,l,c){if(e!==null){var f=e.memoizedProps;if(Tl(f,l)&&e.ref===n.ref)if(Te=!1,n.pendingProps=l=f,uf(e,c))(e.flags&131072)!==0&&(Te=!0);else return n.lanes=e.lanes,Mi(e,n,c)}return ef(e,n,s,l,c)}function op(e,n,s,l){var c=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return up(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&gu(n,f!==null?f.cachePool:null),f!==null?hg(n,f):Oh(),fg(n);else return l=n.lanes=536870912,up(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(gu(n,f.cachePool),hg(n,f),gs(),n.memoizedState=null):(e!==null&&gu(n,null),Oh(),gs());return Be(e,n,c,s),n.child}function Ll(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function up(e,n,s,l,c){var f=Rh();return f=f===null?null:{parent:ve._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&gu(n,null),Oh(),fg(n),e!==null&&ra(e,n,l,!0),n.childLanes=c,null}function Ou(e,n){return n=Vu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function cp(e,n,s){return Sr(n,e.child,null,s),e=Ou(n,n.pendingProps),e.flags|=2,mn(n),n.memoizedState=null,e}function i0(e,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Mt){if(l.mode==="hidden")return e=Ou(n,l),n.lanes=536870912,Ll(null,e);if(Vh(n),(e=$t)?(e=Sy(e,In),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ls!==null?{id:ci,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},s=Ym(e),s.return=n,n.child=s,ze=n,$t=null)):e=null,e===null)throw us(n);return n.lanes=536870912,null}return Ou(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Vh(n),c)if(n.flags&256)n.flags&=-257,n=cp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Te||ra(e,n,s,!1),c=(s&e.childLanes)!==0,Te||c){if(l=Jt,l!==null&&(g=il(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,mr(e,g),ln(l,e,g),tf;qu(),n=cp(e,n,s)}else e=f.treeContext,$t=Nn(g.nextSibling),ze=n,Mt=!0,os=null,In=!1,e!==null&&Zm(n,e),n=Ou(n,l),n.flags|=4096;return n}return e=wi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Mu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function ef(e,n,s,l,c){return _r(n),s=Uh(e,n,s,l,void 0,c),l=Lh(),e!==null&&!Te?(kh(e,n,c),Mi(e,n,c)):(Mt&&l&&ph(n),n.flags|=1,Be(e,n,s,c),n.child)}function hp(e,n,s,l,c,f){return _r(n),n.updateQueue=null,s=mg(n,l,s,c),dg(e),l=Lh(),e!==null&&!Te?(kh(e,n,f),Mi(e,n,f)):(Mt&&l&&ph(n),n.flags|=1,Be(e,n,s,f),n.child)}function fp(e,n,s,l,c){if(_r(n),n.stateNode===null){var f=ea,g=s.contextType;typeof g=="object"&&g!==null&&(f=Pe(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=$h,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Ch(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Pe(g):ea,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Jh(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&$h.enqueueReplaceState(f,f.state,null),Ol(n,l,f,c),Nl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=br(s,E);f.props=C;var z=f.context,q=s.contextType;g=ea,typeof q=="object"&&q!==null&&(g=Pe(q));var F=s.getDerivedStateFromProps;q=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&$g(n,f,l,g),hs=!1;var P=n.memoizedState;f.state=P,Ol(n,l,f,c),Nl(),z=n.memoizedState,E||P!==z||hs?(typeof F=="function"&&(Jh(n,s,F,l),z=n.memoizedState),(C=hs||Jg(n,s,C,l,P,z,g))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Ih(e,n),g=n.memoizedProps,q=br(s,g),f.props=q,F=n.pendingProps,P=f.context,z=s.contextType,C=ea,typeof z=="object"&&z!==null&&(C=Pe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||P!==C)&&$g(n,f,l,C),hs=!1,P=n.memoizedState,f.state=P,Ol(n,l,f,c),Nl();var j=n.memoizedState;g!==F||P!==j||hs||e!==null&&e.dependencies!==null&&du(e.dependencies)?(typeof E=="function"&&(Jh(n,s,E,l),j=n.memoizedState),(q=hs||Jg(n,s,q,l,P,j,C)||e!==null&&e.dependencies!==null&&du(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=C,l=q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Mu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Sr(n,e.child,null,c),n.child=Sr(n,null,s,c)):Be(e,n,s,c),n.memoizedState=f.state,e=n.child):e=Mi(e,n,c),e}function dp(e,n,s,l){return pr(),n.flags|=256,Be(e,n,s,l),n.child}var nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sf(e){return{baseLanes:e,cachePool:ng()}}function rf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=pn),e}function mp(e,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ce.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mt){if(c?ms(n):gs(),(e=$t)?(e=Sy(e,In),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ls!==null?{id:ci,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},s=Ym(e),s.return=n,n.child=s,ze=n,$t=null)):e=null,e===null)throw us(n);return jf(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(gs(),c=n.mode,E=Vu({mode:"hidden",children:E},c),l=gr(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=sf(s),l.childLanes=rf(e,g,s),n.memoizedState=nf,Ll(null,l)):(ms(n),af(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(ms(n),n.flags&=-257,n=lf(e,n,s)):n.memoizedState!==null?(gs(),n.child=e.child,n.flags|=128,n=null):(gs(),E=l.fallback,c=n.mode,l=Vu({mode:"visible",children:l.children},c),E=gr(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Sr(n,e.child,null,s),l=n.child,l.memoizedState=sf(s),l.childLanes=rf(e,g,s),n.memoizedState=nf,n=Ll(null,l));else if(ms(n),jf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(r(419)),l.stack="",l.digest=g,bl({value:l,source:null,stack:null}),n=lf(e,n,s)}else if(Te||ra(e,n,s,!1),g=(s&e.childLanes)!==0,Te||g){if(g=Jt,g!==null&&(l=il(g,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,mr(e,l),ln(g,e,l),tf;Bf(E)||qu(),n=lf(e,n,s)}else Bf(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,$t=Nn(E.nextSibling),ze=n,Mt=!0,os=null,In=!1,e!==null&&Zm(n,e),n=af(n,l.children),n.flags|=4096);return n}return c?(gs(),E=l.fallback,c=n.mode,C=e.child,z=C.sibling,l=wi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=wi(z,E):(E=gr(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Ll(null,l),l=n.child,E=e.child.memoizedState,E===null?E=sf(s):(c=E.cachePool,c!==null?(C=ve._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=ng(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=rf(e,g,s),n.memoizedState=nf,Ll(e.child,l)):(ms(n),s=e.child,e=s.sibling,s=wi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function af(e,n){return n=Vu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Vu(e,n){return e=fn(22,e,null,n),e.lanes=0,e}function lf(e,n,s){return Sr(n,e.child,null,s),e=af(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Th(e.return,n,s)}function of(e,n,s,l,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function pp(e,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=ce.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,$(ce,g),Be(e,n,l,s),l=Mt?Al:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gp(e,s,n);else if(e.tag===19)gp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Tu(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),of(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Tu(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}of(n,!0,s,null,f,l);break;case"together":of(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Mi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),_s|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ra(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=wi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=wi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function uf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&du(e)))}function s0(e,n,s){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),cs(n,ve,e.memoizedState.cache),pr();break;case 27:case 5:Zs(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:cs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Vh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ms(n),n.flags|=128,null):(s&n.child.childLanes)!==0?mp(e,n,s):(ms(n),e=Mi(e,n,s),e!==null?e.sibling:null);ms(n);break;case 19:var c=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ra(e,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return pp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(ce,ce.current),l)break;return null;case 22:return n.lanes=0,op(e,n,s,n.pendingProps);case 24:cs(n,ve,e.memoizedState.cache)}return Mi(e,n,s)}function yp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Te=!0;else{if(!uf(e,s)&&(n.flags&128)===0)return Te=!1,s0(e,n,s);Te=(e.flags&131072)!==0}else Te=!1,Mt&&(n.flags&1048576)!==0&&Xm(n,Al,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Er(n.elementType),n.type=e,typeof e=="function")dh(e)?(l=br(e,l),n.tag=1,n=fp(null,n,e,l,s)):(n.tag=0,n=ef(null,n,e,l,s));else{if(e!=null){var c=e.$$typeof;if(c===Rt){n.tag=11,n=rp(null,n,e,l,s);break t}else if(c===b){n.tag=14,n=ap(null,n,e,l,s);break t}}throw n=te(e)||e,Error(r(306,n,""))}}return n;case 0:return ef(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=br(l,n.pendingProps),fp(e,n,l,c,s);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Ih(e,n),Ol(n,l,null,s);var g=n.memoizedState;if(l=g.cache,cs(n,ve,l),l!==f.cache&&Sh(n,[ve],s,!0),Nl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=dp(e,n,l,s);break t}else if(l!==c){c=Rn(Error(r(424)),n),bl(c),n=dp(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($t=Nn(e.firstChild),ze=n,Mt=!0,os=null,In=!0,s=og(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(pr(),l===c){n=Mi(e,n,s);break t}Be(e,n,l,s)}n=n.child}return n;case 26:return Mu(e,n),e===null?(s=Iy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Mt||(s=n.type,e=n.pendingProps,l=Xu(At.current).createElement(s),l[pe]=n,l[Me]=e,je(l,s,e),ye(l),n.stateNode=l):n.memoizedState=Iy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Zs(n),e===null&&Mt&&(l=n.stateNode=Ry(n.type,n.pendingProps,At.current),ze=n,In=!0,c=$t,As(n.type)?(qf=c,$t=Nn(l.firstChild)):$t=c),Be(e,n,n.pendingProps.children,s),Mu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mt&&((c=l=$t)&&(l=x0(l,n.type,n.pendingProps,In),l!==null?(n.stateNode=l,ze=n,$t=Nn(l.firstChild),In=!1,c=!0):c=!1),c||us(n)),Zs(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,kf(c,f)?l=null:g!==null&&kf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Uh(e,n,XT,null,null,s),Jl._currentValue=c),Mu(e,n),Be(e,n,l,s),n.child;case 6:return e===null&&Mt&&((e=s=$t)&&(s=U0(s,n.pendingProps,In),s!==null?(n.stateNode=s,ze=n,$t=null,e=!0):e=!1),e||us(n)),null;case 13:return mp(e,n,s);case 4:return Ce(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Sr(n,null,l,s):Be(e,n,l,s),n.child;case 11:return rp(e,n,n.type,n.pendingProps,s);case 7:return Be(e,n,n.pendingProps,s),n.child;case 8:return Be(e,n,n.pendingProps.children,s),n.child;case 12:return Be(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,cs(n,n.type,l.value),Be(e,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,_r(n),c=Pe(c),l=l(c),n.flags|=1,Be(e,n,l,s),n.child;case 14:return ap(e,n,n.type,n.pendingProps,s);case 15:return lp(e,n,n.type,n.pendingProps,s);case 19:return pp(e,n,s);case 31:return i0(e,n,s);case 22:return op(e,n,s,n.pendingProps);case 24:return _r(n),l=Pe(ve),e===null?(c=Rh(),c===null&&(c=Jt,f=Ah(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},Ch(n),cs(n,ve,c)):((e.lanes&s)!==0&&(Ih(e,n),Ol(n,null,null,s),Nl()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),cs(n,ve,l)):(l=f.cache,cs(n,ve,l),l!==c.cache&&Sh(n,[ve],s,!0))),Be(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Vi(e){e.flags|=4}function cf(e,n,s,l,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Gp())e.flags|=8192;else throw Tr=yu,wh}else e.flags&=-16777217}function _p(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vy(n))if(Gp())e.flags|=8192;else throw Tr=yu,wh}function xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Bo():536870912,e.lanes|=n,ya|=n)}function kl(e,n){if(!Mt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Wt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function r0(e,n,s){var l=n.pendingProps;switch(yh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(ve),ee(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(sa(n)?Vi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,vh())),Wt(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(Vi(n),f!==null?(Wt(n),_p(n,f)):(Wt(n),cf(n,c,null,l,s))):f?f!==e.memoizedState?(Vi(n),Wt(n),_p(n,f)):(Wt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Vi(n),Wt(n),cf(n,c,e,l,s)),null;case 27:if(Lr(n),s=At.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Vi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Wt(n),null}e=et.current,sa(n)?Jm(n):(e=Ry(c,l,s),n.stateNode=e,Vi(n))}return Wt(n),null;case 5:if(Lr(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Vi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Wt(n),null}if(f=et.current,sa(n))Jm(n);else{var g=Xu(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[pe]=n,f[Me]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(je(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Vi(n)}}return Wt(n),cf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Vi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=At.current,sa(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,c=ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[pe]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||my(e.nodeValue,s)),e||us(n,!0)}else e=Xu(e).createTextNode(l),e[pe]=n,n.stateNode=e}return Wt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=sa(n),s!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[pe]=n}else pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),e=!1}else s=vh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Wt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=sa(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[pe]=n}else pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),c=!1}else c=vh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),xu(n,n.updateQueue),Wt(n),null);case 4:return ee(),e===null&&Mf(n.stateNode.containerInfo),Wt(n),null;case 10:return Di(n.type),Wt(n),null;case 19:if(Q(ce),l=n.memoizedState,l===null)return Wt(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)kl(l,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Tu(e),f!==null){for(n.flags|=128,kl(l,!1),e=f.updateQueue,n.updateQueue=e,xu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Qm(s,e),s=s.sibling;return $(ce,ce.current&1|2),Mt&&Ci(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Xe()>Pu&&(n.flags|=128,c=!0,kl(l,!1),n.lanes=4194304)}else{if(!c)if(e=Tu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,xu(n,e),kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Mt)return Wt(n),null}else 2*Xe()-l.renderingStartTime>Pu&&s!==536870912&&(n.flags|=128,c=!0,kl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Xe(),e.sibling=null,s=ce.current,$(ce,c?s&1|2:s&1),Mt&&Ci(n,l.treeForkCount),e):(Wt(n),null);case 22:case 23:return mn(n),Mh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),s=n.updateQueue,s!==null&&xu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Q(vr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Di(ve),Wt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function a0(e,n){switch(yh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Di(ve),ee(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Lr(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(r(340));pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(mn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(ce),null;case 4:return ee(),null;case 10:return Di(n.type),null;case 22:case 23:return mn(n),Mh(),e!==null&&Q(vr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Di(ve),null;case 25:return null;default:return null}}function vp(e,n){switch(yh(n),n.tag){case 3:Di(ve),ee();break;case 26:case 27:case 5:Lr(n);break;case 4:ee();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:Q(ce);break;case 10:Di(n.type);break;case 22:case 23:mn(n),Mh(),e!==null&&Q(vr);break;case 24:Di(ve)}}function zl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(E){Qt(n,n.return,E)}}function ps(e,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var C=s,z=E;try{z()}catch(q){Qt(c,C,q)}}}l=l.next}while(l!==f)}}catch(q){Qt(n,n.return,q)}}function Ep(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{cg(n,s)}catch(l){Qt(e,e.return,l)}}}function Tp(e,n,s){s.props=br(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Qt(e,n,l)}}function Pl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(c){Qt(e,n,c)}}function fi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Qt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Qt(e,n,c)}else s.current=null}function Sp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Qt(e,e.return,c)}}function hf(e,n,s){try{var l=e.stateNode;I0(l,e.type,s,n),l[Me]=n}catch(c){Qt(e,e.return,c)}}function Ap(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&As(e.type)||e.tag===4}function ff(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ap(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&As(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function df(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=kn));else if(l!==4&&(l===27&&As(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(df(e,n,s),e=e.sibling;e!==null;)df(e,n,s),e=e.sibling}function Uu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&As(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Uu(e,n,s),e=e.sibling;e!==null;)Uu(e,n,s),e=e.sibling}function bp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);je(n,l,s),n[pe]=e,n[Me]=s}catch(f){Qt(e,e.return,f)}}var xi=!1,Se=!1,mf=!1,Rp=typeof WeakSet=="function"?WeakSet:Set,xe=null;function l0(e,n){if(e=e.containerInfo,Uf=nc,e=km(e),ah(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,z=0,q=0,F=e,P=null;e:for(;;){for(var j;F!==s||c!==0&&F.nodeType!==3||(E=g+c),F!==f||l!==0&&F.nodeType!==3||(C=g+l),F.nodeType===3&&(g+=F.nodeValue.length),(j=F.firstChild)!==null;)P=F,F=j;for(;;){if(F===e)break e;if(P===s&&++z===c&&(E=g),P===f&&++q===l&&(C=g),(j=F.nextSibling)!==null)break;F=P,P=F.parentNode}F=j}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Lf={focusedElem:e,selectionRange:s},nc=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){switch(n=xe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var it=br(s.type,c);e=l.getSnapshotBeforeUpdate(it,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ct){Qt(s,s.return,ct)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Pf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}}function wp(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Li(e,s),l&4&&zl(5,s);break;case 1:if(Li(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(s,s.return,g)}else{var c=br(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(s,s.return,g)}}l&64&&Ep(s),l&512&&Pl(s,s.return);break;case 3:if(Li(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{cg(e,n)}catch(g){Qt(s,s.return,g)}}break;case 27:n===null&&l&4&&bp(s);case 26:case 5:Li(e,s),n===null&&l&4&&Sp(s),l&512&&Pl(s,s.return);break;case 12:Li(e,s);break;case 31:Li(e,s),l&4&&Dp(e,s);break;case 13:Li(e,s),l&4&&Np(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=p0.bind(null,s),L0(e,s))));break;case 22:if(l=s.memoizedState!==null||xi,!l){n=n!==null&&n.memoizedState!==null||Se,c=xi;var f=Se;xi=l,(Se=n)&&!f?ki(e,s,(s.subtreeFlags&8772)!==0):Li(e,s),xi=c,Se=f}break;case 30:break;default:Li(e,s)}}function Cp(e){var n=e.alternate;n!==null&&(e.alternate=null,Cp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&jr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,nn=!1;function Ui(e,n,s){for(s=s.child;s!==null;)Ip(e,n,s),s=s.sibling}function Ip(e,n,s){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Vn,s)}catch{}switch(s.tag){case 26:Se||fi(s,n),Ui(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||fi(s,n);var l=ie,c=nn;As(s.type)&&(ie=s.stateNode,nn=!1),Ui(e,n,s),Kl(s.stateNode),ie=l,nn=c;break;case 5:Se||fi(s,n);case 6:if(l=ie,c=nn,ie=null,Ui(e,n,s),ie=l,nn=c,ie!==null)if(nn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{ie.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:ie!==null&&(nn?(e=ie,Ey(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ra(e)):Ey(ie,s.stateNode));break;case 4:l=ie,c=nn,ie=s.stateNode.containerInfo,nn=!0,Ui(e,n,s),ie=l,nn=c;break;case 0:case 11:case 14:case 15:ps(2,s,n),Se||ps(4,s,n),Ui(e,n,s);break;case 1:Se||(fi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Tp(s,n,l)),Ui(e,n,s);break;case 21:Ui(e,n,s);break;case 22:Se=(l=Se)||s.memoizedState!==null,Ui(e,n,s),Se=l;break;default:Ui(e,n,s)}}function Dp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ra(e)}catch(s){Qt(n,n.return,s)}}}function Np(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ra(e)}catch(s){Qt(n,n.return,s)}}function o0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Rp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Rp),n;default:throw Error(r(435,e.tag))}}function Lu(e,n){var s=o0(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=y0.bind(null,e,l);l.then(c,c)}})}function sn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(As(E.type)){ie=E.stateNode,nn=!1;break t}break;case 5:ie=E.stateNode,nn=!1;break t;case 3:case 4:ie=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(ie===null)throw Error(r(160));Ip(f,g,c),ie=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Op(n,e),n=n.sibling}var Hn=null;function Op(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),rn(e),l&4&&(ps(3,e,e.return),zl(3,e),ps(5,e,e.return));break;case 1:sn(n,e),rn(e),l&512&&(Se||s===null||fi(s,s.return)),l&64&&xi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Hn;if(sn(n,e),rn(e),l&512&&(Se||s===null||fi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[$n]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),je(f,l,s),f[pe]=e,ye(f),l=f;break t;case"link":var g=Oy("link","href",c).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),je(f,l,s),c.head.appendChild(f);break;case"meta":if(g=Oy("meta","content",c).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(l),je(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[pe]=e,ye(f),l=f}e.stateNode=l}else My(c,e.type,e.stateNode);else e.stateNode=Ny(c,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?My(c,e.type,e.stateNode):Ny(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&hf(e,e.memoizedProps,s.memoizedProps)}break;case 27:sn(n,e),rn(e),l&512&&(Se||s===null||fi(s,s.return)),s!==null&&l&4&&hf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(sn(n,e),rn(e),l&512&&(Se||s===null||fi(s,s.return)),e.flags&32){c=e.stateNode;try{en(c,"")}catch(it){Qt(e,e.return,it)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,hf(e,c,s!==null?s.memoizedProps:c)),l&1024&&(mf=!0);break;case 6:if(sn(n,e),rn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(it){Qt(e,e.return,it)}}break;case 3:if($u=null,c=Hn,Hn=Zu(n.containerInfo),sn(n,e),Hn=c,rn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ra(n.containerInfo)}catch(it){Qt(e,e.return,it)}mf&&(mf=!1,Mp(e));break;case 4:l=Hn,Hn=Zu(e.stateNode.containerInfo),sn(n,e),rn(e),Hn=l;break;case 12:sn(n,e),rn(e);break;case 31:sn(n,e),rn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lu(e,l)));break;case 13:sn(n,e),rn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(zu=Xe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lu(e,l)));break;case 22:c=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=xi,q=Se;if(xi=z||c,Se=q||C,sn(n,e),Se=q,xi=z,rn(e),l&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||C||xi||Se||Rr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var F=C.memoizedProps.style,P=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(it){Qt(C,C.return,it)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(it){Qt(C,C.return,it)}}}else if(n.tag===18){if(s===null){C=n;try{var j=C.stateNode;c?Ty(j,!0):Ty(C.stateNode,!1)}catch(it){Qt(C,C.return,it)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Lu(e,s))));break;case 19:sn(n,e),rn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lu(e,l)));break;case 30:break;case 21:break;default:sn(n,e),rn(e)}}function rn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Ap(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=ff(e);Uu(e,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(en(g,""),s.flags&=-33);var E=ff(e);Uu(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,z=ff(e);df(e,z,C);break;default:throw Error(r(161))}}catch(q){Qt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Mp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Mp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Li(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)wp(e,n.alternate,n),n=n.sibling}function Rr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ps(4,n,n.return),Rr(n);break;case 1:fi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Tp(n,n.return,s),Rr(n);break;case 27:Kl(n.stateNode);case 26:case 5:fi(n,n.return),Rr(n);break;case 22:n.memoizedState===null&&Rr(n);break;case 30:Rr(n);break;default:Rr(n)}e=e.sibling}}function ki(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ki(c,f,s),zl(4,f);break;case 1:if(ki(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Qt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)ug(C[c],E)}catch(z){Qt(l,l.return,z)}}s&&g&64&&Ep(f),Pl(f,f.return);break;case 27:bp(f);case 26:case 5:ki(c,f,s),s&&l===null&&g&4&&Sp(f),Pl(f,f.return);break;case 12:ki(c,f,s);break;case 31:ki(c,f,s),s&&g&4&&Dp(c,f);break;case 13:ki(c,f,s),s&&g&4&&Np(c,f);break;case 22:f.memoizedState===null&&ki(c,f,s),Pl(f,f.return);break;case 30:break;default:ki(c,f,s)}n=n.sibling}}function gf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Rl(s))}function pf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Rl(e))}function Gn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vp(e,n,s,l),n=n.sibling}function Vp(e,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(e,n,s,l),c&2048&&zl(9,n);break;case 1:Gn(e,n,s,l);break;case 3:Gn(e,n,s,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Rl(e)));break;case 12:if(c&2048){Gn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Qt(n,n.return,C)}}else Gn(e,n,s,l);break;case 31:Gn(e,n,s,l);break;case 13:Gn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Gn(e,n,s,l):Bl(e,n):f._visibility&2?Gn(e,n,s,l):(f._visibility|=2,ma(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&gf(g,n);break;case 24:Gn(e,n,s,l),c&2048&&pf(n.alternate,n);break;default:Gn(e,n,s,l)}}function ma(e,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:ma(f,g,E,C,c),zl(8,g);break;case 23:break;case 22:var q=g.stateNode;g.memoizedState!==null?q._visibility&2?ma(f,g,E,C,c):Bl(f,g):(q._visibility|=2,ma(f,g,E,C,c)),c&&z&2048&&gf(g.alternate,g);break;case 24:ma(f,g,E,C,c),c&&z&2048&&pf(g.alternate,g);break;default:ma(f,g,E,C,c)}n=n.sibling}}function Bl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,c=l.flags;switch(l.tag){case 22:Bl(s,l),c&2048&&gf(l.alternate,l);break;case 24:Bl(s,l),c&2048&&pf(l.alternate,l);break;default:Bl(s,l)}n=n.sibling}}var jl=8192;function ga(e,n,s){if(e.subtreeFlags&jl)for(e=e.child;e!==null;)xp(e,n,s),e=e.sibling}function xp(e,n,s){switch(e.tag){case 26:ga(e,n,s),e.flags&jl&&e.memoizedState!==null&&K0(s,Hn,e.memoizedState,e.memoizedProps);break;case 5:ga(e,n,s);break;case 3:case 4:var l=Hn;Hn=Zu(e.stateNode.containerInfo),ga(e,n,s),Hn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=jl,jl=16777216,ga(e,n,s),jl=l):ga(e,n,s));break;default:ga(e,n,s)}}function Up(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ql(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];xe=l,kp(l,e)}Up(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lp(e),e=e.sibling}function Lp(e){switch(e.tag){case 0:case 11:case 15:ql(e),e.flags&2048&&ps(9,e,e.return);break;case 3:ql(e);break;case 12:ql(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ku(e)):ql(e);break;default:ql(e)}}function ku(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];xe=l,kp(l,e)}Up(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ps(8,n,n.return),ku(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ku(n));break;default:ku(n)}e=e.sibling}}function kp(e,n){for(;xe!==null;){var s=xe;switch(s.tag){case 0:case 11:case 15:ps(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Rl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,xe=l;else t:for(s=e;xe!==null;){l=xe;var c=l.sibling,f=l.return;if(Cp(l),l===s){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}var u0={getCacheForType:function(e){var n=Pe(ve),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Pe(ve).controller.signal}},c0=typeof WeakMap=="function"?WeakMap:Map,qt=0,Jt=null,Ct=null,Dt=0,Ft=0,gn=null,ys=!1,pa=!1,yf=!1,zi=0,le=0,_s=0,wr=0,_f=0,pn=0,ya=0,Hl=null,an=null,vf=!1,zu=0,zp=0,Pu=1/0,Bu=null,vs=null,De=0,Es=null,_a=null,Pi=0,Ef=0,Tf=null,Pp=null,Gl=0,Sf=null;function yn(){return(qt&2)!==0&&Dt!==0?Dt&-Dt:H.T!==null?If():jo()}function Bp(){if(pn===0)if((Dt&536870912)===0||Mt){var e=Ws;Ws<<=1,(Ws&3932160)===0&&(Ws=262144),pn=e}else pn=536870912;return e=dn.current,e!==null&&(e.flags|=32),pn}function ln(e,n,s){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(va(e,0),Ts(e,Dt,pn,!1)),tr(e,s),((qt&2)===0||e!==Jt)&&(e===Jt&&((qt&2)===0&&(wr|=s),le===4&&Ts(e,Dt,pn,!1)),di(e))}function jp(e,n,s){if((qt&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||xn(e,n),c=l?d0(e,n):bf(e,n,!0),f=l;do{if(c===0){pa&&!l&&Ts(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!h0(s)){c=bf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;c=Hl;var C=E.current.memoizedState.isDehydrated;if(C&&(va(E,g).flags|=256),g=bf(E,g,!1),g!==2){if(yf&&!C){E.errorRecoveryDisabledLanes|=f,wr|=f,c=4;break t}f=an,an=c,f!==null&&(an===null?an=f:an.push.apply(an,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){va(e,0),Ts(e,n,0,!0);break}t:{switch(l=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ts(l,n,pn,!ys);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=zu+300-Xe(),10<c)){if(Ts(l,n,pn,!ys),Xn(l,0,!0)!==0)break t;Pi=n,l.timeoutHandle=_y(qp.bind(null,l,s,an,Bu,vf,n,pn,wr,ya,ys,f,"Throttled",-0,0),c);break t}qp(l,s,an,Bu,vf,n,pn,wr,ya,ys,f,null,-0,0)}}break}while(!0);di(e)}function qp(e,n,s,l,c,f,g,E,C,z,q,F,P,j){if(e.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},xp(n,f,F);var it=(f&62914560)===f?zu-Xe():(f&4194048)===f?zp-Xe():0;if(it=X0(F,it),it!==null){Pi=f,e.cancelPendingCommit=it(Zp.bind(null,e,n,f,s,l,c,g,E,C,q,F,null,P,j)),Ts(e,f,g,!z);return}}Zp(e,n,f,s,l,c,g,E,C)}function h0(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ts(e,n,s,l){n&=~_f,n&=~wr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-oe(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&er(e,s,n)}function ju(){return(qt&6)===0?(Fl(0),!1):!0}function Af(){if(Ct!==null){if(Ft===0)var e=Ct.return;else e=Ct,Ii=yr=null,zh(e),ua=null,Cl=0,e=Ct;for(;e!==null;)vp(e.alternate,e),e=e.return;Ct=null}}function va(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,O0(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Pi=0,Af(),Jt=e,Ct=s=wi(e.current,null),Dt=n,Ft=0,gn=null,ys=!1,pa=xn(e,n),yf=!1,ya=pn=_f=wr=_s=le=0,an=Hl=null,vf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-oe(l),f=1<<c;n|=e[c],l&=~f}return zi=n,ou(),s}function Hp(e,n){Tt=null,H.H=Ul,n===oa||n===pu?(n=rg(),Ft=3):n===wh?(n=rg(),Ft=4):Ft=n===tf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Ct===null&&(le=1,Nu(e,Rn(n,e.current)))}function Gp(){var e=dn.current;return e===null?!0:(Dt&4194048)===Dt?Dn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Dn:!1}function Fp(){var e=H.H;return H.H=Ul,e===null?Ul:e}function Qp(){var e=H.A;return H.A=u0,e}function qu(){le=4,ys||(Dt&4194048)!==Dt&&dn.current!==null||(pa=!0),(_s&134217727)===0&&(wr&134217727)===0||Jt===null||Ts(Jt,Dt,pn,!1)}function bf(e,n,s){var l=qt;qt|=2;var c=Fp(),f=Qp();(Jt!==e||Dt!==n)&&(Bu=null,va(e,n)),n=!1;var g=le;t:do try{if(Ft!==0&&Ct!==null){var E=Ct,C=gn;switch(Ft){case 8:Af(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var z=Ft;if(Ft=0,gn=null,Ea(e,E,C,z),s&&pa){g=0;break t}break;default:z=Ft,Ft=0,gn=null,Ea(e,E,C,z)}}f0(),g=le;break}catch(q){Hp(e,q)}while(!0);return n&&e.shellSuspendCounter++,Ii=yr=null,qt=l,H.H=c,H.A=f,Ct===null&&(Jt=null,Dt=0,ou()),g}function f0(){for(;Ct!==null;)Yp(Ct)}function d0(e,n){var s=qt;qt|=2;var l=Fp(),c=Qp();Jt!==e||Dt!==n?(Bu=null,Pu=Xe()+500,va(e,n)):pa=xn(e,n);t:do try{if(Ft!==0&&Ct!==null){n=Ct;var f=gn;e:switch(Ft){case 1:Ft=0,gn=null,Ea(e,n,f,1);break;case 2:case 9:if(ig(f)){Ft=0,gn=null,Kp(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),di(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:ig(f)?(Ft=0,gn=null,Kp(n)):(Ft=0,gn=null,Ea(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?Vy(g):E.stateNode.complete){Ft=0,gn=null;var C=E.sibling;if(C!==null)Ct=C;else{var z=E.return;z!==null?(Ct=z,Hu(z)):Ct=null}break e}}Ft=0,gn=null,Ea(e,n,f,5);break;case 6:Ft=0,gn=null,Ea(e,n,f,6);break;case 8:Af(),le=6;break t;default:throw Error(r(462))}}m0();break}catch(q){Hp(e,q)}while(!0);return Ii=yr=null,H.H=l,H.A=c,qt=s,Ct!==null?0:(Jt=null,Dt=0,ou(),le)}function m0(){for(;Ct!==null&&!Wc();)Yp(Ct)}function Yp(e){var n=yp(e.alternate,e,zi);e.memoizedProps=e.pendingProps,n===null?Hu(e):Ct=n}function Kp(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=hp(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=hp(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:zh(n);default:vp(s,n),n=Ct=Qm(n,zi),n=yp(s,n,zi)}e.memoizedProps=e.pendingProps,n===null?Hu(e):Ct=n}function Ea(e,n,s,l){Ii=yr=null,zh(n),ua=null,Cl=0;var c=n.return;try{if(n0(e,c,n,s,Dt)){le=1,Nu(e,Rn(s,e.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;le=1,Nu(e,Rn(s,e.current)),Ct=null;return}n.flags&32768?(Mt||l===1?e=!0:pa||(Dt&536870912)!==0?e=!1:(ys=e=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xp(n,e)):Hu(n)}function Hu(e){var n=e;do{if((n.flags&32768)!==0){Xp(n,ys);return}e=n.return;var s=r0(n.alternate,n,zi);if(s!==null){Ct=s;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);le===0&&(le=5)}function Xp(e,n){do{var s=a0(e.alternate,e);if(s!==null){s.flags&=32767,Ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=s}while(e!==null);le=6,Ct=null}function Zp(e,n,s,l,c,f,g,E,C){e.cancelPendingCommit=null;do Gu();while(De!==0);if((qt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=hh,nh(e,s,f,g,E,C),e===Jt&&(Ct=Jt=null,Dt=0),_a=n,Es=e,Pi=s,Ef=f,Tf=c,Pp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_0(Ji,function(){return ey(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=J.p,J.p=2,g=qt,qt|=4;try{l0(e,n,s)}finally{qt=g,J.p=c,H.T=l}}De=1,Jp(),$p(),Wp()}}function Jp(){if(De===1){De=0;var e=Es,n=_a,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=J.p;J.p=2;var c=qt;qt|=4;try{Op(n,e);var f=Lf,g=km(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Lm(E.ownerDocument.documentElement,E)){if(C!==null&&ah(E)){var z=C.start,q=C.end;if(q===void 0&&(q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(q,E.value.length);else{var F=E.ownerDocument||document,P=F&&F.defaultView||window;if(P.getSelection){var j=P.getSelection(),it=E.textContent.length,ct=Math.min(C.start,it),Zt=C.end===void 0?ct:Math.min(C.end,it);!j.extend&&ct>Zt&&(g=Zt,Zt=ct,ct=g);var V=Um(E,ct),D=Um(E,Zt);if(V&&D&&(j.rangeCount!==1||j.anchorNode!==V.node||j.anchorOffset!==V.offset||j.focusNode!==D.node||j.focusOffset!==D.offset)){var k=F.createRange();k.setStart(V.node,V.offset),j.removeAllRanges(),ct>Zt?(j.addRange(k),j.extend(D.node,D.offset)):(k.setEnd(D.node,D.offset),j.addRange(k))}}}}for(F=[],j=E;j=j.parentNode;)j.nodeType===1&&F.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}nc=!!Uf,Lf=Uf=null}finally{qt=c,J.p=l,H.T=s}}e.current=n,De=2}}function $p(){if(De===2){De=0;var e=Es,n=_a,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=J.p;J.p=2;var c=qt;qt|=4;try{wp(e,n.alternate,n)}finally{qt=c,J.p=l,H.T=s}}De=3}}function Wp(){if(De===4||De===3){De=0,xo();var e=Es,n=_a,s=Pi,l=Pp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,_a=Es=null,ty(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(vs=null),Si(s),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Vn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=J.p,J.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,J.p=c}}(Pi&3)!==0&&Gu(),di(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===Sf?Gl++:(Gl=0,Sf=e):Gl=0,Fl(0)}}function ty(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Rl(n)))}function Gu(){return Jp(),$p(),Wp(),ey()}function ey(){if(De!==5)return!1;var e=Es,n=Ef;Ef=0;var s=Si(Pi),l=H.T,c=J.p;try{J.p=32>s?32:s,H.T=null,s=Tf,Tf=null;var f=Es,g=Pi;if(De=0,_a=Es=null,Pi=0,(qt&6)!==0)throw Error(r(331));var E=qt;if(qt|=4,Lp(f.current),Vp(f,f.current,g,s),qt=E,Fl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Vn,f)}catch{}return!0}finally{J.p=c,H.T=l,ty(e,n)}}function ny(e,n,s){n=Rn(s,n),n=Wh(e.stateNode,n,2),e=ds(e,n,2),e!==null&&(tr(e,2),di(e))}function Qt(e,n,s){if(e.tag===3)ny(e,e,s);else for(;n!==null;){if(n.tag===3){ny(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(vs===null||!vs.has(l))){e=Rn(s,e),s=ip(2),l=ds(n,s,2),l!==null&&(sp(s,l,n,e),tr(l,2),di(l));break}}n=n.return}}function Rf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new c0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(yf=!0,c.add(s),e=g0.bind(null,e,n,s),n.then(e,e))}function g0(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(Dt&s)===s&&(le===4||le===3&&(Dt&62914560)===Dt&&300>Xe()-zu?(qt&2)===0&&va(e,0):_f|=s,ya===Dt&&(ya=0)),di(e)}function iy(e,n){n===0&&(n=Bo()),e=mr(e,n),e!==null&&(tr(e,n),di(e))}function p0(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),iy(e,s)}function y0(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),iy(e,s)}function _0(e,n){return Ie(e,n)}var Fu=null,Ta=null,wf=!1,Qu=!1,Cf=!1,Ss=0;function di(e){e!==Ta&&e.next===null&&(Ta===null?Fu=Ta=e:Ta=Ta.next=e),Qu=!0,wf||(wf=!0,E0())}function Fl(e,n){if(!Cf&&Qu){Cf=!0;do for(var s=!1,l=Fu;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-oe(42|e)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,ly(l,f))}else f=Dt,f=Xn(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||xn(l,f)||(s=!0,ly(l,f));l=l.next}while(s);Cf=!1}}function v0(){sy()}function sy(){Qu=wf=!1;var e=0;Ss!==0&&N0()&&(e=Ss);for(var n=Xe(),s=null,l=Fu;l!==null;){var c=l.next,f=ry(l,n);f===0?(l.next=null,s===null?Fu=c:s.next=c,c===null&&(Ta=s)):(s=l,(e!==0||(f&3)!==0)&&(Qu=!0)),l=c}De!==0&&De!==5||Fl(e),Ss!==0&&(Ss=0)}function ry(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-oe(f),E=1<<g,C=c[g];C===-1?((E&s)===0||(E&l)!==0)&&(c[g]=eh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,s=Dt,s=Xn(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Zi(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||xn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&Zi(l),Si(s)){case 2:case 8:s=el;break;case 32:s=Ji;break;case 268435456:s=Uo;break;default:s=Ji}return l=ay.bind(null,e),s=Ie(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&Zi(l),e.callbackPriority=2,e.callbackNode=null,2}function ay(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Gu()&&e.callbackNode!==s)return null;var l=Dt;return l=Xn(e,e===Jt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(jp(e,l,n),ry(e,Xe()),e.callbackNode!=null&&e.callbackNode===s?ay.bind(null,e):null)}function ly(e,n){if(Gu())return null;jp(e,n,!0)}function E0(){M0(function(){(qt&6)!==0?Ie(tl,v0):sy()})}function If(){if(Ss===0){var e=aa;e===0&&(e=Yn,Yn<<=1,(Yn&261888)===0&&(Yn=256)),Ss=e}return Ss}function oy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fr(""+e)}function uy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function T0(e,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=oy((c[Me]||null).action),g=l.submitter;g&&(n=(n=g[Me]||null)?oy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ai("action","action",null,l,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ss!==0){var C=g?uy(c,g):new FormData(c);Yh(s,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?uy(c,g):new FormData(c),Yh(s,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var Df=0;Df<ch.length;Df++){var Nf=ch[Df],S0=Nf.toLowerCase(),A0=Nf[0].toUpperCase()+Nf.slice(1);qn(S0,"on"+A0)}qn(Bm,"onAnimationEnd"),qn(jm,"onAnimationIteration"),qn(qm,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(PT,"onTransitionRun"),qn(BT,"onTransitionStart"),qn(jT,"onTransitionCancel"),qn(Hm,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function cy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(q){lu(q)}c.currentTarget=null,f=C}else for(g=0;g<l.length;g++){if(E=l[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(q){lu(q)}c.currentTarget=null,f=C}}}}function It(e,n){var s=n[Br];s===void 0&&(s=n[Br]=new Set);var l=e+"__bubble";s.has(l)||(hy(n,e,2,!1),s.add(l))}function Of(e,n,s){var l=0;n&&(l|=4),hy(s,e,l,n)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function Mf(e){if(!e[Yu]){e[Yu]=!0,sl.forEach(function(s){s!=="selectionchange"&&(b0.has(s)||Of(s,!1,e),Of(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Yu]||(n[Yu]=!0,Of("selectionchange",!1,n))}}function hy(e,n,s,l){switch(By(n)){case 2:var c=$0;break;case 8:c=W0;break;default:c=Yf}s=c.bind(null,n,s,e),c=void 0,!ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function Vf(e,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=Wn(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=f=g;continue t}E=E.parentNode}}l=l.return}is(function(){var z=f,q=Tn(s),F=[];t:{var P=Gm.get(e);if(P!==void 0){var j=ai,it=e;switch(e){case"keypress":if(or(s)===0)break t;case"keydown":case"keyup":j=su;break;case"focusin":it="focus",j=cr;break;case"focusout":it="blur",j=cr;break;case"beforeblur":case"afterblur":j=cr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Xo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case Bm:case jm:case qm:j=Jo;break;case Hm:j=T;break;case"scroll":case"scrollend":j=pl;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=$o;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ri;break;case"toggle":case"beforetoggle":j=Et}var ct=(n&4)!==0,Zt=!ct&&(e==="scroll"||e==="scrollend"),V=ct?P!==null?P+"Capture":null:P;ct=[];for(var D=z,k;D!==null;){var G=D;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||V===null||(G=zn(D,V),G!=null&&ct.push(Yl(D,G,k))),Zt)break;D=D.return}0<ct.length&&(P=new j(P,it,null,s,q),F.push({event:P,listeners:ct}))}}if((n&7)===0){t:{if(P=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",P&&s!==dl&&(it=s.relatedTarget||s.fromElement)&&(Wn(it)||it[Jn]))break t;if((j||P)&&(P=q.window===q?q:(P=q.ownerDocument)?P.defaultView||P.parentWindow:window,j?(it=s.relatedTarget||s.toElement,j=z,it=it?Wn(it):null,it!==null&&(Zt=h(it),ct=it.tag,it!==Zt||ct!==5&&ct!==27&&ct!==6)&&(it=null)):(j=null,it=z),j!==it)){if(ct=yl,G="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ct=Ri,G="onPointerLeave",V="onPointerEnter",D="pointer"),Zt=j==null?P:un(j),k=it==null?P:un(it),P=new ct(G,D+"leave",j,s,q),P.target=Zt,P.relatedTarget=k,G=null,Wn(q)===z&&(ct=new ct(V,D+"enter",it,s,q),ct.target=k,ct.relatedTarget=Zt,G=ct),Zt=G,j&&it)e:{for(ct=R0,V=j,D=it,k=0,G=V;G;G=ct(G))k++;G=0;for(var ot=D;ot;ot=ct(ot))G++;for(;0<k-G;)V=ct(V),k--;for(;0<G-k;)D=ct(D),G--;for(;k--;){if(V===D||D!==null&&V===D.alternate){ct=V;break e}V=ct(V),D=ct(D)}ct=null}else ct=null;j!==null&&fy(F,P,j,ct,!1),it!==null&&Zt!==null&&fy(F,Zt,it,ct,!0)}}t:{if(P=z?un(z):window,j=P.nodeName&&P.nodeName.toLowerCase(),j==="select"||j==="input"&&P.type==="file")var Pt=Dm;else if(Cm(P))if(Nm)Pt=LT;else{Pt=xT;var rt=VT}else j=P.nodeName,!j||j.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&Gr(z.elementType)&&(Pt=Dm):Pt=UT;if(Pt&&(Pt=Pt(e,z))){Im(F,Pt,s,q);break t}rt&&rt(e,P,z),e==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&cl(P,"number",P.value)}switch(rt=z?un(z):window,e){case"focusin":(Cm(rt)||rt.contentEditable==="true")&&($r=rt,lh=z,Sl=null);break;case"focusout":Sl=lh=$r=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":oh=!1,zm(F,s,q);break;case"selectionchange":if(zT)break;case"keydown":case"keyup":zm(F,s,q)}var bt;if(jt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else Jr?hr(e,s)&&(Nt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Nt="onCompositionStart");Nt&&(ui&&s.locale!=="ko"&&(Jr||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Jr&&(bt=gl()):(ri=q,ml="value"in ri?ri.value:ri.textContent,Jr=!0)),rt=Ku(z,Nt),0<rt.length&&(Nt=new oi(Nt,e,null,s,q),F.push({event:Nt,listeners:rt}),bt?Nt.data=bt:(bt=Zr(s),bt!==null&&(Nt.data=bt)))),(bt=An?DT(e,s):NT(e,s))&&(Nt=Ku(z,"onBeforeInput"),0<Nt.length&&(rt=new oi("onBeforeInput","beforeinput",null,s,q),F.push({event:rt,listeners:Nt}),rt.data=bt)),T0(F,e,z,s,q)}cy(F,n)})}function Yl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ku(e,n){for(var s=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=zn(e,s),c!=null&&l.unshift(Yl(e,c,f)),c=zn(e,n),c!=null&&l.push(Yl(e,c,f))),e.tag===3)return l;e=e.return}return[]}function R0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fy(e,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||z===null||(C=z,c?(z=zn(s,f),z!=null&&g.unshift(Yl(s,z,C))):c||(z=zn(s,f),z!=null&&g.push(Yl(s,z,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var w0=/\r\n?/g,C0=/\u0000|\uFFFD/g;function dy(e){return(typeof e=="string"?e:""+e).replace(w0,`
`).replace(C0,"")}function my(e,n){return n=dy(n),dy(e)===n}function Xt(e,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||en(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&en(e,""+l);break;case"className":cn(e,"class",l);break;case"tabIndex":cn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(e,s,l);break;case"style":fl(e,l,f);break;case"data":if(n!=="object"){cn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Fr(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xt(e,n,"name",c.name,c,null),Xt(e,n,"formEncType",c.formEncType,c,null),Xt(e,n,"formMethod",c.formMethod,c,null),Xt(e,n,"formTarget",c.formTarget,c,null)):(Xt(e,n,"encType",c.encType,c,null),Xt(e,n,"method",c.method,c,null),Xt(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Fr(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=kn);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Fr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":It("beforetoggle",e),It("toggle",e),qr(e,"popover",l);break;case"xlinkActuate":_e(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_e(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_e(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_e(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_e(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_e(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_e(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_e(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_e(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Ko.get(s)||s,qr(e,s,l))}}function xf(e,n,s,l,c,f){switch(s){case"style":fl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?en(e,l):(typeof l=="number"||typeof l=="bigint")&&en(e,""+l);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"onClick":l!=null&&(e.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[Me]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,c);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):qr(e,s,l)}}}function je(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(e,n,f,g,s,null)}}c&&Xt(e,n,"srcSet",s.srcSet,s,null),l&&Xt(e,n,"src",s.src,s,null);return;case"input":It("invalid",e);var E=f=g=c=null,C=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var q=s[l];if(q!=null)switch(l){case"name":c=q;break;case"type":g=q;break;case"checked":C=q;break;case"defaultChecked":z=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:Xt(e,n,l,q,s,null)}}Fo(e,f,E,C,z,g,c,!1);return;case"select":It("invalid",e),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Xt(e,n,c,E,s,null)}n=f,s=g,e.multiple=!!l,n!=null?Wi(e,!!l,n,!1):s!=null&&Wi(e,!!l,s,!0);return;case"textarea":It("invalid",e),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Xt(e,n,g,E,s,null)}ts(e,l,c,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,n,C,l,s,null)}return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(l=0;l<Ql.length;l++)It(Ql[l],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(e,n,z,l,s,null)}return;default:if(Gr(n)){for(q in s)s.hasOwnProperty(q)&&(l=s[q],l!==void 0&&xf(e,n,q,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Xt(e,n,E,l,s,null))}function I0(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,C=null,z=null,q=null;for(j in s){var F=s[j];if(s.hasOwnProperty(j)&&F!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":C=F;default:l.hasOwnProperty(j)||Xt(e,n,j,null,l,F)}}for(var P in l){var j=l[P];if(F=s[P],l.hasOwnProperty(P)&&(j!=null||F!=null))switch(P){case"type":f=j;break;case"name":c=j;break;case"checked":z=j;break;case"defaultChecked":q=j;break;case"value":g=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:j!==F&&Xt(e,n,P,j,l,F)}}Hr(e,g,E,C,z,q,f,c);return;case"select":j=g=E=P=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":j=C;default:l.hasOwnProperty(f)||Xt(e,n,f,null,l,C)}for(c in l)if(f=l[c],C=s[c],l.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&Xt(e,n,c,f,l,C)}n=E,s=g,l=j,P!=null?Wi(e,!!s,P,!1):!!l!=!!s&&(n!=null?Wi(e,!!s,n,!0):Wi(e,!!s,s?[]:"",!1));return;case"textarea":j=P=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":P=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Xt(e,n,g,c,l,f)}Qo(e,P,j);return;case"option":for(var it in s)if(P=s[it],s.hasOwnProperty(it)&&P!=null&&!l.hasOwnProperty(it))switch(it){case"selected":e.selected=!1;break;default:Xt(e,n,it,null,l,P)}for(C in l)if(P=l[C],j=s[C],l.hasOwnProperty(C)&&P!==j&&(P!=null||j!=null))switch(C){case"selected":e.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Xt(e,n,C,P,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in s)P=s[ct],s.hasOwnProperty(ct)&&P!=null&&!l.hasOwnProperty(ct)&&Xt(e,n,ct,null,l,P);for(z in l)if(P=l[z],j=s[z],l.hasOwnProperty(z)&&P!==j&&(P!=null||j!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:Xt(e,n,z,P,l,j)}return;default:if(Gr(n)){for(var Zt in s)P=s[Zt],s.hasOwnProperty(Zt)&&P!==void 0&&!l.hasOwnProperty(Zt)&&xf(e,n,Zt,void 0,l,P);for(q in l)P=l[q],j=s[q],!l.hasOwnProperty(q)||P===j||P===void 0&&j===void 0||xf(e,n,q,P,l,j);return}}for(var V in s)P=s[V],s.hasOwnProperty(V)&&P!=null&&!l.hasOwnProperty(V)&&Xt(e,n,V,null,l,P);for(F in l)P=l[F],j=s[F],!l.hasOwnProperty(F)||P===j||P==null&&j==null||Xt(e,n,F,P,l,j)}function gy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&gy(g)){for(g=0,E=c.responseEnd,l+=1;l<s.length;l++){var C=s[l],z=C.startTime;if(z>E)break;var q=C.transferSize,F=C.initiatorType;q&&gy(F)&&(C=C.responseEnd,g+=q*(C<E?1:(E-z)/(C-z)))}if(--l,n+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Uf=null,Lf=null;function Xu(e){return e.nodeType===9?e:e.ownerDocument}function py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function kf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var zf=null;function N0(){var e=window.event;return e&&e.type==="popstate"?e===zf?!1:(zf=e,!0):(zf=null,!1)}var _y=typeof setTimeout=="function"?setTimeout:void 0,O0=typeof clearTimeout=="function"?clearTimeout:void 0,vy=typeof Promise=="function"?Promise:void 0,M0=typeof queueMicrotask=="function"?queueMicrotask:typeof vy<"u"?function(e){return vy.resolve(null).then(e).catch(V0)}:_y;function V0(e){setTimeout(function(){throw e})}function As(e){return e==="head"}function Ey(e,n){var s=n,l=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(c),Ra(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Kl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Kl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[$n]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Kl(e.ownerDocument.body);s=c}while(s);Ra(n)}function Ty(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Pf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Pf(s),jr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function x0(e,n,s,l){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[$n])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function U0(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Nn(e.nextSibling),e===null))return null;return e}function Sy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function Bf(e){return e.data==="$?"||e.data==="$~"}function jf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function L0(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var qf=null;function Ay(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Nn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function by(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Ry(e,n,s){switch(n=Xu(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Kl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);jr(e)}var On=new Map,wy=new Set;function Zu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Bi=J.d;J.d={f:k0,r:z0,D:P0,C:B0,L:j0,m:q0,X:G0,S:H0,M:F0};function k0(){var e=Bi.f(),n=ju();return e||n}function z0(e){var n=En(e);n!==null&&n.tag===5&&n.type==="form"?Hg(n):Bi.r(e)}var Sa=typeof document>"u"?null:document;function Cy(e,n,s){var l=Sa;if(l&&typeof n=="string"&&n){var c=tn(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),wy.has(c)||(wy.add(c),e={rel:e,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),je(n,"link",e),ye(n),l.head.appendChild(n)))}}function P0(e){Bi.D(e),Cy("dns-prefetch",e,null)}function B0(e,n){Bi.C(e,n),Cy("preconnect",e,n)}function j0(e,n,s){Bi.L(e,n,s);var l=Sa;if(l&&e&&n){var c='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+tn(s.imageSizes)+'"]')):c+='[href="'+tn(e)+'"]';var f=c;switch(n){case"style":f=Aa(e);break;case"script":f=ba(e)}On.has(f)||(e=I({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),On.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(Xl(f))||n==="script"&&l.querySelector(Zl(f))||(n=l.createElement("link"),je(n,"link",e),ye(n),l.head.appendChild(n)))}}function q0(e,n){Bi.m(e,n);var s=Sa;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ba(e)}if(!On.has(f)&&(e=I({rel:"modulepreload",href:e},n),On.set(f,e),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Zl(f)))return}l=s.createElement("link"),je(l,"link",e),ye(l),s.head.appendChild(l)}}}function H0(e,n,s){Bi.S(e,n,s);var l=Sa;if(l&&e){var c=ti(l).hoistableStyles,f=Aa(e);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Xl(f)))E.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":n},s),(s=On.get(f))&&Hf(e,s);var C=g=l.createElement("link");ye(C),je(C,"link",e),C._p=new Promise(function(z,q){C.onload=z,C.onerror=q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ju(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function G0(e,n){Bi.X(e,n);var s=Sa;if(s&&e){var l=ti(s).hoistableScripts,c=ba(e),f=l.get(c);f||(f=s.querySelector(Zl(c)),f||(e=I({src:e,async:!0},n),(n=On.get(c))&&Gf(e,n),f=s.createElement("script"),ye(f),je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function F0(e,n){Bi.M(e,n);var s=Sa;if(s&&e){var l=ti(s).hoistableScripts,c=ba(e),f=l.get(c);f||(f=s.querySelector(Zl(c)),f||(e=I({src:e,async:!0,type:"module"},n),(n=On.get(c))&&Gf(e,n),f=s.createElement("script"),ye(f),je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Iy(e,n,s,l){var c=(c=At.current)?Zu(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Aa(s.href),s=ti(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Aa(s.href);var f=ti(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(Xl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),On.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},On.set(e,s),f||Q0(c,e,s,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ba(s),s=ti(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Aa(e){return'href="'+tn(e)+'"'}function Xl(e){return'link[rel="stylesheet"]['+e+"]"}function Dy(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function Q0(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),je(n,"link",s),ye(n),e.head.appendChild(n))}function ba(e){return'[src="'+tn(e)+'"]'}function Zl(e){return"script[async]"+e}function Ny(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+tn(s.href)+'"]');if(l)return n.instance=l,ye(l),l;var c=I({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ye(l),je(l,"style",c),Ju(l,s.precedence,e),n.instance=l;case"stylesheet":c=Aa(s.href);var f=e.querySelector(Xl(c));if(f)return n.state.loading|=4,n.instance=f,ye(f),f;l=Dy(s),(c=On.get(c))&&Hf(l,c),f=(e.ownerDocument||e).createElement("link"),ye(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),je(f,"link",l),n.state.loading|=4,Ju(f,s.precedence,e),n.instance=f;case"script":return f=ba(s.src),(c=e.querySelector(Zl(f)))?(n.instance=c,ye(c),c):(l=s,(c=On.get(f))&&(l=I({},s),Gf(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),ye(c),je(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ju(l,s.precedence,e));return n.instance}function Ju(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Hf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Gf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var $u=null;function Oy(e,n,s){if($u===null){var l=new Map,c=$u=new Map;c.set(s,l)}else c=$u,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[$n]||f[pe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function My(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Y0(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function K0(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Aa(l.href),f=n.querySelector(Xl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Wu.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ye(f);return}f=n.ownerDocument||n,l=Dy(l),(c=On.get(c))&&Hf(l,c),f=f.createElement("link"),ye(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),je(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Wu.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ff=0;function X0(e,n){return e.stylesheets&&e.count===0&&ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ff===0&&(Ff=62500*D0());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ff?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tc=null;function ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tc=new Map,n.forEach(Z0,e),tc=null,Wu.call(e))}function Z0(e,n){if(!(n.state.loading&4)){var s=tc.get(e);if(s)var l=s.get(null);else{s=new Map,tc.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=Wu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Jl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function J0(e,n,s,l,c,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function xy(e,n,s,l,c,f,g,E,C,z,q,F){return e=new J0(e,n,s,g,C,z,q,F,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),e.current=f,f.stateNode=e,n=Ah(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Ch(f),e}function Uy(e){return e?(e=ea,e):ea}function Ly(e,n,s,l,c,f){c=Uy(c),l.context===null?l.context=c:l.pendingContext=c,l=fs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=ds(e,l,n),s!==null&&(ln(s,e,n),Dl(s,e,n))}function ky(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Qf(e,n){ky(e,n),(e=e.alternate)&&ky(e,n)}function zy(e){if(e.tag===13||e.tag===31){var n=mr(e,67108864);n!==null&&ln(n,e,67108864),Qf(e,67108864)}}function Py(e){if(e.tag===13||e.tag===31){var n=yn();n=nr(n);var s=mr(e,n);s!==null&&ln(s,e,n),Qf(e,n)}}var nc=!0;function $0(e,n,s,l){var c=H.T;H.T=null;var f=J.p;try{J.p=2,Yf(e,n,s,l)}finally{J.p=f,H.T=c}}function W0(e,n,s,l){var c=H.T;H.T=null;var f=J.p;try{J.p=8,Yf(e,n,s,l)}finally{J.p=f,H.T=c}}function Yf(e,n,s,l){if(nc){var c=Kf(l);if(c===null)Vf(e,n,l,ic,s),jy(e,l);else if(eS(c,e,n,s,l))l.stopPropagation();else if(jy(e,l),n&4&&-1<tS.indexOf(e)){for(;c!==null;){var f=En(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Kn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-oe(g);E.entanglements[1]|=C,g&=~C}di(f),(qt&6)===0&&(Pu=Xe()+500,Fl(0))}}break;case 31:case 13:E=mr(f,2),E!==null&&ln(E,f,2),ju(),Qf(f,2)}if(f=Kf(l),f===null&&Vf(e,n,l,ic,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else Vf(e,n,l,null,s)}}function Kf(e){return e=Tn(e),Xf(e)}var ic=null;function Xf(e){if(ic=null,e=Wn(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=y(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ic=e,null}function By(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($s()){case tl:return 2;case el:return 8;case Ji:case th:return 32;case Uo:return 268435456;default:return 32}default:return 32}}var Zf=!1,bs=null,Rs=null,ws=null,$l=new Map,Wl=new Map,Cs=[],tS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jy(e,n){switch(e){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":$l.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(n.pointerId)}}function to(e,n,s,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=En(n),n!==null&&zy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function eS(e,n,s,l,c){switch(n){case"focusin":return bs=to(bs,e,n,s,l,c),!0;case"dragenter":return Rs=to(Rs,e,n,s,l,c),!0;case"mouseover":return ws=to(ws,e,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return $l.set(f,to($l.get(f)||null,e,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Wl.set(f,to(Wl.get(f)||null,e,n,s,l,c)),!0}return!1}function qy(e){var n=Wn(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Un(e.priority,function(){Py(s)});return}}else if(n===31){if(n=y(s),n!==null){e.blockedOn=n,Un(e.priority,function(){Py(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Kf(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);dl=l,s.target.dispatchEvent(l),dl=null}else return n=En(s),n!==null&&zy(n),e.blockedOn=s,!1;n.shift()}return!0}function Hy(e,n,s){sc(e)&&s.delete(n)}function nS(){Zf=!1,bs!==null&&sc(bs)&&(bs=null),Rs!==null&&sc(Rs)&&(Rs=null),ws!==null&&sc(ws)&&(ws=null),$l.forEach(Hy),Wl.forEach(Hy)}function rc(e,n){e.blockedOn===n&&(e.blockedOn=null,Zf||(Zf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,nS)))}var ac=null;function Gy(e){ac!==e&&(ac=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ac===e&&(ac=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(Xf(l||s)===null)continue;break}var f=En(s);f!==null&&(e.splice(n,3),n-=3,Yh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Ra(e){function n(C){return rc(C,e)}bs!==null&&rc(bs,e),Rs!==null&&rc(Rs,e),ws!==null&&rc(ws,e),$l.forEach(n),Wl.forEach(n);for(var s=0;s<Cs.length;s++){var l=Cs[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Cs.length&&(s=Cs[0],s.blockedOn===null);)qy(s),s.blockedOn===null&&Cs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[Me]||null;if(typeof f=="function")g||Gy(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Me]||null)E=g.formAction;else if(Xf(c)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Gy(s)}}}function Fy(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Jf(e){this._internalRoot=e}lc.prototype.render=Jf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=yn();Ly(s,l,e,n,null,null)},lc.prototype.unmount=Jf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ly(e.current,2,null,e,null,null),ju(),n[Jn]=null}};function lc(e){this._internalRoot=e}lc.prototype.unstable_scheduleHydration=function(e){if(e){var n=jo();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Cs.length&&n!==0&&n<Cs[s].priority;s++);Cs.splice(s,0,e),s===0&&qy(e)}};var Qy=t.version;if(Qy!=="19.2.0")throw Error(r(527,Qy,"19.2.0"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var iS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{Vn=oc.inject(iS),Le=oc}catch{}}return no.createRoot=function(e,n){if(!o(e))throw Error(r(299));var s=!1,l="",c=Wg,f=tp,g=ep;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=xy(e,1,!1,null,null,s,l,null,c,f,g,Fy),e[Jn]=n.current,Mf(e),new Jf(n)},no.hydrateRoot=function(e,n,s){if(!o(e))throw Error(r(299));var l=!1,c="",f=Wg,g=tp,E=ep,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=xy(e,1,!0,n,s??null,l,c,C,f,g,E,Fy),n.context=Uy(null),s=n.current,l=yn(),l=nr(l),c=fs(l),c.callback=null,ds(s,c,l),s=l,n.current.lanes=s,tr(n,s),di(n),e[Jn]=n.current,Mf(e),new lc(n)},no.version="19.2.0",no}var n_;function dS(){if(n_)return td.exports;n_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),td.exports=fS(),td.exports}var mS=dS();const gS=()=>{};var i_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},pS=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];t[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],y=a[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;t[r++]=String.fromCharCode(55296+(v>>10)),t[r++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];t[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return t.join("")},Mv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,y=d?a[o+1]:0,v=o+2<a.length,_=v?a[o+2]:0,A=h>>2,I=(h&3)<<4|y>>4;let U=(y&15)<<2|_>>6,K=_&63;v||(K=64,d||(U=64)),r.push(i[A],i[I],i[U],i[K])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Ov(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):pS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],y=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const I=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||y==null||_==null||I==null)throw new yS;const U=h<<2|y>>4;if(r.push(U),_!==64){const K=y<<4&240|_>>2;if(r.push(K),I!==64){const tt=_<<6&192|I;r.push(tt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class yS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _S=function(a){const t=Ov(a);return Mv.encodeByteArray(t,!0)},bc=function(a){return _S(a).replace(/\./g,"")},Vv=function(a){try{return Mv.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=()=>vS().__FIREBASE_DEFAULTS__,TS=()=>{if(typeof process>"u"||typeof i_>"u")return;const a=i_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},SS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Vv(a[1]);return t&&JSON.parse(t)},Pc=()=>{try{return gS()||ES()||TS()||SS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},xv=a=>Pc()?.emulatorHosts?.[a],AS=a=>{const t=xv(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Uv=()=>Pc()?.config,Lv=a=>Pc()?.[`_${a}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kv(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[bc(JSON.stringify(i)),bc(JSON.stringify(d)),""].join(".")}const lo={};function wS(){const a={prod:[],emulator:[]};for(const t of Object.keys(lo))lo[t]?a.emulator.push(t):a.prod.push(t);return a}function CS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let s_=!1;function zv(a,t){if(typeof window>"u"||typeof document>"u"||!Fa(window.location.host)||lo[a]===t||lo[a]||s_)return;lo[a]=t;function i(U){return`__firebase__banner__${U}`}const r="__firebase__banner",h=wS().prod.length>0;function d(){const U=document.getElementById(r);U&&U.remove()}function y(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function v(U,K){U.setAttribute("width","24"),U.setAttribute("id",K),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function _(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{s_=!0,d()},U}function A(U,K){U.setAttribute("id",K),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function I(){const U=CS(r),K=i("text"),tt=document.getElementById(K)||document.createElement("span"),st=i("learnmore"),W=document.getElementById(st)||document.createElement("a"),pt=i("preprendIcon"),wt=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const lt=U.element;y(lt),A(W,st);const Rt=_();v(wt,pt),lt.append(wt,tt,W,Rt),document.body.appendChild(lt)}h?(tt.innerText="Preview backend disconnected.",wt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(wt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function DS(){const a=Pc()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function MS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VS(){const a=Ke();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function xS(){return!DS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function US(){try{return typeof indexedDB=="object"}catch{return!1}}function LS(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="FirebaseError";class Xi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=kS,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,So.prototype.create)}}class So{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,h=this.errors[t],d=h?zS(h,r):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Xi(o,y,r)}}function zS(a,t){return a.replace(PS,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const PS=/\{\$([^}]+)}/g;function BS(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Mr(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=t[o];if(r_(h)&&r_(d)){if(!Mr(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function r_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function jS(a,t){const i=new qS(a,t);return i.subscribe.bind(i)}class qS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let o;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");HS(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:r},o.next===void 0&&(o.next=sd),o.error===void 0&&(o.error=sd),o.complete===void 0&&(o.complete=sd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HS(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function sd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(a){return a&&a._delegate?a._delegate:a}class Vr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new bS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(QS(t))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(t=Cr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cr){return this.instances.has(t)}getOptions(t=Cr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&t(h,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Cr){return this.component?this.component.multipleInstances?t:Cr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FS(a){return a===Cr?void 0:a}function QS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new GS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ot||(Ot={}));const KS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},XS=Ot.INFO,ZS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},JS=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),o=ZS[t];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qd{constructor(t){this.name=t,this._logLevel=XS,this._logHandler=JS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?KS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const $S=(a,t)=>t.some(i=>a instanceof i);let a_,l_;function WS(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tA(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pv=new WeakMap,_d=new WeakMap,Bv=new WeakMap,rd=new WeakMap,Yd=new WeakMap;function eA(a){const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Ls(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Pv.set(i,a)}).catch(()=>{}),Yd.set(t,a),t}function nA(a){if(_d.has(a))return;const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});_d.set(a,t)}let vd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return _d.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Bv.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ls(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function iA(a){vd=a(vd)}function sA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(ad(this),t,...i);return Bv.set(r,t.sort?t.sort():[t]),Ls(r)}:tA().includes(a)?function(...t){return a.apply(ad(this),t),Ls(Pv.get(this))}:function(...t){return Ls(a.apply(ad(this),t))}}function rA(a){return typeof a=="function"?sA(a):(a instanceof IDBTransaction&&nA(a),$S(a,WS())?new Proxy(a,vd):a)}function Ls(a){if(a instanceof IDBRequest)return eA(a);if(rd.has(a))return rd.get(a);const t=rA(a);return t!==a&&(rd.set(a,t),Yd.set(t,a)),t}const ad=a=>Yd.get(a);function aA(a,t,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,t),y=Ls(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Ls(d.result),v.oldVersion,v.newVersion,Ls(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const lA=["get","getKey","getAll","getAllKeys","count"],oA=["put","add","delete","clear"],ld=new Map;function o_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(ld.get(t))return ld.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=oA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||lA.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return ld.set(t,h),h}iA(a=>({...a,get:(t,i,r)=>o_(t,i)||a.get(t,i,r),has:(t,i)=>!!o_(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(cA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function cA(a){return a.getComponent()?.type==="VERSION"}const Ed="@firebase/app",u_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Qd("@firebase/app"),hA="@firebase/app-compat",fA="@firebase/analytics-compat",dA="@firebase/analytics",mA="@firebase/app-check-compat",gA="@firebase/app-check",pA="@firebase/auth",yA="@firebase/auth-compat",_A="@firebase/database",vA="@firebase/data-connect",EA="@firebase/database-compat",TA="@firebase/functions",SA="@firebase/functions-compat",AA="@firebase/installations",bA="@firebase/installations-compat",RA="@firebase/messaging",wA="@firebase/messaging-compat",CA="@firebase/performance",IA="@firebase/performance-compat",DA="@firebase/remote-config",NA="@firebase/remote-config-compat",OA="@firebase/storage",MA="@firebase/storage-compat",VA="@firebase/firestore",xA="@firebase/ai",UA="@firebase/firestore-compat",LA="firebase",kA="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="[DEFAULT]",zA={[Ed]:"fire-core",[hA]:"fire-core-compat",[dA]:"fire-analytics",[fA]:"fire-analytics-compat",[gA]:"fire-app-check",[mA]:"fire-app-check-compat",[pA]:"fire-auth",[yA]:"fire-auth-compat",[_A]:"fire-rtdb",[vA]:"fire-data-connect",[EA]:"fire-rtdb-compat",[TA]:"fire-fn",[SA]:"fire-fn-compat",[AA]:"fire-iid",[bA]:"fire-iid-compat",[RA]:"fire-fcm",[wA]:"fire-fcm-compat",[CA]:"fire-perf",[IA]:"fire-perf-compat",[DA]:"fire-rc",[NA]:"fire-rc-compat",[OA]:"fire-gcs",[MA]:"fire-gcs-compat",[VA]:"fire-fst",[UA]:"fire-fst-compat",[xA]:"fire-vertex","fire-js":"fire-js",[LA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new Map,PA=new Map,Sd=new Map;function c_(a,t){try{a.container.addComponent(t)}catch(i){Gi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function ka(a){const t=a.name;if(Sd.has(t))return Gi.debug(`There were multiple attempts to register component ${t}.`),!1;Sd.set(t,a);for(const i of Rc.values())c_(i,a);for(const i of PA.values())c_(i,a);return!0}function Kd(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Mn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ks=new So("app","Firebase",BA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=kA;function jv(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:Td,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw ks.create("bad-app-name",{appName:String(o)});if(i||(i=Uv()),!i)throw ks.create("no-options");const h=Rc.get(o);if(h){if(Mr(i,h.options)&&Mr(r,h.config))return h;throw ks.create("duplicate-app",{appName:o})}const d=new YS(o);for(const v of Sd.values())d.addComponent(v);const y=new jA(i,r,d);return Rc.set(o,y),y}function qv(a=Td){const t=Rc.get(a);if(!t&&a===Td&&Uv())return jv();if(!t)throw ks.create("no-app",{appName:a});return t}function zs(a,t,i){let r=zA[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=t.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${t}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gi.warn(d.join(" "));return}ka(new Vr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="firebase-heartbeat-database",HA=1,go="firebase-heartbeat-store";let od=null;function Hv(){return od||(od=aA(qA,HA,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(go)}catch(i){console.warn(i)}}}}).catch(a=>{throw ks.create("idb-open",{originalErrorMessage:a.message})})),od}async function GA(a){try{const i=(await Hv()).transaction(go),r=await i.objectStore(go).get(Gv(a));return await i.done,r}catch(t){if(t instanceof Xi)Gi.warn(t.message);else{const i=ks.create("idb-get",{originalErrorMessage:t?.message});Gi.warn(i.message)}}}async function h_(a,t){try{const r=(await Hv()).transaction(go,"readwrite");await r.objectStore(go).put(t,Gv(a)),await r.done}catch(i){if(i instanceof Xi)Gi.warn(i.message);else{const r=ks.create("idb-set",{originalErrorMessage:i?.message});Gi.warn(r.message)}}}function Gv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=1024,QA=30;class YA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new XA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=f_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>QA){const o=ZA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Gi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=f_(),{heartbeatsToSend:i,unsentEntries:r}=KA(this._heartbeatsCache.heartbeats),o=bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Gi.warn(t),""}}}function f_(){return new Date().toISOString().substring(0,10)}function KA(a,t=FA){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),d_(i)>t){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),d_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class XA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return US()?LS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await GA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return h_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return h_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function d_(a){return bc(JSON.stringify({version:2,heartbeats:a})).length}function ZA(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(a){ka(new Vr("platform-logger",t=>new uA(t),"PRIVATE")),ka(new Vr("heartbeat",t=>new YA(t),"PRIVATE")),zs(Ed,u_,a),zs(Ed,u_,"esm2020"),zs("fire-js","")}JA("");var $A="firebase",WA="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zs($A,WA,"app");function Fv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t1=Fv,Qv=new So("auth","Firebase",Fv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Qd("@firebase/auth");function e1(a,...t){wc.logLevel<=Ot.WARN&&wc.warn(`Auth (${Qa}): ${a}`,...t)}function gc(a,...t){wc.logLevel<=Ot.ERROR&&wc.error(`Auth (${Qa}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(a,...t){throw Xd(a,...t)}function yi(a,...t){return Xd(a,...t)}function Yv(a,t,i){const r={...t1(),[t]:i};return new So("auth","Firebase",r).create(t,{appName:a.name})}function Hi(a){return Yv(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xd(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return Qv.create(a,...t)}function mt(a,t,...i){if(!a)throw Xd(t,...i)}function ji(a){const t="INTERNAL ASSERTION FAILED: "+a;throw gc(t),new Error(t)}function Qi(a,t){a||ji(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(){return typeof self<"u"&&self.location?.href||""}function n1(){return m_()==="http:"||m_()==="https:"}function m_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(n1()||OS()||"connection"in navigator)?navigator.onLine:!0}function s1(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,i){this.shortDelay=t,this.longDelay=i,Qi(i>t,"Short delay should be less than long delay!"),this.isMobile=IS()||MS()}get(){return i1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(a,t){Qi(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],l1=new bo(3e4,6e4);function Ro(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function Ya(a,t,i,r,o={}){return Xv(a,o,async()=>{let h={},d={};r&&(t==="GET"?d=r:h={body:JSON.stringify(r)});const y=Ao({key:a.config.apiKey,...d}).slice(1),v=await a._getAdditionalHeaders();v["Content-Type"]="application/json",a.languageCode&&(v["X-Firebase-Locale"]=a.languageCode);const _={method:t,headers:v,...h};return NS()||(_.referrerPolicy="no-referrer"),a.emulatorConfig&&Fa(a.emulatorConfig.host)&&(_.credentials="include"),Kv.fetch()(await Zv(a,a.config.apiHost,i,y),_)})}async function Xv(a,t,i){a._canInitEmulator=!1;const r={...r1,...t};try{const o=new o1(a),h=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw uc(a,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const y=h.ok?d.errorMessage:d.error.message,[v,_]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(a,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw uc(a,"email-already-in-use",d);if(v==="USER_DISABLED")throw uc(a,"user-disabled",d);const A=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Yv(a,A,_);Fi(a,A)}}catch(o){if(o instanceof Xi)throw o;Fi(a,"network-request-failed",{message:String(o)})}}async function Jd(a,t,i,r,o={}){const h=await Ya(a,t,i,r,o);return"mfaPendingCredential"in h&&Fi(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function Zv(a,t,i,r){const o=`${t}${i}?${r}`,h=a,d=h.config.emulator?Zd(a.config,o):`${a.config.apiScheme}://${o}`;return a1.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class o1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),l1.get())})}}function uc(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=yi(a,t,r);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(a,t){return Ya(a,"POST","/v1/accounts:delete",t)}async function Cc(a,t){return Ya(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function c1(a,t=!1){const i=Xs(a),r=await i.getIdToken(t),o=$d(r);mt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const h=typeof o.firebase=="object"?o.firebase:void 0,d=h?.sign_in_provider;return{claims:o,token:r,authTime:oo(ud(o.auth_time)),issuedAtTime:oo(ud(o.iat)),expirationTime:oo(ud(o.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function ud(a){return Number(a)*1e3}function $d(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Vv(i);return o?JSON.parse(o):(gc("Failed to decode base64 JWT payload"),null)}catch(o){return gc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function g_(a){const t=$d(a);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Xi&&h1(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function h1({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=oo(this.lastLoginAt),this.creationTime=oo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(a){const t=a.auth,i=await a.getIdToken(),r=await po(a,Cc(t,{idToken:i}));mt(r?.users.length,t,"internal-error");const o=r.users[0];a._notifyReloadListener(o);const h=o.providerUserInfo?.length?Jv(o.providerUserInfo):[],d=m1(a.providerData,h),y=a.isAnonymous,v=!(a.email&&o.passwordHash)&&!d?.length,_=y?v:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new bd(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(a,A)}async function d1(a){const t=Xs(a);await Ic(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function m1(a,t){return[...a.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function Jv(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(a,t){const i=await Xv(a,{},async()=>{const r=Ao({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:h}=a.config,d=await Zv(a,o,"/v1/token",`key=${h}`),y=await a._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:r};return a.emulatorConfig&&Fa(a.emulatorConfig.host)&&(v.credentials="include"),Kv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function p1(a,t){return Ya(a,"POST","/v2/accounts:revokeToken",Ro(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):g_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=g_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:o,expiresIn:h}=await g1(t,i);this.updateTokensAndExpiration(r,o,Number(h))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:o,expirationTime:h}=i,d=new Oa;return r&&(mt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),o&&(mt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),h&&(mt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Oa,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(a,t){mt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Fn{constructor({uid:t,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new f1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await po(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return c1(this,t)}reload(){return d1(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Fn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Ic(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Hi(this.auth));const t=await this.getIdToken();return await po(this,u1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,o=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:I,emailVerified:U,isAnonymous:K,providerData:tt,stsTokenManager:st}=i;mt(I&&st,t,"internal-error");const W=Oa.fromJSON(this.name,st);mt(typeof I=="string",t,"internal-error"),Ds(r,t.name),Ds(o,t.name),mt(typeof U=="boolean",t,"internal-error"),mt(typeof K=="boolean",t,"internal-error"),Ds(h,t.name),Ds(d,t.name),Ds(y,t.name),Ds(v,t.name),Ds(_,t.name),Ds(A,t.name);const pt=new Fn({uid:I,auth:t,email:o,emailVerified:U,displayName:r,isAnonymous:K,photoURL:d,phoneNumber:h,tenantId:y,stsTokenManager:W,createdAt:_,lastLoginAt:A});return tt&&Array.isArray(tt)&&(pt.providerData=tt.map(wt=>({...wt}))),v&&(pt._redirectEventId=v),pt}static async _fromIdTokenResponse(t,i,r=!1){const o=new Oa;o.updateFromServerResponse(i);const h=new Fn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Ic(h),h}static async _fromGetAccountInfoResponse(t,i,r){const o=i.users[0];mt(o.localId!==void 0,"internal-error");const h=o.providerUserInfo!==void 0?Jv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!h?.length,y=new Oa;y.updateFromIdToken(r);const v=new Fn({uid:o.localId,auth:t,stsTokenManager:y,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new bd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!h?.length};return Object.assign(v,_),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=new Map;function qi(a){Qi(a instanceof Function,"Expected a class definition");let t=p_.get(a);return t?(Qi(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,p_.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}$v.type="NONE";const y_=$v;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(a,t,i){return`firebase:${a}:${t}:${i}`}class Ma{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:o,name:h}=this.auth;this.fullUserKey=pc(this.userKey,o.apiKey,h),this.fullPersistenceKey=pc("persistence",o.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Cc(this.auth,{idToken:t}).catch(()=>{});return i?Fn._fromGetAccountInfoResponse(this.auth,i,t):null}return Fn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ma(qi(y_),t,r);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=o[0]||qi(y_);const d=pc(r,t.config.apiKey,t.name);let y=null;for(const _ of i)try{const A=await _._get(d);if(A){let I;if(typeof A=="string"){const U=await Cc(t,{idToken:A}).catch(()=>{});if(!U)break;I=await Fn._fromGetAccountInfoResponse(t,U,A)}else I=Fn._fromJSON(t,A);_!==h&&(y=I),h=_;break}}catch{}const v=o.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new Ma(h,t,r):(h=v[0],y&&await h._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new Ma(h,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Wv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(sE(t))return"Blackberry";if(rE(t))return"Webos";if(tE(t))return"Safari";if((t.includes("chrome/")||eE(t))&&!t.includes("edge/"))return"Chrome";if(iE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function Wv(a=Ke()){return/firefox\//i.test(a)}function tE(a=Ke()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eE(a=Ke()){return/crios\//i.test(a)}function nE(a=Ke()){return/iemobile/i.test(a)}function iE(a=Ke()){return/android/i.test(a)}function sE(a=Ke()){return/blackberry/i.test(a)}function rE(a=Ke()){return/webos/i.test(a)}function Wd(a=Ke()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function y1(a=Ke()){return Wd(a)&&!!window.navigator?.standalone}function _1(){return VS()&&document.documentMode===10}function aE(a=Ke()){return Wd(a)||iE(a)||rE(a)||sE(a)||/windows phone/i.test(a)||nE(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(a,t=[]){let i;switch(a){case"Browser":i=__(Ke());break;case"Worker":i=`${__(Ke())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Qa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=h=>new Promise((d,y)=>{try{const v=t(h);d(v)}catch(v){y(v)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(a,t={}){return Ya(a,"GET","/v2/passwordPolicy",Ro(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=6;class S1{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??T1,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,o,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,i,r,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v_(this),this.idTokenSubscription=new v_(this),this.beforeStateQueue=new v1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=qi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ma.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Cc(this,{idToken:t}),r=await Fn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Mn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=r?._redirectEventId,y=await this.tryRedirectSignIn(t);(!h||h===d)&&y?.user&&(r=y.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(h){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Ic(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=s1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Mn(this.app))return Promise.reject(Hi(this));const i=t?Xs(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Mn(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await E1(this),i=new S1(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new So("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await p1(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&qi(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await Ma.create(this,[qi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,o){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(y,this,"internal-error"),y.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,r,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=lE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&e1(`Error while retrieving App Check token: ${t.error}`),t?.token}}function wo(a){return Xs(a)}class v_{constructor(t){this.auth=t,this.observer=null,this.addObserver=jS(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b1(a){tm=a}function R1(a){return tm.loadJS(a)}function w1(){return tm.gapiScript}function C1(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(a,t){const i=Kd(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),h=i.getOptions();if(Mr(h,t??{}))return o;Fi(o,"already-initialized")}return i.initialize({options:t})}function D1(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(qi);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function N1(a,t,i){const r=wo(a);mt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,h=oE(t),{host:d,port:y}=O1(t),v=y===null?"":`:${y}`,_={url:`${h}//${d}${v}/`},A=Object.freeze({host:d,port:y,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){mt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),mt(Mr(_,r.config.emulator)&&Mr(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Fa(d)?(kv(`${h}//${d}${v}`),zv("Auth",!0)):M1()}function oE(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function O1(a){const t=oE(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const h=o[1];return{host:h,port:E_(r.substr(h.length+1))}}else{const[h,d]=r.split(":");return{host:h,port:E_(d)}}}function E_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function M1(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ji("not implemented")}_getIdTokenResponse(t){return ji("not implemented")}_linkToIdToken(t,i){return ji("not implemented")}_getReauthenticationResolver(t){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(a,t){return Jd(a,"POST","/v1/accounts:signInWithIdp",Ro(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="http://localhost";class xr extends uE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new xr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Fi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...h}=i;if(!r||!o)return null;const d=new xr(r,o);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Va(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Va(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Va(t,i)}buildRequest(){const t={requestUri:V1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ao(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends cE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Co{constructor(){super("facebook.com")}static credential(t){return xr._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ns.credentialFromTaggedObject(t)}static credentialFromError(t){return Ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ns.credential(t.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Co{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return xr._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Os.credentialFromTaggedObject(t)}static credentialFromError(t){return Os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Os.credential(i,r)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Co{constructor(){super("github.com")}static credential(t){return xr._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ms.credentialFromTaggedObject(t)}static credentialFromError(t){return Ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ms.credential(t.oauthAccessToken)}catch{return null}}}Ms.GITHUB_SIGN_IN_METHOD="github.com";Ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Co{constructor(){super("twitter.com")}static credential(t,i){return xr._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Vs.credentialFromTaggedObject(t)}static credentialFromError(t){return Vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Vs.credential(i,r)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(a,t){return Jd(a,"POST","/v1/accounts:signUp",Ro(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,o=!1){const h=await Fn._fromIdTokenResponse(t,r,o),d=T_(r);return new Yi({user:h,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const o=T_(r);return new Yi({user:t,providerId:o,_tokenResponse:r,operationType:i})}}function T_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(a){if(Mn(a.app))return Promise.reject(Hi(a));const t=wo(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Yi({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await x1(t,{returnSecureToken:!0}),r=await Yi._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends Xi{constructor(t,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Dc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,o){return new Dc(t,i,r,o)}}function hE(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Dc._fromErrorAndOperation(a,h,t,r):h})}async function L1(a,t,i=!1){const r=await po(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Yi._forOperation(a,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1(a,t,i=!1){const{auth:r}=a;if(Mn(r.app))return Promise.reject(Hi(r));const o="reauthenticate";try{const h=await po(a,hE(r,o,t,a),i);mt(h.idToken,r,"internal-error");const d=$d(h.idToken);mt(d,r,"internal-error");const{sub:y}=d;return mt(a.uid===y,r,"user-mismatch"),Yi._forOperation(a,o,h)}catch(h){throw h?.code==="auth/user-not-found"&&Fi(r,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(a,t,i=!1){if(Mn(a.app))return Promise.reject(Hi(a));const r="signIn",o=await hE(a,r,t),h=await Yi._fromIdTokenResponse(a,r,o);return i||await a._updateCurrentUser(h.user),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P1(a,t){return Jd(a,"POST","/v1/accounts:signInWithCustomToken",Ro(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(a,t){if(Mn(a.app))return Promise.reject(Hi(a));const i=wo(a),r=await P1(i,{token:t,returnSecureToken:!0}),o=await Yi._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(o.user),o}function j1(a,t,i,r){return Xs(a).onIdTokenChanged(t,i,r)}function q1(a,t,i){return Xs(a).beforeAuthStateChanged(t,i)}function H1(a,t,i,r){return Xs(a).onAuthStateChanged(t,i,r)}const Nc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Nc,"1"),this.storage.removeItem(Nc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=1e3,F1=10;class dE extends fE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const r=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},h=this.storage.getItem(r);_1()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,F1):o()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},G1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}dE.type="LOCAL";const Q1=dE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends fE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}mE.type="SESSION";const gE=mE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new Bc(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:o,data:h}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const y=Array.from(d).map(async _=>_(i.origin,h)),v=await Y1(y);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let h,d;return new Promise((y,v)=>{const _=em("",20);o.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(I){const U=I;if(U.data.eventId===_)switch(U.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),y(U.data.response);break;default:clearTimeout(A),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function X1(a){_i().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function Z1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J1(){return navigator?.serviceWorker?.controller||null}function $1(){return pE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="firebaseLocalStorageDb",W1=1,Oc="firebaseLocalStorage",_E="fbase_key";class Io{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function jc(a,t){return a.transaction([Oc],t?"readwrite":"readonly").objectStore(Oc)}function tb(){const a=indexedDB.deleteDatabase(yE);return new Io(a).toPromise()}function Rd(){const a=indexedDB.open(yE,W1);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(Oc,{keyPath:_E})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(Oc)?t(r):(r.close(),await tb(),t(await Rd()))})})}async function S_(a,t,i){const r=jc(a,!0).put({[_E]:t,value:i});return new Io(r).toPromise()}async function eb(a,t){const i=jc(a,!1).get(t),r=await new Io(i).toPromise();return r===void 0?null:r.value}function A_(a,t){const i=jc(a,!0).delete(t);return new Io(i).toPromise()}const nb=800,ib=3;class vE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>ib)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bc._getInstance($1()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Z1(),!this.activeServiceWorker)return;this.sender=new K1(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||J1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Rd();return await S_(t,Nc,"1"),await A_(t,Nc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>S_(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>eb(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>A_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const h=jc(o,!1).getAll();return new Io(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:h}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(h)&&(this.notifyListeners(o,h),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vE.type="LOCAL";const sb=vE;new bo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(a,t){return t?qi(t):(mt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm extends uE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Va(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Va(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Va(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function ab(a){return z1(a.auth,new nm(a),a.bypassAuthState)}function lb(a){const{auth:t,user:i}=a;return mt(i,t,"internal-error"),k1(i,new nm(a),a.bypassAuthState)}async function ob(a){const{auth:t,user:i}=a;return mt(i,t,"internal-error"),L1(i,new nm(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t,i,r,o,h=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:o,tenantId:h,error:d,type:y}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:r,tenantId:h||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ab;case"linkViaPopup":case"linkViaRedirect":return ob;case"reauthViaPopup":case"reauthViaRedirect":return lb;default:Fi(this.auth,"internal-error")}}resolve(t){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=new bo(2e3,1e4);class Na extends EE{constructor(t,i,r,o,h){super(t,i,o,h),this.provider=r,this.authWindow=null,this.pollId=null,Na.currentPopupAction&&Na.currentPopupAction.cancel(),Na.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){Qi(this.filter.length===1,"Popup operations only handle one event");const t=em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Na.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ub.get())};t()}}Na.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="pendingRedirect",yc=new Map;class hb extends EE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=yc.get(this.auth._key());if(!t){try{const r=await fb(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}yc.set(this.auth._key(),t)}return this.bypassAuthState||yc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fb(a,t){const i=gb(t),r=mb(a);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function db(a,t){yc.set(a._key(),t)}function mb(a){return qi(a._redirectPersistence)}function gb(a){return pc(cb,a.config.apiKey,a.name)}async function pb(a,t,i=!1){if(Mn(a.app))return Promise.reject(Hi(a));const r=wo(a),o=rb(r,t),d=await new hb(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=600*1e3;class _b{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!vb(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!TE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(yi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yb&&this.cachedEventUids.clear(),this.cachedEventUids.has(b_(t))}saveEventToCache(t){this.cachedEventUids.add(b_(t)),this.lastProcessedEventTime=Date.now()}}function b_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function TE({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function vb(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TE(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(a,t={}){return Ya(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sb=/^https?/;async function Ab(a){if(a.config.emulator)return;const{authorizedDomains:t}=await Eb(a);for(const i of t)try{if(bb(i))return}catch{}Fi(a,"unauthorized-domain")}function bb(a){const t=Ad(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!Sb.test(i))return!1;if(Tb.test(a))return r===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=new bo(3e4,6e4);function R_(){const a=_i().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function wb(a){return new Promise((t,i)=>{function r(){R_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{R_(),i(yi(a,"network-request-failed"))},timeout:Rb.get()})}if(_i().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(_i().gapi?.load)r();else{const o=C1("iframefcb");return _i()[o]=()=>{gapi.load?r():i(yi(a,"network-request-failed"))},R1(`${w1()}?onload=${o}`).catch(h=>i(h))}}).catch(t=>{throw _c=null,t})}let _c=null;function Cb(a){return _c=_c||wb(a),_c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new bo(5e3,15e3),Db="__/auth/iframe",Nb="emulator/auth/iframe",Ob={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vb(a){const t=a.config;mt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Zd(t,Nb):`https://${a.config.authDomain}/${Db}`,r={apiKey:t.apiKey,appName:a.name,v:Qa},o=Mb.get(a.config.apiHost);o&&(r.eid=o);const h=a._getFrameworks();return h.length&&(r.fw=h.join(",")),`${i}?${Ao(r).slice(1)}`}async function xb(a){const t=await Cb(a),i=_i().gapi;return mt(i,a,"internal-error"),t.open({where:document.body,url:Vb(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ob,dontclear:!0},r=>new Promise(async(o,h)=>{await r.restyle({setHideOnLeave:!1});const d=yi(a,"network-request-failed"),y=_i().setTimeout(()=>{h(d)},Ib.get());function v(){_i().clearTimeout(y),o(r)}r.ping(v).then(v,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lb=500,kb=600,zb="_blank",Pb="http://localhost";class w_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bb(a,t,i,r=Lb,o=kb){const h=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let y="";const v={...Ub,width:r.toString(),height:o.toString(),top:h,left:d},_=Ke().toLowerCase();i&&(y=eE(_)?zb:i),Wv(_)&&(t=t||Pb,v.scrollbars="yes");const A=Object.entries(v).reduce((U,[K,tt])=>`${U}${K}=${tt},`,"");if(y1(_)&&y!=="_self")return jb(t||"",y),new w_(null);const I=window.open(t||"",y,A);mt(I,a,"popup-blocked");try{I.focus()}catch{}return new w_(I)}function jb(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="__/auth/handler",Hb="emulator/auth/handler",Gb=encodeURIComponent("fac");async function C_(a,t,i,r,o,h){mt(a.config.authDomain,a,"auth-domain-config-required"),mt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:Qa,eventId:o};if(t instanceof cE){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",BS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,I]of Object.entries({}))d[A]=I}if(t instanceof Co){const A=t.getScopes().filter(I=>I!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const y=d;for(const A of Object.keys(y))y[A]===void 0&&delete y[A];const v=await a._getAppCheckToken(),_=v?`#${Gb}=${encodeURIComponent(v)}`:"";return`${Fb(a)}?${Ao(y).slice(1)}${_}`}function Fb({config:a}){return a.emulator?Zd(a,Hb):`https://${a.authDomain}/${qb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="webStorageSupport";class Qb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gE,this._completeRedirectFn=pb,this._overrideRedirectResult=db}async _openPopup(t,i,r,o){Qi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await C_(t,i,r,Ad(),o);return Bb(t,h,em())}async _openRedirect(t,i,r,o){await this._originValidation(t);const h=await C_(t,i,r,Ad(),o);return X1(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:h}=this.eventManagers[i];return o?Promise.resolve(o):(Qi(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await xb(t),r=new _b(t);return i.register("authEvent",o=>(mt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(cd,{type:cd},o=>{const h=o?.[0]?.[cd];h!==void 0&&i(!!h),Fi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Ab(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return aE()||tE()||Wd()}}const Yb=Qb;var I_="@firebase/auth",D_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zb(a){ka(new Vr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=r.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:d,authDomain:y,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lE(a)},_=new A1(r,o,h,v);return D1(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),ka(new Vr("auth-internal",t=>{const i=wo(t.getProvider("auth").getImmediate());return(r=>new Kb(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),zs(I_,D_,Xb(a)),zs(I_,D_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=300,$b=Lv("authIdTokenMaxAge")||Jb;let N_=null;const Wb=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>$b)return;const o=i?.token;N_!==o&&(N_=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tR(a=qv()){const t=Kd(a,"auth");if(t.isInitialized())return t.getImmediate();const i=I1(a,{popupRedirectResolver:Yb,persistence:[sb,Q1,gE]}),r=Lv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(r,location.origin);if(location.origin===h.origin){const d=Wb(h.toString());q1(i,d,()=>d(i.currentUser)),j1(i,y=>d(y))}}const o=xv("auth");return o&&N1(i,`http://${o}`),i}function eR(){return document.getElementsByTagName("head")?.[0]??document}b1({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=o=>{const h=yi("internal-error");h.customData=o,i(h)},r.type="text/javascript",r.charset="UTF-8",eR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zb("Browser");var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ps,SE;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(b,S){function R(){}R.prototype=S.prototype,b.F=S.prototype,b.prototype=new R,b.prototype.constructor=b,b.D=function(M,N,x){for(var w=Array(arguments.length-2),te=2;te<arguments.length;te++)w[te-2]=arguments[te];return S.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,S,R){R||(R=0);const M=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)M[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;N<16;++N)M[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=b.g[0],R=b.g[1],N=b.g[2];let x=b.g[3],w;w=S+(x^R&(N^x))+M[0]+3614090360&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(N^S&(R^N))+M[1]+3905402710&4294967295,x=S+(w<<12&4294967295|w>>>20),w=N+(R^x&(S^R))+M[2]+606105819&4294967295,N=x+(w<<17&4294967295|w>>>15),w=R+(S^N&(x^S))+M[3]+3250441966&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(x^R&(N^x))+M[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(N^S&(R^N))+M[5]+1200080426&4294967295,x=S+(w<<12&4294967295|w>>>20),w=N+(R^x&(S^R))+M[6]+2821735955&4294967295,N=x+(w<<17&4294967295|w>>>15),w=R+(S^N&(x^S))+M[7]+4249261313&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(x^R&(N^x))+M[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(N^S&(R^N))+M[9]+2336552879&4294967295,x=S+(w<<12&4294967295|w>>>20),w=N+(R^x&(S^R))+M[10]+4294925233&4294967295,N=x+(w<<17&4294967295|w>>>15),w=R+(S^N&(x^S))+M[11]+2304563134&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(x^R&(N^x))+M[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(N^S&(R^N))+M[13]+4254626195&4294967295,x=S+(w<<12&4294967295|w>>>20),w=N+(R^x&(S^R))+M[14]+2792965006&4294967295,N=x+(w<<17&4294967295|w>>>15),w=R+(S^N&(x^S))+M[15]+1236535329&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(N^x&(R^N))+M[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^N&(S^R))+M[6]+3225465664&4294967295,x=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(x^S))+M[11]+643717713&4294967295,N=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(N^x))+M[0]+3921069994&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^x&(R^N))+M[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^N&(S^R))+M[10]+38016083&4294967295,x=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(x^S))+M[15]+3634488961&4294967295,N=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(N^x))+M[4]+3889429448&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^x&(R^N))+M[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^N&(S^R))+M[14]+3275163606&4294967295,x=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(x^S))+M[3]+4107603335&4294967295,N=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(N^x))+M[8]+1163531501&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^x&(R^N))+M[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^N&(S^R))+M[2]+4243563512&4294967295,x=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(x^S))+M[7]+1735328473&4294967295,N=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(N^x))+M[12]+2368359562&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(R^N^x)+M[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^N)+M[8]+2272392833&4294967295,x=S+(w<<11&4294967295|w>>>21),w=N+(x^S^R)+M[11]+1839030562&4294967295,N=x+(w<<16&4294967295|w>>>16),w=R+(N^x^S)+M[14]+4259657740&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^x)+M[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^N)+M[4]+1272893353&4294967295,x=S+(w<<11&4294967295|w>>>21),w=N+(x^S^R)+M[7]+4139469664&4294967295,N=x+(w<<16&4294967295|w>>>16),w=R+(N^x^S)+M[10]+3200236656&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^x)+M[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^N)+M[0]+3936430074&4294967295,x=S+(w<<11&4294967295|w>>>21),w=N+(x^S^R)+M[3]+3572445317&4294967295,N=x+(w<<16&4294967295|w>>>16),w=R+(N^x^S)+M[6]+76029189&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^x)+M[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^N)+M[12]+3873151461&4294967295,x=S+(w<<11&4294967295|w>>>21),w=N+(x^S^R)+M[15]+530742520&4294967295,N=x+(w<<16&4294967295|w>>>16),w=R+(N^x^S)+M[2]+3299628645&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(N^(R|~x))+M[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~N))+M[7]+1126891415&4294967295,x=S+(w<<10&4294967295|w>>>22),w=N+(S^(x|~R))+M[14]+2878612391&4294967295,N=x+(w<<15&4294967295|w>>>17),w=R+(x^(N|~S))+M[5]+4237533241&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~x))+M[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~N))+M[3]+2399980690&4294967295,x=S+(w<<10&4294967295|w>>>22),w=N+(S^(x|~R))+M[10]+4293915773&4294967295,N=x+(w<<15&4294967295|w>>>17),w=R+(x^(N|~S))+M[1]+2240044497&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~x))+M[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~N))+M[15]+4264355552&4294967295,x=S+(w<<10&4294967295|w>>>22),w=N+(S^(x|~R))+M[6]+2734768916&4294967295,N=x+(w<<15&4294967295|w>>>17),w=R+(x^(N|~S))+M[13]+1309151649&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~x))+M[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~N))+M[11]+3174756917&4294967295,x=S+(w<<10&4294967295|w>>>22),w=N+(S^(x|~R))+M[2]+718787259&4294967295,N=x+(w<<15&4294967295|w>>>17),w=R+(x^(N|~S))+M[9]+3951481745&4294967295,b.g[0]=b.g[0]+S&4294967295,b.g[1]=b.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+x&4294967295}r.prototype.v=function(b,S){S===void 0&&(S=b.length);const R=S-this.blockSize,M=this.C;let N=this.h,x=0;for(;x<S;){if(N==0)for(;x<=R;)o(this,b,x),x+=this.blockSize;if(typeof b=="string"){for(;x<S;)if(M[N++]=b.charCodeAt(x++),N==this.blockSize){o(this,M),N=0;break}}else for(;x<S;)if(M[N++]=b[x++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=S},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var S=1;S<b.length-8;++S)b[S]=0;S=this.o*8;for(var R=b.length-8;R<b.length;++R)b[R]=S&255,S/=256;for(this.v(b),b=Array(16),S=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)b[S++]=this.g[R]>>>M&255;return b};function h(b,S){var R=y;return Object.prototype.hasOwnProperty.call(R,b)?R[b]:R[b]=S(b)}function d(b,S){this.h=S;const R=[];let M=!0;for(let N=b.length-1;N>=0;N--){const x=b[N]|0;M&&x==S||(R[N]=x,M=!1)}this.g=R}var y={};function v(b){return-128<=b&&b<128?h(b,function(S){return new d([S|0],S<0?-1:0)}):new d([b|0],b<0?-1:0)}function _(b){if(isNaN(b)||!isFinite(b))return I;if(b<0)return W(_(-b));const S=[];let R=1;for(let M=0;b>=R;M++)S[M]=b/R|0,R*=4294967296;return new d(S,0)}function A(b,S){if(b.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(b.charAt(0)=="-")return W(A(b.substring(1),S));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(S,8));let M=I;for(let x=0;x<b.length;x+=8){var N=Math.min(8,b.length-x);const w=parseInt(b.substring(x,x+N),S);N<8?(N=_(Math.pow(S,N)),M=M.j(N).add(_(w))):(M=M.j(R),M=M.add(_(w)))}return M}var I=v(0),U=v(1),K=v(16777216);a=d.prototype,a.m=function(){if(st(this))return-W(this).m();let b=0,S=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);b+=(M>=0?M:4294967296+M)*S,S*=4294967296}return b},a.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(tt(this))return"0";if(st(this))return"-"+W(this).toString(b);const S=_(Math.pow(b,6));var R=this;let M="";for(;;){const N=Rt(R,S).g;R=pt(R,N.j(S));let x=((R.g.length>0?R.g[0]:R.h)>>>0).toString(b);if(R=N,tt(R))return x+M;for(;x.length<6;)x="0"+x;M=x+M}},a.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function tt(b){if(b.h!=0)return!1;for(let S=0;S<b.g.length;S++)if(b.g[S]!=0)return!1;return!0}function st(b){return b.h==-1}a.l=function(b){return b=pt(this,b),st(b)?-1:tt(b)?0:1};function W(b){const S=b.g.length,R=[];for(let M=0;M<S;M++)R[M]=~b.g[M];return new d(R,~b.h).add(U)}a.abs=function(){return st(this)?W(this):this},a.add=function(b){const S=Math.max(this.g.length,b.g.length),R=[];let M=0;for(let N=0;N<=S;N++){let x=M+(this.i(N)&65535)+(b.i(N)&65535),w=(x>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);M=w>>>16,x&=65535,w&=65535,R[N]=w<<16|x}return new d(R,R[R.length-1]&-2147483648?-1:0)};function pt(b,S){return b.add(W(S))}a.j=function(b){if(tt(this)||tt(b))return I;if(st(this))return st(b)?W(this).j(W(b)):W(W(this).j(b));if(st(b))return W(this.j(W(b)));if(this.l(K)<0&&b.l(K)<0)return _(this.m()*b.m());const S=this.g.length+b.g.length,R=[];for(var M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<b.g.length;N++){const x=this.i(M)>>>16,w=this.i(M)&65535,te=b.i(N)>>>16,we=b.i(N)&65535;R[2*M+2*N]+=w*we,wt(R,2*M+2*N),R[2*M+2*N+1]+=x*we,wt(R,2*M+2*N+1),R[2*M+2*N+1]+=w*te,wt(R,2*M+2*N+1),R[2*M+2*N+2]+=x*te,wt(R,2*M+2*N+2)}for(b=0;b<S;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=S;b<2*S;b++)R[b]=0;return new d(R,0)};function wt(b,S){for(;(b[S]&65535)!=b[S];)b[S+1]+=b[S]>>>16,b[S]&=65535,S++}function lt(b,S){this.g=b,this.h=S}function Rt(b,S){if(tt(S))throw Error("division by zero");if(tt(b))return new lt(I,I);if(st(b))return S=Rt(W(b),S),new lt(W(S.g),W(S.h));if(st(S))return S=Rt(b,W(S)),new lt(W(S.g),S.h);if(b.g.length>30){if(st(b)||st(S))throw Error("slowDivide_ only works with positive integers.");for(var R=U,M=S;M.l(b)<=0;)R=St(R),M=St(M);var N=ft(R,1),x=ft(M,1);for(M=ft(M,2),R=ft(R,2);!tt(M);){var w=x.add(M);w.l(b)<=0&&(N=N.add(R),x=w),M=ft(M,1),R=ft(R,1)}return S=pt(b,N.j(S)),new lt(N,S)}for(N=I;b.l(S)>=0;){for(R=Math.max(1,Math.floor(b.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),x=_(R),w=x.j(S);st(w)||w.l(b)>0;)R-=M,x=_(R),w=x.j(S);tt(x)&&(x=U),N=N.add(x),b=pt(b,w)}return new lt(N,b)}a.B=function(b){return Rt(this,b).h},a.and=function(b){const S=Math.max(this.g.length,b.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)&b.i(M);return new d(R,this.h&b.h)},a.or=function(b){const S=Math.max(this.g.length,b.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)|b.i(M);return new d(R,this.h|b.h)},a.xor=function(b){const S=Math.max(this.g.length,b.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)^b.i(M);return new d(R,this.h^b.h)};function St(b){const S=b.g.length+1,R=[];for(let M=0;M<S;M++)R[M]=b.i(M)<<1|b.i(M-1)>>>31;return new d(R,b.h)}function ft(b,S){const R=S>>5;S%=32;const M=b.g.length-R,N=[];for(let x=0;x<M;x++)N[x]=S>0?b.i(x+R)>>>S|b.i(x+R+1)<<32-S:b.i(x+R);return new d(N,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,SE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ps=d}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AE,io,bE,vc,wd,RE,wE,CE;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function I(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var X=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)X[Et-2]=arguments[Et];return m.prototype[L].apply(T,X)}}var U=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var p=typeof L;if(p=p!="object"?p:L?Array.isArray(L)?"array":p:"null",p=="array"||p=="object"&&typeof L.length=="number"){p=u.length||0;const B=L.length||0;u.length=p+B;for(let X=0;X<B;X++)u[p+X]=L[X]}else u.push(L)}}class st{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function pt(){var u=b;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class wt{constructor(){this.h=this.g=null}add(m,p){const T=lt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var lt=new st(()=>new Rt,u=>u.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let St,ft=!1,b=new wt,S=()=>{const u=Promise.resolve(void 0);St=()=>{u.then(R)}};function R(){for(var u;u=pt();){try{u.h.call(u.g)}catch(p){W(p)}var m=lt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ft=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function te(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}I(te,N),te.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),H=0;function J(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function Ht(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function O(u){const m={};for(const p in u)m[p]=u[p];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let B=0;B<Q.length;B++)p=Q[B],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function et(u){this.src=u,this.g={},this.h=0}et.prototype.add=function(u,m,p,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const X=At(u,m,T,L);return X>-1?(m=u[X],p||(m.fa=!1)):(m=new J(m,this.src,B,!!T,L),m.fa=p,u.push(m)),m};function gt(u,m){const p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ut(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function At(u,m,p,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!p&&B.ha==T)return L}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),Ce={};function ee(u,m,p,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ee(u,m[B],p,T,L);return null}return p=Wa(p),u&&u[we]?u.J(m,p,y(T)?!!T.capture:!1,L):Zs(u,m,p,!1,T,L)}function Zs(u,m,p,T,L,B){if(!m)throw Error("Invalid event type");const X=y(L)?!!L.capture:!!L;let Et=Js(u);if(Et||(u[xt]=Et=new et(u)),p=Et.add(m,p,T,X,B),p.proxy)return p;if(T=Lr(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)x||(L=X),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Qn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Lr(){function u(p){return m.call(u.src,u.listener,p)}const m=Ja;return u}function kr(u,m,p,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)kr(u,m[B],p,T,L);else T=y(T)?!!T.capture:!!T,p=Wa(p),u&&u[we]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],p=At(m,p,T,L),p>-1&&(ut(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Js(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,p,T,L)),(p=u>-1?m[u]:null)&&zr(p))}function zr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])gt(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Qn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Js(m))?(gt(p,u),p.h==0&&(p.src=null,m[xt]=null)):ut(u)}}}function Qn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function Ja(u,m){if(u.da)u=!0;else{m=new te(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&zr(u),u=p.call(T,m)}return u}function Js(u){return u=u[xt],u instanceof et?u:null}var $a="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wa(u){return typeof u=="function"?u:(u[$a]||(u[$a]=function(m){return u.handleEvent(m)}),u[$a])}function me(){M.call(this),this.i=new et(this),this.M=this,this.G=null}I(me,M),me.prototype[we]=!0,me.prototype.removeEventListener=function(u,m,p,T){kr(this,u,m,p,T)};function Ie(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),$(m,L)}L=!0;let B,X;if(p)for(X=p.length-1;X>=0;X--)B=m.g=p[X],L=Zi(B,T,!0,m)&&L;if(B=m.g=u,L=Zi(B,T,!0,m)&&L,L=Zi(B,T,!1,m)&&L,p)for(X=0;X<p.length;X++)B=m.g=p[X],L=Zi(B,T,!1,m)&&L}me.prototype.N=function(){if(me.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)ut(p[T]);delete u.g[m],u.h--}}this.G=null},me.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},me.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function Zi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const X=m[B];if(X&&!X.da&&X.capture==p){const Et=X.listener,ue=X.ha||X.src;X.fa&&gt(u.i,X),L=Et.call(ue,T)!==!1&&L}}return L&&!T.defaultPrevented}function Wc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function xo(u){u.g=Wc(()=>{u.g=null,u.i&&(u.i=!1,xo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Xe extends M{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:xo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $s(u){M.call(this),this.h=u,this.g={}}I($s,M);var tl=[];function el(u){kt(u.g,function(m,p){this.g.hasOwnProperty(p)&&zr(m)},u),u.g={}}$s.prototype.N=function(){$s.Z.N.call(this),el(this)},$s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ji=d.JSON.stringify,th=d.JSON.parse,Uo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Lo(){}function ko(){}var Vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){N.call(this,"d")}I(Le,N);function vn(){N.call(this,"c")}I(vn,N);var oe={},zo=null;function Pr(){return zo=zo||new me}oe.Ia="serverreachability";function Po(u){N.call(this,oe.Ia,u)}I(Po,N);function Yn(u){const m=Pr();Ie(m,new Po(m))}oe.STAT_EVENT="statevent";function Ws(u,m){N.call(this,oe.STAT_EVENT,u),this.stat=m}I(Ws,N);function ge(u){const m=Pr();Ie(m,new Ws(m,u))}oe.Ja="timingevent";function Kn(u,m){N.call(this,oe.Ja,u),this.size=m}I(Kn,N);function Xn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function xn(){this.g=!0}xn.prototype.ua=function(){this.g=!1};function eh(u,m,p,T,L,B){u.info(function(){if(u.g)if(B){var X="",Et=B.split("&");for(let jt=0;jt<Et.length;jt++){var ue=Et[jt].split("=");if(ue.length>1){const ne=ue[0];ue=ue[1];const An=ne.split("_");X=An.length>=2&&An[1]=="type"?X+(ne+"="+ue+"&"):X+(ne+"=redacted&")}}}else X=null;else X=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+X})}function Bo(u,m,p,T,L,B,X){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+B+" "+X})}function Zn(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+nh(u,p)+(T?" "+T:"")})}function tr(u,m){u.info(function(){return"TIMEOUT: "+m})}xn.prototype.info=function(){};function nh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var p=B[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let X=1;X<T.length;X++)T[X]=""}}}}return Ji(B)}catch{return m}}var er={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},nl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},il;function nr(){}I(nr,Lo),nr.prototype.g=function(){return new XMLHttpRequest},il=new nr;function Si(u){return encodeURIComponent(String(u))}function jo(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function Un(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new $s(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ln}function Ln(){this.i=null,this.g="",this.h=!1}var pe={},Me={};function Jn(u,m,p){u.M=1,u.A=ir(_e(m)),u.u=p,u.R=!0,Br(u,null)}function Br(u,m){u.F=Date.now(),$n(u),u.B=_e(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Gr(p.i,"t",T),u.C=0,p=u.j.L,u.h=new Ln,u.g=nu(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Xe(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(tl[0]=L.toString()),L=tl);for(let B=0;B<L.length;B++){const X=ee(p,L[B],T||m.handleEvent,!1,m.h||m);if(!X)break;m.g[X.key]=X}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Yn(),eh(u.i,u.v,u.B,u.l,u.S,u.u)}Un.prototype.ba=function(u){u=u.target;const m=this.O;m&&Pn(u)==3?m.j():this.Y(u)},Un.prototype.Y=function(u){try{if(u==this.g)t:{const Et=Pn(this.g),ue=this.g.ya(),jt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||Et!=4||ue==7||(ue==8||jt<=0?Yn(3):Yn(2)),Wn(this);var m=this.g.ca();this.X=m;var p=ih(this);if(this.o=m==200,Bo(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)Zn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ti(this,u);else{this.o=!1,this.m=3,ge(12),un(this),En(this);break t}}if(this.R){u=!0;let ne;for(;!this.K&&this.C<p.length;)if(ne=Ho(this,p),ne==Me){Et==4&&(this.m=4,ge(14),u=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(ne==pe){this.m=4,ge(15),Zn(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else Zn(this.i,this.l,ne,null),ti(this,ne);if(qo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||p.length!=0||this.h.h||(this.m=1,ge(16),u=!1),this.o=this.o&&u,!u)Zn(this.i,this.l,p,"[Invalid Chunked Response]"),un(this),En(this);else if(p.length>0&&!this.W){this.W=!0;var X=this.j;X.g==this&&X.aa&&!X.P&&(X.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),_l(X),X.P=!0,ge(11))}}else Zn(this.i,this.l,p,null),ti(this,p);Et==4&&un(this),this.o&&!this.K&&(Et==4?$o(this.j,this):(this.o=!1,$n(this)))}else bi(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),un(this),En(this)}}}catch{}finally{}};function ih(u){if(!qo(u))return u.g.la();const m=ke(u.g);if(m==="")return"";let p="";const T=m.length,L=Pn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),En(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,p+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function qo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ho(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Me:(p=Number(m.substring(p,T)),isNaN(p)?pe:(T+=1,T+p>m.length?Me:(m=m.slice(T,T+p),u.C=T+p,m)))}Un.prototype.cancel=function(){this.K=!0,un(this)};function $n(u){u.T=Date.now()+u.H,jr(u,u.H)}function jr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Xn(_(u.aa,u),m)}function Wn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Un.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(tr(this.i,this.B),this.M!=2&&(Yn(),ge(17)),un(this),this.m=2,En(this)):jr(this,this.T-u)};function En(u){u.j.I==0||u.K||$o(u.j,u)}function un(u){Wn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,el(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ti(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||ni(p.h,u))){if(!u.L&&ni(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)Xr(p),rs(p);else break t;cr(p),ge(18)}}else p.xa=L[1],0<p.xa-p.K&&L[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Xn(_(p.Va,p),6e3));ei(p.h)<=1&&p.ta&&(p.ta=void 0)}else oi(p,11)}else if((u.L||p.g==u)&&Xr(p),!w(m))for(L=p.Ba.g.parse(m),m=0;m<L.length;m++){let jt=L[m];const ne=jt[0];if(!(ne<=p.K))if(p.K=ne,jt=jt[1],p.I==2)if(jt[0]=="c"){p.M=jt[1],p.ba=jt[2];const An=jt[3];An!=null&&(p.ka=An,p.j.info("VER="+p.ka));const ui=jt[4];ui!=null&&(p.za=ui,p.j.info("SVER="+p.za));const Bn=jt[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(T=1.5*Bn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const jn=u.g;if(jn){const hr=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hr){var B=T.h;B.g||hr.indexOf("spdy")==-1&&hr.indexOf("quic")==-1&&hr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(al(B,B.h),B.h=null))}if(T.G){const Zr=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zr&&(T.wa=Zr,Gt(T.J,T.G,Zr))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var X=u;if(T.na=eu(T,T.L?T.ba:null,T.W),X.L){ll(T.h,X);var Et=X,ue=T.O;ue&&(Et.H=ue),Et.D&&(Wn(Et),$n(Et)),T.g=X}else Zo(T);p.i.length>0&&li(p)}else jt[0]!="stop"&&jt[0]!="close"||oi(p,7);else p.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?oi(p,7):pl(p):jt[0]!="noop"&&p.l&&p.l.qa(jt),p.A=0)}}Yn(4)}catch{}}var ye=class{constructor(u,m){this.g=u,this.map=m}};function sl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ei(u){return u.h?1:u.g?u.g.size:0}function ni(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function al(u,m){u.g?u.g.add(m):u.h=m}function ll(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}sl.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ol(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return K(u.i)}var Go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qr(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let L,B=null;T>=0?(L=u[p].substring(0,T),B=u[p].substring(T+1)):L=u[p],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Ve(this,u.j),this.o=u.o,this.g=u.g,$i(this,u.u),this.h=u.h,ul(this,Ko(u.i)),this.m=u.m):u&&(m=String(u).match(Go))?(this.l=!1,Ve(this,m[1]||"",!0),this.o=ii(m[2]||""),this.g=ii(m[3]||"",!0),$i(this,m[4]),this.h=ii(m[5]||"",!0),ul(this,m[6]||"",!0),this.m=ii(m[7]||"")):(this.l=!1,this.i=new ts(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(sr(m,Hr,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(sr(m,Hr,!0),"@"),u.push(Si(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(sr(p,p.charAt(0)=="/"?cl:Fo,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",sr(p,Qo)),u.join("")},cn.prototype.resolve=function(u){const m=_e(this);let p=!!u.j;p?Ve(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)$i(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let X=0;X<L.length;){const Et=L[X++];Et=="."?T&&X==L.length&&B.push(""):Et==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&X==L.length&&B.push("")):(B.push(Et),T=!0)}T=B.join("/")}else T=L}return p?m.h=T:p=u.i.toString()!=="",p?ul(m,Ko(u.i)):p=!!u.m,p&&(m.m=u.m),m};function _e(u){return new cn(u)}function Ve(u,m,p){u.j=p?ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function $i(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ul(u,m,p){m instanceof ts?(u.i=m,Fr(u.i,u.l)):(p||(m=sr(m,Wi)),u.i=new ts(m,u.l))}function Gt(u,m,p){u.i.set(m,p)}function ir(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function sr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hr=/[#\/\?@]/g,Fo=/[#\?:]/g,cl=/[#\?]/g,Wi=/[#\?@]/g,Qo=/#/g;function ts(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&qr(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=ts.prototype,a.add=function(u,m){en(this),this.i=null,u=es(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Yo(u,m){en(u),m=es(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function hl(u,m){return en(u),m=es(u,m),u.g.has(m)}a.forEach=function(u,m){en(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)};function fl(u,m){en(u);let p=[];if(typeof m=="string")hl(u,m)&&(p=p.concat(u.g.get(es(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}a.set=function(u,m){return en(this),this.i=null,u=es(this,u),hl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=fl(this,u),u.length>0?String(u[0]):m):m};function Gr(u,m,p){Yo(u,m),p.length>0&&(u.i=null,u.g.set(es(u,m),K(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const L=Si(p);p=fl(this,p);for(let B=0;B<p.length;B++){let X=L;p[B]!==""&&(X+="="+Si(p[B])),u.push(X)}}return this.i=u.join("&")};function Ko(u){const m=new ts;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function es(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Fr(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(p,T){const L=T.toLowerCase();T!=L&&(Yo(this,T),Gr(this,L,p))},u)),u.j=m}function kn(u,m){const p=new xn;if(d.Image){const T=new Image;T.onload=A(Tn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Tn,p,"TestLoadImage: error",!1,m,T),T.onabort=A(Tn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Tn,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function dl(u,m){const p=new xn,T=new AbortController,L=setTimeout(()=>{T.abort(),Tn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Tn(p,"TestPingServer: ok",!0,m):Tn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Tn(p,"TestPingServer: error",!1,m)})}function Tn(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function ns(){this.g=new Uo}function si(u){this.i=u.Sb||null,this.h=u.ab||!1}I(si,Lo),si.prototype.g=function(){return new rr(this.i,this.h)};function rr(u,m){me.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}I(rr,me),a=rr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,zn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,is(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?is(this):zn(this),this.readyState==3&&Qr(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,is(this))},a.Na=function(u){this.g&&(this.response=u,is(this))},a.ga=function(){this.g&&is(this)};function is(u){u.readyState=4,u.l=null,u.j=null,u.B=null,zn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return kt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function ar(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Sn(p),typeof u=="string"?p!=null&&Si(p):Gt(u,m,p))}function Yt(u){me.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}I(Yt,me);var ri=/^https?$/i,ml=["POST","PUT"];a=Yt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():il.g(),this.g.onreadystatechange=U(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){lr(this,B);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())p.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ml,m,void 0)>=0)||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,X]of p)this.g.setRequestHeader(B,X);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){lr(this,B)}};function lr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,gl(u),Ai(u)}function gl(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Ai(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),Yt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?or(this):this.Xa())},a.Xa=function(){or(this)};function or(u){if(u.h&&typeof h<"u"){if(u.v&&Pn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),Pn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=B===0){let X=String(u.D).match(Go)[1]||null;!X&&d.self&&d.self.location&&(X=d.self.location.protocol.slice(0,-1)),T=!ri.test(X?X.toLowerCase():"")}p=T}if(p)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var L=Pn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",gl(u)}}finally{Ai(u)}}}}function Ai(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ie(u,"ready");try{p.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Pn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Pn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),th(m)}};function ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bi(u){const m={};u=(u.g&&Pn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var p=jo(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const B=m[L]||[];m[L]=B,B.push(p)}Ht(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ai(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ss(u){this.za=0,this.i=[],this.j=new xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ai("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ai("baseRetryDelayMs",5e3,u),this.Za=ai("retryDelaySeedMs",1e4,u),this.Ta=ai("forwardChannelMaxRetries",2,u),this.va=ai("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new sl(u&&u.concurrentRequestLimit),this.Ba=new ns,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ss.prototype,a.ka=8,a.I=1,a.connect=function(u,m,p,T){ge(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=eu(this,null,this.W),li(this)};function pl(u){if(Yr(u),u.I==3){var m=u.V++,p=_e(u.J);if(Gt(p,"SID",u.M),Gt(p,"RID",m),Gt(p,"TYPE","terminate"),ur(u,p),m=new Un(u,u.j,m),m.M=2,m.A=ir(_e(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),$n(m)}tu(u)}function rs(u){u.g&&(_l(u),u.g.cancel(),u.g=null)}function Yr(u){rs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Xr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function li(u){if(!rl(u.h)&&!u.m){u.m=!0;var m=u.Ea;St||S(),ft||(St(),ft=!0),b.add(m,u),u.D=0}}function Kr(u,m){return ei(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Xn(_(u.Ea,u,m),Wo(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Un(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),$(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Xo(this,L,m),p=_e(this.J),Gt(p,"RID",u),Gt(p,"CVER",22),this.G&&Gt(p,"X-HTTP-Session-Id",this.G),ur(this,p),B&&(this.R?m="headers="+Si(Sn(B))+"&"+m:this.u&&ar(p,this.u,B)),al(this.h,L),this.Ra&&Gt(p,"TYPE","init"),this.S?(Gt(p,"$req",m),Gt(p,"SID","null"),L.U=!0,Jn(L,p,null)):Jn(L,p,m),this.I=2}}else this.I==3&&(u?yl(this,u):this.i.length==0||rl(this.h)||yl(this))};function yl(u,m){var p;m?p=m.l:p=u.V++;const T=_e(u.J);Gt(T,"SID",u.M),Gt(T,"RID",p),Gt(T,"AID",u.K),ur(u,T),u.u&&u.o&&ar(T,u.u,u.o),p=new Un(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Xo(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),al(u.h,p),Jn(p,T,m)}function ur(u,m){u.H&&kt(u.H,function(p,T){Gt(m,T,p)}),u.l&&kt({},function(p,T){Gt(m,T,p)})}function Xo(u,m,p){p=Math.min(u.i.length,p);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Et=-1;for(;;){const ue=["count="+p];Et==-1?p>0?(Et=L[0].g,ue.push("ofs="+Et)):Et=0:ue.push("ofs="+Et);let jt=!0;for(let ne=0;ne<p;ne++){var B=L[ne].g;const An=L[ne].map;if(B-=Et,B<0)Et=Math.max(0,L[ne].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var X=An instanceof Map?An:Object.entries(An);for(const[ui,Bn]of X){let jn=Bn;y(Bn)&&(jn=Ji(Bn)),ue.push(B+ui+"="+encodeURIComponent(jn))}}catch(ui){throw ue.push(B+"type="+encodeURIComponent("_badmap")),ui}}catch{T&&T(An)}}if(jt){X=ue.join("&");break t}}X=void 0}return u=u.i.splice(0,p),m.G=u,X}function Zo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;St||S(),ft||(St(),ft=!0),b.add(m,u),u.A=0}}function cr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Xn(_(u.Da,u),Wo(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Jo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Xn(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),rs(this),Jo(this))};function _l(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Jo(u){u.g=new Un(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=_e(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),ur(u,m),u.u&&u.o&&ar(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=ir(_e(m)),p.u=null,p.R=!0,Br(p,u)}a.Va=function(){this.C!=null&&(this.C=null,rs(this),cr(this),ge(19))};function Xr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function $o(u,m){var p=null;if(u.g==m){Xr(u),_l(u),u.g=null;var T=2}else if(ni(u.h,m))p=m.G,ll(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Pr(),Ie(T,new Kn(T,p)),li(u)}else Zo(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Kr(u,m)||T==2&&cr(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),L){case 1:oi(u,5);break;case 4:oi(u,10);break;case 3:oi(u,6);break;default:oi(u,2)}}}function Wo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function oi(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),T=u.Ua;const L=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ve(T,"https"),ir(T),L?kn(T.toString(),p):dl(T.toString(),p)}else ge(2);u.I=0,u.l&&u.l.pa(m),tu(u),Yr(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function tu(u){if(u.I=0,u.ja=[],u.l){const m=ol(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function eu(u,m,p){var T=p instanceof cn?_e(p):new cn(p);if(T.g!="")m&&(T.g=m+"."+T.g),$i(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new cn(null);T&&Ve(B,T),m&&(B.g=m),L&&$i(B,L),p&&(B.h=p),T=B}return p=u.G,m=u.wa,p&&m&&Gt(T,p,m),Gt(T,"VER",u.ka),ur(u,T),T}function nu(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new si({ab:p})):new Yt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function iu(){}a=iu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function as(){}as.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){me.call(this),this.g=new ss(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ri(this)}I(Ze,me),Ze.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){pl(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Ji(u),u=p);m.i.push(new ye(m.Ya++,u)),m.I==3&&li(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,Ze.Z.N.call(this)};function su(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}I(su,Le);function ru(){vn.call(this),this.status=1}I(ru,vn);function Ri(u){this.g=u}I(Ri,iu),Ri.prototype.ra=function(){Ie(this.g,"a")},Ri.prototype.qa=function(u){Ie(this.g,new su(u))},Ri.prototype.pa=function(u){Ie(this.g,new ru)},Ri.prototype.oa=function(){Ie(this.g,"b")},as.prototype.createWebChannel=as.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,CE=function(){return new as},wE=function(){return Pr()},RE=oe,wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},er.NO_ERROR=0,er.TIMEOUT=8,er.HTTP_ERROR=6,vc=er,nl.COMPLETE="complete",bE=nl,ko.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",me.prototype.listen=me.prototype.J,io=ko,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,AE=Yt}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const M_="@firebase/firestore",V_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Qd("@firebase/firestore");function wa(){return qs.logLevel}function nR(a){qs.setLogLevel(a)}function nt(a,...t){if(qs.logLevel<=Ot.DEBUG){const i=t.map(im);qs.debug(`Firestore (${Ka}): ${a}`,...i)}}function Ki(a,...t){if(qs.logLevel<=Ot.ERROR){const i=t.map(im);qs.error(`Firestore (${Ka}): ${a}`,...i)}}function za(a,...t){if(qs.logLevel<=Ot.WARN){const i=t.map(im);qs.warn(`Firestore (${Ka}): ${a}`,...i)}}function im(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,IE(a,r,i)}function IE(a,t,i){let r=`FIRESTORE (${Ka}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ki(r),new Error(r)}function re(a,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||IE(t,o,r)}function Lt(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Xi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class iR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Qe.UNAUTHENTICATED)))}shutdown(){}}class sR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class rR{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){re(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Dr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Dr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(re(typeof r.accessToken=="string",31837,{l:r}),new DE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return re(t===null||typeof t=="string",2055,{h:t}),new Qe(t)}}class aR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new aR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Qe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){re(this.o===void 0,3512);const r=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>r(h)))};const o=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new x_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(re(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new x_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=uR(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=t.charAt(o[h]%62))}return r}}function Vt(a,t){return a<t?-1:a>t?1:0}function Cd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=t.charAt(r);if(o!==h)return hd(o)===hd(h)?Vt(o,h):hd(o)?1:-1}return Vt(a.length,t.length)}const cR=55296,hR=57343;function hd(a){const t=a.charCodeAt(0);return t>=cR&&t<=hR}function Pa(a,t,i){return a.length===t.length&&a.every(((r,o)=>i(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="__name__";class mi{constructor(t,i,r){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&vt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return mi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof mi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const h=mi.compareSegments(t.get(o),i.get(o));if(h!==0)return h}return Vt(t.length,i.length)}static compareSegments(t,i){const r=mi.isNumericId(t),o=mi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?mi.extractNumericId(t).compare(mi.extractNumericId(i)):Cd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ps.fromString(t.substring(4,t.length-2))}}class se extends mi{construct(t,i,r){return new se(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new at(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const fR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends mi{construct(t,i,r){return new $e(t,i,r)}static isValidIdentifier(t){return fR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U_}static keyField(){return new $e([U_])}static fromServerFormat(t){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new at(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<t.length;){const y=t[o];if(y==="\\"){if(o+1===t.length)throw new at(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(r+=y,o++):(h(),o++)}if(h(),d)throw new at(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(i)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(se.fromString(t))}static fromName(t){return new ht(se.fromString(t).popFirst(5))}static empty(){return new ht(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return se.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new se(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(a,t,i){if(!i)throw new at(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function mR(a,t,i,r){if(t===!0&&r===!0)throw new at(Z.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function L_(a){if(!ht.isDocumentKey(a))throw new at(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function gR(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function pR(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":vt(12329,{type:typeof a})}function Id(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new at(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=pR(a);throw new at(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(a,t){const i={typeString:a};return t&&(i.value=t),i}function Do(a,t){if(!gR(a))throw new at(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,h="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new at(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=-62135596800,z_=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*z_);return new be(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<k_)throw new at(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Do(t,be._jsonSchema))return new be(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-k_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}be._jsonSchemaVersion="firestore/timestamp/1.0",be._jsonSchema={type:Re("string",be._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new be(0,0))}static max(){return new _t(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=-1;function yR(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(r===1e9?new be(i+1,0):new be(i,r));return new Hs(o,ht.empty(),t)}function _R(a){return new Hs(a.readTime,a.key,yo)}class Hs{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Hs(_t.min(),ht.empty(),yo)}static max(){return new Hs(_t.max(),ht.empty(),yo)}}function vR(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(a.documentKey,t.documentKey),i!==0?i:Vt(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==ER)throw a;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,r)=>{i(t)}))}static reject(t){return new Y(((i,r)=>{r(t)}))}static waitFor(t){return new Y(((i,r)=>{let o=0,h=0,d=!1;t.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(v=>r(v)))})),d=!0,h===o&&i()}))}static or(t){let i=Y.resolve(!1);for(const r of t)i=i.next((o=>o?Y.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(t,i){return new Y(((r,o)=>{const h=t.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(t[_]).next((A=>{d[_]=A,++y,y===h&&r(d)}),(A=>o(A)))}}))}static doWhile(t,i){return new Y(((r,o)=>{const h=()=>{t()===!0?i().next((()=>{h()}),o):r()};h()}))}}function SR(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Xa(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Hc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=-1;function Gc(a){return a==null}function Dd(a){return a===0&&1/a==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="";function bR(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=P_(t)),t=RR(a.get(i),t);return P_(t)}function RR(a,t){let i=t;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case NE:i+="";break;default:i+=h}}return i}function P_(a){return a+NE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function No(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function wR(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,i){this.comparator=t,this.root=i||qe.EMPTY}insert(t,i){return new de(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hc(this.root,t,this.comparator,!0)}}class hc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?r(t.key,i):1,i&&o&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,i,r,o,h){this.key=t,this.value=i,this.color=r??qe.RED,this.left=o??qe.EMPTY,this.right=h??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,h){return new qe(t??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const h=r(t,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(t,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,r,o,h){return this}insert(t,i,r){return new qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new j_(this.data.getIterator())}getIteratorFrom(t){return new j_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Oe(this.comparator);return i.data=t,i}}class j_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new xs([])}unionWith(t){let i=new Oe($e.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new xs(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Pa(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new OE("Invalid base64 string: "+h):h}})(t);return new He(i)}static fromUint8Array(t){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(t);return new He(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const CR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(a){if(re(!!a,39018),typeof a=="string"){let t=0;const i=CR.exec(a);if(re(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:fe(a.seconds),nanos:fe(a.nanos)}}function fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Fs(a){return typeof a=="string"?He.fromBase64String(a):He.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="server_timestamp",VE="__type__",xE="__previous_value__",UE="__local_write_time__";function rm(a){return(a?.mapValue?.fields||{})[VE]?.stringValue===ME}function Fc(a){const t=a.mapValue.fields[xE];return rm(t)?Fc(t):t}function _o(a){const t=Gs(a.mapValue.fields[UE].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t,i,r,o,h,d,y,v,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Mc="(default)";class vo{constructor(t,i){this.projectId=t,this.database=i||Mc}static empty(){return new vo("","")}get isDefaultDatabase(){return this.database===Mc}isEqual(t){return t instanceof vo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="__type__",NR="__max__",fc={mapValue:{}},OR="__vector__",Nd="value";function Qs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?rm(a)?4:VR(a)?9007199254740991:MR(a)?10:11:vt(28295,{value:a})}function Ei(a,t){if(a===t)return!0;const i=Qs(a);if(i!==Qs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return _o(a).isEqual(_o(t));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Gs(o.timestampValue),y=Gs(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(o,h){return Fs(o.bytesValue).isEqual(Fs(h.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(o,h){return fe(o.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(h.geoPointValue.longitude)})(a,t);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return fe(o.integerValue)===fe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=fe(o.doubleValue),y=fe(h.doubleValue);return d===y?Dd(d)===Dd(y):isNaN(d)&&isNaN(y)}return!1})(a,t);case 9:return Pa(a.arrayValue.values||[],t.arrayValue.values||[],Ei);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(B_(d)!==B_(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Ei(d[v],y[v])))return!1;return!0})(a,t);default:return vt(52216,{left:a})}}function Eo(a,t){return(a.values||[]).find((i=>Ei(i,t)))!==void 0}function Ba(a,t){if(a===t)return 0;const i=Qs(a),r=Qs(t);if(i!==r)return Vt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(a.booleanValue,t.booleanValue);case 2:return(function(h,d){const y=fe(h.integerValue||h.doubleValue),v=fe(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(a,t);case 3:return q_(a.timestampValue,t.timestampValue);case 4:return q_(_o(a),_o(t));case 5:return Cd(a.stringValue,t.stringValue);case 6:return(function(h,d){const y=Fs(h),v=Fs(d);return y.compareTo(v)})(a.bytesValue,t.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Vt(y[_],v[_]);if(A!==0)return A}return Vt(y.length,v.length)})(a.referenceValue,t.referenceValue);case 8:return(function(h,d){const y=Vt(fe(h.latitude),fe(d.latitude));return y!==0?y:Vt(fe(h.longitude),fe(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return H_(a.arrayValue,t.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[Nd]?.arrayValue,A=v[Nd]?.arrayValue,I=Vt(_?.values?.length||0,A?.values?.length||0);return I!==0?I:H_(_,A)})(a.mapValue,t.mapValue);case 11:return(function(h,d){if(h===fc.mapValue&&d===fc.mapValue)return 0;if(h===fc.mapValue)return 1;if(d===fc.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let I=0;I<v.length&&I<A.length;++I){const U=Cd(v[I],A[I]);if(U!==0)return U;const K=Ba(y[v[I]],_[A[I]]);if(K!==0)return K}return Vt(v.length,A.length)})(a.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function q_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Vt(a,t);const i=Gs(a),r=Gs(t),o=Vt(i.seconds,r.seconds);return o!==0?o:Vt(i.nanos,r.nanos)}function H_(a,t){const i=a.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Ba(i[o],r[o]);if(h)return h}return Vt(i.length,r.length)}function ja(a){return Od(a)}function Od(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Gs(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Fs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ht.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=Od(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${Od(i.fields[d])}`;return o+"}"})(a.mapValue):vt(61005,{value:a})}function Ec(a){switch(Qs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Fc(a);return t?16+Ec(t):16;case 5:return 2*a.stringValue.length;case 6:return Fs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+Ec(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return No(r.fields,((h,d)=>{o+=h.length+Ec(d)})),o})(a.mapValue);default:throw vt(13486,{value:a})}}function Md(a){return!!a&&"integerValue"in a}function am(a){return!!a&&"arrayValue"in a}function G_(a){return!!a&&"nullValue"in a}function F_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function fd(a){return!!a&&"mapValue"in a}function MR(a){return(a?.mapValue?.fields||{})[DR]?.stringValue===OR}function uo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return No(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=uo(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=uo(a.arrayValue.values[i]);return t}return{...a}}function VR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===NR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this.value=t}static empty(){return new gi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!fd(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=uo(i)}setAll(t){let i=$e.emptyPath(),r={},o=[];t.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=y.popLast()}d?r[y.lastSegment()]=uo(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(t){const i=this.field(t.popLast());fd(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ei(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];fd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){No(i,((o,h)=>t[o]=h));for(const o of r)delete t[o]}clone(){return new gi(uo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,i,r,o,h,d,y){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(t){return new Ye(t,0,_t.min(),_t.min(),_t.min(),gi.empty(),0)}static newFoundDocument(t,i,r,o){return new Ye(t,1,i,_t.min(),r,o,0)}static newNoDocument(t,i){return new Ye(t,2,i,_t.min(),_t.min(),gi.empty(),0)}static newUnknownDocument(t,i){return new Ye(t,3,i,_t.min(),_t.min(),gi.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,i){this.position=t,this.inclusive=i}}function Q_(a,t,i){let r=0;for(let o=0;o<a.position.length;o++){const h=t[o],d=a.position[o];if(h.field.isKeyField()?r=ht.comparator(ht.fromName(d.referenceValue),i.key):r=Ba(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ei(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,i="asc"){this.field=t,this.dir=i}}function xR(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{}class Ne extends LE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new LR(t,i,r):i==="array-contains"?new PR(t,r):i==="in"?new BR(t,r):i==="not-in"?new jR(t,r):i==="array-contains-any"?new qR(t,r):new Ne(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new kR(t,r):new zR(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ba(i,this.value)):i!==null&&Qs(this.value)===Qs(i)&&this.matchesComparison(Ba(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends LE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ti(t,i)}matches(t){return kE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kE(a){return a.op==="and"}function zE(a){return UR(a)&&kE(a)}function UR(a){for(const t of a.filters)if(t instanceof Ti)return!1;return!0}function Vd(a){if(a instanceof Ne)return a.field.canonicalString()+a.op.toString()+ja(a.value);if(zE(a))return a.filters.map((t=>Vd(t))).join(",");{const t=a.filters.map((i=>Vd(i))).join(",");return`${a.op}(${t})`}}function PE(a,t){return a instanceof Ne?(function(r,o){return o instanceof Ne&&r.op===o.op&&r.field.isEqual(o.field)&&Ei(r.value,o.value)})(a,t):a instanceof Ti?(function(r,o){return o instanceof Ti&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,y)=>h&&PE(d,o.filters[y])),!0):!1})(a,t):void vt(19439)}function BE(a){return a instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${ja(i.value)}`})(a):a instanceof Ti?(function(i){return i.op.toString()+" {"+i.getFilters().map(BE).join(" ,")+"}"})(a):"Filter"}class LR extends Ne{constructor(t,i,r){super(t,i,r),this.key=ht.fromName(r.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class kR extends Ne{constructor(t,i){super(t,"in",i),this.keys=jE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class zR extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=jE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function jE(a,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class PR extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return am(i)&&Eo(i.arrayValue,this.value)}}class BR extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Eo(this.value.arrayValue,i)}}class jR extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(Eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Eo(this.value.arrayValue,i)}}class qR extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!am(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Eo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,i=null,r=[],o=[],h=null,d=null,y=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function K_(a,t=null,i=[],r=[],o=null,h=null,d=null){return new HR(a,t,i,r,o,h,d)}function lm(a){const t=Lt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Vd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Gc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>ja(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>ja(r))).join(",")),t.Te=i}return t.Te}function om(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!xR(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!PE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!Y_(a.startAt,t.startAt)&&Y_(a.endAt,t.endAt)}function xd(a){return ht.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,i=null,r=[],o=[],h=null,d="F",y=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GR(a,t,i,r,o,h,d,y){return new Qc(a,t,i,r,o,h,d,y)}function um(a){return new Qc(a)}function X_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function FR(a){return a.collectionGroup!==null}function co(a){const t=Lt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Oe($e.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new xc(h,r))})),i.has($e.keyField().canonicalString())||t.Ie.push(new xc($e.keyField(),r))}return t.Ie}function vi(a){const t=Lt(a);return t.Ee||(t.Ee=QR(t,co(a))),t.Ee}function QR(a,t){if(a.limitType==="F")return K_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new xc(o.field,h)}));const i=a.endAt?new Vc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Vc(a.startAt.position,a.startAt.inclusive):null;return K_(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function Ud(a,t,i){return new Qc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function Yc(a,t){return om(vi(a),vi(t))&&a.limitType===t.limitType}function qE(a){return`${lm(vi(a))}|lt:${a.limitType}`}function Ca(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>BE(o))).join(", ")}]`),Gc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>ja(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>ja(o))).join(",")),`Target(${r})`})(vi(a))}; limitType=${a.limitType})`}function Kc(a,t){return t.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ht.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,t)&&(function(r,o){for(const h of co(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,t)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,t)&&(function(r,o){return!(r.startAt&&!(function(d,y,v){const _=Q_(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,co(r),o)||r.endAt&&!(function(d,y,v){const _=Q_(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,co(r),o))})(a,t)}function YR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function HE(a){return(t,i)=>{let r=!1;for(const o of co(a)){const h=KR(o,t,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function KR(a,t,i){const r=a.field.isKeyField()?ht.comparator(t.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Ba(v,_):vt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],t))return void(o[h]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){No(this.inner,((i,r)=>{for(const[o,h]of r)t(o,h)}))}isEmpty(){return wR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new de(ht.comparator);function Ys(){return XR}const GE=new de(ht.comparator);function so(...a){let t=GE;for(const i of a)t=t.insert(i.key,i);return t}function ZR(a){let t=GE;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Ir(){return ho()}function FE(){return ho()}function ho(){return new Ur((a=>a.toString()),((a,t)=>a.isEqual(t)))}const JR=new Oe(ht.comparator);function zt(...a){let t=JR;for(const i of a)t=t.add(i);return t}const $R=new Oe(Vt);function WR(){return $R}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dd(t)?"-0":t}}function ew(a){return{integerValue:""+a}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function nw(a,t,i){return a instanceof Ld?(function(o,h){const d={fields:{[VE]:{stringValue:ME},[UE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&rm(h)&&(h=Fc(h)),h&&(d.fields[xE]=h),{mapValue:d}})(i,t):a instanceof Uc?QE(a,t):a instanceof Lc?YE(a,t):(function(o,h){const d=sw(o,h),y=Z_(d)+Z_(o.Ae);return Md(d)&&Md(o.Ae)?ew(y):tw(o.serializer,y)})(a,t)}function iw(a,t,i){return a instanceof Uc?QE(a,t):a instanceof Lc?YE(a,t):i}function sw(a,t){return a instanceof kd?(function(r){return Md(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(t)?t:{integerValue:0}:null}class Ld extends Xc{}class Uc extends Xc{constructor(t){super(),this.elements=t}}function QE(a,t){const i=KE(t);for(const r of a.elements)i.some((o=>Ei(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Lc extends Xc{constructor(t){super(),this.elements=t}}function YE(a,t){let i=KE(t);for(const r of a.elements)i=i.filter((o=>!Ei(o,r)));return{arrayValue:{values:i}}}class kd extends Xc{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Z_(a){return fe(a.integerValue||a.doubleValue)}function KE(a){return am(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function rw(a,t){return a.field.isEqual(t.field)&&(function(r,o){return r instanceof Uc&&o instanceof Uc||r instanceof Lc&&o instanceof Lc?Pa(r.elements,o.elements,Ei):r instanceof kd&&o instanceof kd?Ei(r.Ae,o.Ae):r instanceof Ld&&o instanceof Ld})(a.transform,t.transform)}class Nr{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Nr}static exists(t){return new Nr(void 0,t)}static updateTime(t){return new Nr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class cm{}function XE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new lw(a.key,Nr.none()):new hm(a.key,a.data,Nr.none());{const i=a.data,r=gi.empty();let o=new Oe($e.comparator);for(let h of t.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Zc(a.key,r,new xs(o.toArray()),Nr.none())}}function aw(a,t,i){a instanceof hm?(function(o,h,d){const y=o.value.clone(),v=$_(o.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,t,i):a instanceof Zc?(function(o,h,d){if(!Tc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=$_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(ZE(o)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,t,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function fo(a,t,i,r){return a instanceof hm?(function(h,d,y,v){if(!Tc(h.precondition,d))return y;const _=h.value.clone(),A=W_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,t,i,r):a instanceof Zc?(function(h,d,y,v){if(!Tc(h.precondition,d))return y;const _=W_(h.fieldTransforms,v,d),A=d.data;return A.setAll(ZE(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((I=>I.field)))})(a,t,i,r):(function(h,d,y){return Tc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(a,t,i)}function J_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Pa(r,o,((h,d)=>rw(h,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class hm extends cm{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zc extends cm{constructor(t,i,r,o,h=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function ZE(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function $_(a,t,i){const r=new Map;re(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,y=t.data.field(h.field);r.set(h.field,iw(d,y,i[o]))}return r}function W_(a,t,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,nw(h,d,t))}return r}class lw extends cm{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(t.key)&&aw(h,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=fo(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=fo(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=FE();return this.mutations.forEach((o=>{const h=t.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const v=XE(d,y);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&Pa(this.mutations,t.mutations,((i,r)=>J_(i,r)))&&Pa(this.baseMutations,t.baseMutations,((i,r)=>J_(i,r)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,Ut;function JE(a){if(a===void 0)return Ki("GRPC error has no .code"),Z.UNKNOWN;switch(a){case Ae.OK:return Z.OK;case Ae.CANCELLED:return Z.CANCELLED;case Ae.UNKNOWN:return Z.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return Z.INTERNAL;case Ae.UNAVAILABLE:return Z.UNAVAILABLE;case Ae.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ae.NOT_FOUND:return Z.NOT_FOUND;case Ae.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ae.ABORTED:return Z.ABORTED;case Ae.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ae.DATA_LOSS:return Z.DATA_LOSS;default:return vt(39323,{code:a})}}(Ut=Ae||(Ae={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=new Ps([4294967295,4294967295],0);function tv(a){const t=hw().encode(a),i=new SE;return i.update(t),new Uint8Array(i.digest())}function ev(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Ps([i,r],0),new Ps([o,h],0)]}class fm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new ro(`Invalid padding: ${i}`);if(r<0)throw new ro(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new ro(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ps.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(Ps.fromNumber(r)));return o.compare(fw)===1&&(o=new Ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=tv(t),[r,o]=ev(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new fm(h,o,i);return r.forEach((y=>d.insert(y))),d}insert(t){if(this.ge===0)return;const i=tv(t),[r,o]=ev(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,i,r,o,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Oo.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Jc(_t.min(),o,new de(Vt),Ys(),zt())}}class Oo{constructor(t,i,r,o,h){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Oo(r,i,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class $E{constructor(t,i){this.targetId=t,this.Ce=i}}class WE{constructor(t,i,r=He.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class nv{constructor(){this.ve=0,this.Fe=iv(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),r=zt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:vt(38017,{changeType:h})}})),new Oo(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=iv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dw{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ys(),this.Je=dc(),this.He=dc(),this.Ye=new de(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const h=o.target;if(xd(h))if(r===0){const d=new ht(h.path);this.et(i,d,Ye.newNoDocument(d,_t.min()))}else re(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(t),v=y?this.ct(y,t,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=Fs(r).toUint8Array()}catch(v){if(v instanceof OE)return za("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new fm(d,o,h)}catch(v){return za(v instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&xd(y.target)){const v=new ht(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ye.newNoDocument(v,t))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=zt();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const o=new Jc(t,i,this.Ye,this.je,r);return this.je=Ys(),this.Je=dc(),this.He=dc(),this.Ye=new de(Vt),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new nv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Oe(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Oe(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new nv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function dc(){return new de(ht.comparator)}function iv(){return new de(ht.comparator)}const mw={asc:"ASCENDING",desc:"DESCENDING"},gw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pw={and:"AND",or:"OR"};class yw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function zd(a,t){return a.useProto3Json||Gc(t)?t:{value:t}}function _w(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vw(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function xa(a){return re(!!a,49232),_t.fromTimestamp((function(i){const r=Gs(i);return new be(r.seconds,r.nanos)})(a))}function Ew(a,t){return Pd(a,t).canonicalString()}function Pd(a,t){const i=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(a).child("documents");return t===void 0?i:i.child(t)}function tT(a){const t=se.fromString(a);return re(rT(t),10190,{key:t.toString()}),t}function dd(a,t){const i=tT(t);if(i.get(1)!==a.databaseId.projectId)throw new at(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new at(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ht(nT(i))}function eT(a,t){return Ew(a.databaseId,t)}function Tw(a){const t=tT(a);return t.length===4?se.emptyPath():nT(t)}function sv(a){return new se(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function nT(a){return re(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Sw(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(re(A===void 0||typeof A=="string",58123),He.fromBase64String(A||"")):(re(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),He.fromUint8Array(A||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?Z.UNKNOWN:JE(_.code);return new at(A,_.message||"")})(d);i=new WE(r,o,h,y||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=dd(a,r.document.name),h=xa(r.document.updateTime),d=r.document.createTime?xa(r.document.createTime):_t.min(),y=new gi({mapValue:{fields:r.document.fields}}),v=Ye.newFoundDocument(o,h,d,y),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Sc(_,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=dd(a,r.document),h=r.readTime?xa(r.readTime):_t.min(),d=Ye.newNoDocument(o,h),y=r.removedTargetIds||[];i=new Sc([],y,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=dd(a,r.document),h=r.removedTargetIds||[];i=new Sc([],h,o,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new cw(o,h),y=r.targetId;i=new $E(y,d)}}return i}function Aw(a,t){return{documents:[eT(a,t.path)]}}function bw(a,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=eT(a,o);const h=(function(_){if(_.length!==0)return sT(Ti.create(_,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(U){return{field:Ia(U.field),direction:Cw(U.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const y=zd(a,t.limit);return y!==null&&(i.structuredQuery.limit=y),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:o}}function Rw(a){let t=Tw(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){re(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=(function(I){const U=iT(I);return U instanceof Ti&&zE(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(I){return I.map((U=>(function(tt){return new xc(Da(tt.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(U)))})(i.orderBy));let y=null;i.limit&&(y=(function(I){let U;return U=typeof I=="object"?I.value:I,Gc(U)?null:U})(i.limit));let v=null;i.startAt&&(v=(function(I){const U=!!I.before,K=I.values||[];return new Vc(K,U)})(i.startAt));let _=null;return i.endAt&&(_=(function(I){const U=!I.before,K=I.values||[];return new Vc(K,U)})(i.endAt)),GR(t,o,d,h,y,"F",v,_)}function ww(a,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function iT(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Da(i.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Da(i.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Da(i.unaryFilter.field);return Ne.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Da(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ne.create(Da(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Ti.create(i.compositeFilter.filters.map((r=>iT(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(a):vt(30097,{filter:a})}function Cw(a){return mw[a]}function Iw(a){return gw[a]}function Dw(a){return pw[a]}function Ia(a){return{fieldPath:a.canonicalString()}}function Da(a){return $e.fromServerFormat(a.fieldPath)}function sT(a){return a instanceof Ne?(function(i){if(i.op==="=="){if(F_(i.value))return{unaryFilter:{field:Ia(i.field),op:"IS_NAN"}};if(G_(i.value))return{unaryFilter:{field:Ia(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(F_(i.value))return{unaryFilter:{field:Ia(i.field),op:"IS_NOT_NAN"}};if(G_(i.value))return{unaryFilter:{field:Ia(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ia(i.field),op:Iw(i.op),value:i.value}}})(a):a instanceof Ti?(function(i){const r=i.getFilters().map((o=>sT(o)));return r.length===1?r[0]:{compositeFilter:{op:Dw(i.op),filters:r}}})(a):vt(54877,{filter:a})}function rT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t,i,r,o,h=_t.min(),d=_t.min(),y=He.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(t){return new Us(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t){this.yt=t}}function Ow(a){const t=Rw({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Ud(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.Cn=new Vw}addToCollectionParentIndex(t,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Hs.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Hs.min())}updateCollectionGroup(t,i,r){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class Vw{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Oe(se.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Oe(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aT=41943040;class on{static withCacheSize(t){return new on(t,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(aT,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new qa(0)}static cr(){return new qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="LruGarbageCollector",xw=1048576;function lv([a,t],[i,r]){const o=Vt(a,i);return o===0?Vt(t,r):o}class Uw{constructor(t){this.Ir=t,this.buffer=new Oe(lv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();lv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Lw{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){nt(av,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Xa(i)?nt(av,"Ignoring IndexedDB error during garbage collection: ",i):await qc(i)}await this.Vr(3e5)}))}}class kw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(Hc.ce);const r=new Uw(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(rv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((I=>(I>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,d=Date.now(),this.nthSequenceNumber(t,o)))).next((I=>(r=I,y=Date.now(),this.removeTargets(t,r,i)))).next((I=>(h=I,v=Date.now(),this.removeOrphanedDocuments(t,r)))).next((I=>(_=Date.now(),wa()<=Ot.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${I} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:I}))))}}function zw(a,t){return new kw(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.changes=new Ur((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Y.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&fo(r.mutation,o,xs.empty(),be.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,zt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=zt()){const o=Ir();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((h=>{let d=so();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Ir();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,zt())))}populateOverlays(t,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(t,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(t,i,r,o){let h=Ys();const d=ho(),y=(function(){return ho()})();return i.forEach(((v,_)=>{const A=r.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Zc)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),fo(A.mutation,_,A.mutation.getFieldMask(),be.now())):d.set(_.key,xs.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new Bw(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(t,i){const r=ho();let o=new de(((d,y)=>d-y)),h=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||xs.empty();A=y.applyToLocalView(_,A),r.set(v,A);const I=(o.get(y.batchId)||zt()).add(v);o=o.insert(y.batchId,I)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,I=FE();A.forEach((U=>{if(!h.has(U)){const K=XE(i.get(U),r.get(U));K!==null&&I.set(U,K),h=h.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,I))}return Y.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):FR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-h.size):Y.resolve(Ir());let y=yo,v=h;return d.next((_=>Y.forEach(_,((A,I)=>(y<I.largestBatchId&&(y=I.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(t,A).next((U=>{v=v.insert(A,U)}))))).next((()=>this.populateOverlays(t,_,h))).next((()=>this.computeViews(t,v,_,zt()))).next((A=>({batchId:y,changes:ZR(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((r=>{let o=so();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const h=i.collectionGroup;let d=so();return this.indexManager.getCollectionParents(t,h).next((y=>Y.forEach(y,(v=>{const _=(function(I,U){return new Qc(U,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,_,r,o).next((A=>{A.forEach(((I,U)=>{d=d.insert(I,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))}));let y=so();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&fo(A.mutation,_,xs.empty(),be.now()),Kc(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:xa(o.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Ow(o.bundledQuery),readTime:xa(o.readTime)}})(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.overlays=new de(ht.comparator),this.qr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Ir();return Y.forEach(i,(o=>this.getOverlay(t,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,h)=>{this.St(t,i,h)})),Y.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(t,i,r){const o=Ir(),h=i.length+1,d=new ht(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return Y.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let h=new de(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=Ir(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=Ir(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=o)););return Y.resolve(y)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new uw(i,r));let h=this.qr.get(i);h===void 0&&(h=zt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(){this.Qr=new Oe(Ue.$r),this.Ur=new Oe(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Ue(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Ue(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ht(new se([])),r=new Ue(i,t),o=new Ue(i,t+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new se([])),r=new Ue(i,t),o=new Ue(i,t+1);let h=zt();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Ue(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ue{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Ue.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ow(h,i,r,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Ue(y.key,h)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?AR:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const y=this.Xr(d.Yr);h.push(y)})),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Oe(Vt);return i.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{r=r.add(y.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let h=r;ht.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new ht(h),0);let y=new Oe(Vt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),Y.resolve(this.ti(y))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){re(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(i.mutations,(o=>{const h=new Ue(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Ue(i,0),o=this.Zr.firstAfterOrEqual(r);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t){this.ri=t,this.docs=(function(){return new de(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Y.resolve(r?r.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(t,i){let r=Ys();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Ye.newInvalidDocument(o))})),Y.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let h=Ys();const d=i.path,y=new ht(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||vR(_R(A),r)<=0||(o.has(A.key)||Kc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(t,i,r,o){vt(9500)}ii(t,i){return Y.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new Yw(this)}getSize(t){return Y.resolve(this.size)}}class Yw extends Pw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),Y.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t){this.persistence=t,this.si=new Ur((i=>lm(i)),om),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new dm,this.targetCount=0,this.ai=qa.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Y.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new qa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.Pr(i),Y.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,r){let o=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,y.targetId)),o++)})),Y.waitFor(h).next((()=>o))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return Y.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),Y.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(t,d))})),Y.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return Y.resolve(r)}containsKey(t,i){return Y.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(t,i){this.ui={},this.overlays={},this.ci=new Hc(0),this.li=!1,this.li=!0,this.hi=new Gw,this.referenceDelegate=t(this),this.Pi=new Kw(this),this.indexManager=new Mw,this.remoteDocumentCache=(function(o){return new Qw(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Nw(i),this.Ii=new qw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Hw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new Fw(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){nt("MemoryPersistence","Starting transaction:",t);const o=new Xw(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(t,i){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class Xw extends TR{constructor(t){super(),this.currentSequenceNumber=t}}class mm{constructor(t){this.persistence=t,this.Ri=new dm,this.Vi=null}static mi(t){return new mm(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Y.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const o=ht.fromPath(r);return this.gi(t,o).next((h=>{h||i.removeEntry(o,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class kc{constructor(t,i){this.persistence=t,this.pi=new Ur((r=>bR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=zw(this,i)}static mi(t,i){return new kc(t,i)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return Y.forEach(this.pi,((r,o)=>this.br(t,r,o).next((h=>h?Y.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((y=>{y||(r++,h.removeEntry(d,_t.min()))})))).next((()=>h.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Ec(t.data.value)),i}br(t,i,r){return Y.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return Y.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=zt(),o=zt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new gm(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xS()?8:SR(Ke())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Zw;return this.Ss(t,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(t,i,d,y.size)}))})).next((()=>h.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(wa()<=Ot.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Ca(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(wa()<=Ot.DEBUG&&nt("QueryEngine","Query:",Ca(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(wa()<=Ot.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Ca(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vi(i))):Y.resolve())}ys(t,i){if(X_(i))return Y.resolve(null);let r=vi(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Ud(i,null,"F"),r=vi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((h=>{const d=zt(...h);return this.ps.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,r).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(t,Ud(i,null,"F")):this.vs(t,_,i,v)}))))})))))}ws(t,i,r,o){return X_(i)||o.isEqual(_t.min())?Y.resolve(null):this.ps.getDocuments(t,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?Y.resolve(null):(wa()<=Ot.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ca(i)),this.vs(t,d,i,yR(o,yo)).next((y=>y)))}))}Ds(t,i){let r=new Oe(HE(t));return i.forEach(((o,h)=>{Kc(t,h)&&(r=r.add(h))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(t,i,r){return wa()<=Ot.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Ca(i)),this.ps.getDocumentsMatchingQuery(t,i,Hs.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="LocalStore",$w=3e8;class Ww{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new de(Vt),this.xs=new Ur((h=>lm(h)),om),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function t2(a,t,i,r){return new Ww(a,t,i,r)}async function oT(a,t){const i=Lt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let v=zt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function uT(a){const t=Lt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function e2(a,t){const i=Lt(a),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];t.targetChanges.forEach(((A,I)=>{const U=o.get(I);if(!U)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,I).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,I))));let K=U.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(I)!==null?K=K.withResumeToken(He.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,r)),o=o.insert(I,K),(function(st,W,pt){return st.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=$w?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0})(U,K,A)&&y.push(i.Pi.updateTargetData(h,K))}));let v=Ys(),_=zt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(n2(h,d,t.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!r.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((I=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(A)}return Y.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function n2(a,t,i){let r=zt(),o=zt();return i.forEach((h=>r=r.add(h))),t.getEntries(a,r).next((h=>{let d=Ys();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(_t.min())?(t.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(v),d=d.insert(y,v)):nt(pm,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function i2(a,t){const i=Lt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((h=>h?(o=h,Y.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new Us(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Bd(a,t,i){const r=Lt(a),o=r.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Xa(d))throw d;nt(pm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function ov(a,t,i){const r=Lt(a);let o=_t.min(),h=zt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const I=Lt(v),U=I.xs.get(A);return U!==void 0?Y.resolve(I.Ms.get(U)):I.Pi.getTargetData(_,A)})(r,d,vi(t)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?o:_t.min(),i?h:zt()))).next((y=>(s2(r,YR(t),y),{documents:y,Qs:h})))))}function s2(a,t,i){let r=a.Os.get(t)||_t.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Os.set(t,r)}class uv{constructor(){this.activeTargetIds=WR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class r2{constructor(){this.Mo=new uv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new uv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="ConnectivityMonitor";class hv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(cv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){nt(cv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function jd(){return mc===null?mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="RestConnection",l2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Mc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,h){const d=jd(),y=this.zo(t,i.toUriEncodedString());nt(md,`Sending RPC '${t}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(y),A=Fa(_);return this.Jo(t,y,v,r,A).then((I=>(nt(md,`Received RPC '${t}' ${d}: `,I),I)),(I=>{throw za(md,`RPC '${t}' ${d} failed with error: `,I,"url: ",y,"request:",r),I}))}Ho(t,i,r,o,h,d){return this.Go(t,i,r,o,h)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ka})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>t[h]=o)),r&&r.headers.forEach(((o,h)=>t[h]=o))}zo(t,i){const r=l2[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class c2 extends o2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,h){const d=jd();return new Promise(((y,v)=>{const _=new AE;_.setWithCredentials(!0),_.listenOnce(bE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case vc.NO_ERROR:const I=_.getResponseJson();nt(Fe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(I)),y(I);break;case vc.TIMEOUT:nt(Fe,`RPC '${t}' ${d} timed out`),v(new at(Z.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const U=_.getStatus();if(nt(Fe,`RPC '${t}' ${d} failed with status:`,U,"response text:",_.getResponseText()),U>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const tt=K?.error;if(tt&&tt.status&&tt.message){const st=(function(pt){const wt=pt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(wt)>=0?wt:Z.UNKNOWN})(tt.status);v(new at(st,tt.message))}else v(new at(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new at(Z.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{nt(Fe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(o);nt(Fe,`RPC '${t}' ${d} sending request:`,o),_.send(i,"POST",A,r,15)}))}T_(t,i,r){const o=jd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=CE(),y=wE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");nt(Fe,`Creating RPC '${t}' stream ${o}: ${A}`,v);const I=d.createWebChannel(A,v);this.I_(I);let U=!1,K=!1;const tt=new u2({Yo:W=>{K?nt(Fe,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(U||(nt(Fe,`Opening RPC '${t}' stream ${o} transport.`),I.open(),U=!0),nt(Fe,`RPC '${t}' stream ${o} sending:`,W),I.send(W))},Zo:()=>I.close()}),st=(W,pt,wt)=>{W.listen(pt,(lt=>{try{wt(lt)}catch(Rt){setTimeout((()=>{throw Rt}),0)}}))};return st(I,io.EventType.OPEN,(()=>{K||(nt(Fe,`RPC '${t}' stream ${o} transport opened.`),tt.o_())})),st(I,io.EventType.CLOSE,(()=>{K||(K=!0,nt(Fe,`RPC '${t}' stream ${o} transport closed`),tt.a_(),this.E_(I))})),st(I,io.EventType.ERROR,(W=>{K||(K=!0,za(Fe,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),tt.a_(new at(Z.UNAVAILABLE,"The operation could not be completed")))})),st(I,io.EventType.MESSAGE,(W=>{if(!K){const pt=W.data[0];re(!!pt,16349);const wt=pt,lt=wt?.error||wt[0]?.error;if(lt){nt(Fe,`RPC '${t}' stream ${o} received error:`,lt);const Rt=lt.status;let St=(function(S){const R=Ae[S];if(R!==void 0)return JE(R)})(Rt),ft=lt.message;St===void 0&&(St=Z.INTERNAL,ft="Unknown error status: "+Rt+" with message "+lt.message),K=!0,tt.a_(new at(St,ft)),I.close()}else nt(Fe,`RPC '${t}' stream ${o} received:`,pt),tt.u_(pt)}})),st(y,RE.STAT_EVENT,(W=>{W.stat===wd.PROXY?nt(Fe,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===wd.NOPROXY&&nt(Fe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(a){return new yw(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t,i,r=1e3,o=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&nt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="PersistentStream";class h2{constructor(t,i,r,o,h,d,y,v){this.Mi=t,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Ki(i.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new at(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return nt(fv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(nt(fv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class f2 extends h2{constructor(t,i,r,o,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Sw(this.serializer,t),r=(function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?xa(d.readTime):_t.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=sv(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=xd(v)?{documents:Aw(h,v)}:{query:bw(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=vw(h,d.resumeToken);const _=zd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){y.readTime=_w(h,d.snapshotVersion.toTimestamp());const _=zd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,t);const r=ww(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=sv(this.serializer),i.removeTarget=t,this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{}class m2 extends d2{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new at(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,Pd(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(Z.UNKNOWN,h.toString())}))}Ho(t,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(t,Pd(i,r),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class g2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ki(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="RemoteStore";class p2{constructor(t,i,r,o,h){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Vo(this)&&(nt(Ha,"Restarting streams for network reachability change."),await(async function(v){const _=Lt(v);_.Ea.add(4),await Mo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await $c(_)})(this))}))})),this.Ra=new g2(r,o)}}async function $c(a){if(Vo(a))for(const t of a.da)await t(!0)}async function Mo(a){for(const t of a.da)await t(!1)}function fT(a,t){const i=Lt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Em(i)?vm(i):Za(i).O_()&&_m(i,t))}function ym(a,t){const i=Lt(a),r=Za(i);i.Ia.delete(t),r.O_()&&dT(i,t),i.Ia.size===0&&(r.O_()?r.L_():Vo(i)&&i.Ra.set("Unknown"))}function _m(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Za(a).Y_(t)}function dT(a,t){a.Va.Ue(t),Za(a).Z_(t)}function vm(a){a.Va=new dw({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),Za(a).start(),a.Ra.ua()}function Em(a){return Vo(a)&&!Za(a).x_()&&a.Ia.size>0}function Vo(a){return Lt(a).Ea.size===0}function mT(a){a.Va=void 0}async function y2(a){a.Ra.set("Online")}async function _2(a){a.Ia.forEach(((t,i)=>{_m(a,t)}))}async function v2(a,t){mT(a),Em(a)?(a.Ra.ha(t),vm(a)):a.Ra.set("Unknown")}async function E2(a,t,i){if(a.Ra.set("Online"),t instanceof WE&&t.state===2&&t.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(a,t)}catch(r){nt(Ha,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await dv(a,r)}else if(t instanceof Sc?a.Va.Ze(t):t instanceof $E?a.Va.st(t):a.Va.tt(t),!i.isEqual(_t.min()))try{const r=await uT(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(He.EMPTY_BYTE_STRING,A.snapshotVersion)),dT(h,v);const I=new Us(A.target,v,_,A.sequenceNumber);_m(h,I)})),h.remoteSyncer.applyRemoteEvent(y)})(a,i)}catch(r){nt(Ha,"Failed to raise snapshot:",r),await dv(a,r)}}async function dv(a,t,i){if(!Xa(t))throw t;a.Ea.add(1),await Mo(a),a.Ra.set("Offline"),i||(i=()=>uT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{nt(Ha,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await $c(a)}))}async function mv(a,t){const i=Lt(a);i.asyncQueue.verifyOperationInProgress(),nt(Ha,"RemoteStore received new credentials");const r=Vo(i);i.Ea.add(3),await Mo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await $c(i)}async function T2(a,t){const i=Lt(a);t?(i.Ea.delete(2),await $c(i)):t||(i.Ea.add(2),await Mo(i),i.Ra.set("Unknown"))}function Za(a){return a.ma||(a.ma=(function(i,r,o){const h=Lt(i);return h.sa(),new f2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:y2.bind(null,a),t_:_2.bind(null,a),r_:v2.bind(null,a),H_:E2.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Em(a)?vm(a):a.Ra.set("Unknown")):(await a.ma.stop(),mT(a))}))),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(t,i,r,o,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,h){const d=Date.now()+r,y=new Tm(t,i,d,o,h);return y.start(r),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gT(a,t){if(Ki("AsyncQueue",`${t}: ${a}`),Xa(a))return new at(Z.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{static emptySet(t){return new Ua(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ht.comparator(i.key,r.key):(i,r)=>ht.comparator(i.key,r.key),this.keyedMap=so(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ua)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ua;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.ga=new de(ht.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Ga{constructor(t,i,r,o,h,d,y,v,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Ga(t,i,Ua.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Yc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class A2{constructor(){this.queries=pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Lt(i),h=o.queries;o.queries=pv(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new at(Z.ABORTED,"Firestore shutting down"))}}function pv(){return new Ur((a=>qE(a)),Yc)}async function b2(a,t){const i=Lt(a);let r=3;const o=t.query;let h=i.queries.get(o);h?!h.ba()&&t.Da()&&(r=2):(h=new S2,r=t.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=gT(d,`Initialization of query '${Ca(t.query)}' failed`);return void t.onError(y)}i.queries.set(o,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Sm(i)}async function R2(a,t){const i=Lt(a),r=t.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=t.Da()?0:1:!h.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function w2(a,t){const i=Lt(a);let r=!1;for(const o of t){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(o)&&(r=!0);d.wa=o}}r&&Sm(i)}function C2(a,t,i){const r=Lt(a),o=r.queries.get(t);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(t)}function Sm(a){a.Ca.forEach((t=>{t.next()}))}var qd,yv;(yv=qd||(qd={})).Ma="default",yv.Cache="cache";class I2{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Ga(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ga.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t){this.key=t}}class yT{constructor(t){this.key=t}}class D2{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=HE(t),this.tu=new Ua(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new gv,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((A,I)=>{const U=o.get(A),K=Kc(this.query,I)?I:null,tt=!!U&&this.mutatedKeys.has(U.key),st=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let W=!1;U&&K?U.data.isEqual(K.data)?tt!==st&&(r.track({type:3,doc:K}),W=!0):this.su(U,K)||(r.track({type:2,doc:K}),W=!0,(v&&this.eu(K,v)>0||_&&this.eu(K,_)<0)&&(y=!0)):!U&&K?(r.track({type:0,doc:K}),W=!0):U&&!K&&(r.track({type:1,doc:U}),W=!0,(v||_)&&(y=!0)),W&&(K?(d=d.add(K),h=st?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:y,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,I)=>(function(K,tt){const st=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:W})}};return st(K)-st(tt)})(A.type,I.type)||this.eu(A.doc,I.doc))),this.ou(r),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Ga(this.query,t.tu,h,d,t.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new yT(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new pT(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ga.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Am="SyncEngine";class N2{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class O2{constructor(t){this.key=t,this.hu=!1}}class M2{constructor(t,i,r,o,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ur((y=>qE(y)),Yc),this.Iu=new Map,this.Eu=new Set,this.du=new de(ht.comparator),this.Au=new Map,this.Ru=new dm,this.Vu={},this.mu=new Map,this.fu=qa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function V2(a,t,i=!0){const r=ST(a);let o;const h=r.Tu.get(t);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await _T(r,t,i,!0),o}async function x2(a,t){const i=ST(a);await _T(i,t,!0,!1)}async function _T(a,t,i,r){const o=await i2(a.localStore,vi(t)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let y;return r&&(y=await U2(a,t,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&fT(a.remoteStore,o),y}async function U2(a,t,i,r,o){a.pu=(I,U,K)=>(async function(st,W,pt,wt){let lt=W.view.ru(pt);lt.Cs&&(lt=await ov(st.localStore,W.query,!1).then((({documents:b})=>W.view.ru(b,lt))));const Rt=wt&&wt.targetChanges.get(W.targetId),St=wt&&wt.targetMismatches.get(W.targetId)!=null,ft=W.view.applyChanges(lt,st.isPrimaryClient,Rt,St);return vv(st,W.targetId,ft.au),ft.snapshot})(a,I,U,K);const h=await ov(a.localStore,t,!0),d=new D2(t,h.Qs),y=d.ru(h.documents),v=Oo.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),_=d.applyChanges(y,a.isPrimaryClient,v);vv(a,i,_.au);const A=new N2(t,i,d);return a.Tu.set(t,A),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),_.snapshot}async function L2(a,t,i){const r=Lt(a),o=r.Tu.get(t),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!Yc(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Bd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&ym(r.remoteStore,o.targetId),Hd(r,o.targetId)})).catch(qc)):(Hd(r,o.targetId),await Bd(r.localStore,o.targetId,!0))}async function k2(a,t){const i=Lt(a),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),ym(i.remoteStore,r.targetId))}async function vT(a,t){const i=Lt(a);try{const r=await e2(i.localStore,t);t.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(re(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?re(d.hu,14607):o.removedDocuments.size>0&&(re(d.hu,42227),d.hu=!1))})),await TT(i,r,t)}catch(r){await qc(r)}}function _v(a,t,i){const r=Lt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(t);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=Lt(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,I)=>{for(const U of I.Sa)U.va(y)&&(_=!0)})),_&&Sm(v)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function z2(a,t,i){const r=Lt(a);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),h=o&&o.key;if(h){let d=new de(ht.comparator);d=d.insert(h,Ye.newNoDocument(h,_t.min()));const y=zt().add(h),v=new Jc(_t.min(),new Map,new de(Vt),d,y);await vT(r,v),r.du=r.du.remove(h),r.Au.delete(t),bm(r)}else await Bd(r.localStore,t,!1).then((()=>Hd(r,t,i))).catch(qc)}function Hd(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||ET(a,r)}))}function ET(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(ym(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),bm(a))}function vv(a,t,i){for(const r of i)r instanceof pT?(a.Ru.addReference(r.key,t),P2(a,r)):r instanceof yT?(nt(Am,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||ET(a,r.key)):vt(19791,{wu:r})}function P2(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(nt(Am,"New document in limbo: "+i),a.Eu.add(r),bm(a))}function bm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ht(se.fromString(t)),r=a.fu.next();a.Au.set(r,new O2(i)),a.du=a.du.insert(i,r),fT(a.remoteStore,new Us(vi(um(i.path)),r,"TargetPurposeLimboResolution",Hc.ce))}}async function TT(a,t,i){const r=Lt(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=gm.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const A=Lt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>Y.forEach(_,(U=>Y.forEach(U.Es,(K=>A.persistence.referenceDelegate.addReference(I,U.targetId,K))).next((()=>Y.forEach(U.ds,(K=>A.persistence.referenceDelegate.removeReference(I,U.targetId,K)))))))))}catch(I){if(!Xa(I))throw I;nt(pm,"Failed to update sequence numbers: "+I)}for(const I of _){const U=I.targetId;if(!I.fromCache){const K=A.Ms.get(U),tt=K.snapshotVersion,st=K.withLastLimboFreeSnapshotVersion(tt);A.Ms=A.Ms.insert(U,st)}}})(r.localStore,h))}async function B2(a,t){const i=Lt(a);if(!i.currentUser.isEqual(t)){nt(Am,"User change. New user:",t.toKey());const r=await oT(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new at(Z.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await TT(i,r.Ls)}}function j2(a,t){const i=Lt(a),r=i.Au.get(t);if(r&&r.hu)return zt().add(r.key);{let o=zt();const h=i.Iu.get(t);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function ST(a){const t=Lt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=vT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=j2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=z2.bind(null,t),t.Pu.H_=w2.bind(null,t.eventManager),t.Pu.yu=C2.bind(null,t.eventManager),t}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=cT(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return t2(this.persistence,new Jw,t.initialUser,this.serializer)}Cu(t){return new lT(mm.mi,this.serializer)}Du(t){return new r2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class q2 extends zc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){re(this.persistence.referenceDelegate instanceof kc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Lw(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new lT((r=>kc.mi(r,i)),this.serializer)}}class Gd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_v(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=B2.bind(null,this.syncEngine),await T2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new A2})()}createDatastore(t){const i=cT(t.databaseInfo.databaseId),r=(function(h){return new c2(h)})(t.databaseInfo);return(function(h,d,y,v){return new m2(h,d,y,v)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,h,d,y){return new p2(r,o,h,d,y)})(this.localStore,this.datastore,t.asyncQueue,(i=>_v(this.syncEngine,i,0)),(function(){return hv.v()?new hv:new a2})())}createSyncEngine(t,i){return(function(o,h,d,y,v,_,A){const I=new M2(o,h,d,y,v,_);return A&&(I.gu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Lt(i);nt(Ha,"RemoteStore shutting down."),r.Ea.add(5),await Mo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gd.provider={build:()=>new Gd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ki("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="FirestoreClient";class G2{constructor(t,i,r,o,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=sm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{nt(Ks,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(nt(Ks,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=gT(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function pd(a,t){a.asyncQueue.verifyOperationInProgress(),nt(Ks,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await oT(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Ev(a,t){a.asyncQueue.verifyOperationInProgress();const i=await F2(a);nt(Ks,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>mv(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>mv(t.remoteStore,o))),a._onlineComponents=t}async function F2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){nt(Ks,"Using user provided OfflineComponentProvider");try{await pd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;za("Error using user provided cache. Falling back to memory cache: "+i),await pd(a,new zc)}}else nt(Ks,"Using default OfflineComponentProvider"),await pd(a,new q2(void 0));return a._offlineComponents}async function Q2(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(nt(Ks,"Using user provided OnlineComponentProvider"),await Ev(a,a._uninitializedComponentsProvider._online)):(nt(Ks,"Using default OnlineComponentProvider"),await Ev(a,new Gd))),a._onlineComponents}async function Y2(a){const t=await Q2(a),i=t.eventManager;return i.onListen=V2.bind(null,t.syncEngine),i.onUnlisten=L2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=x2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=k2.bind(null,t.syncEngine),i}function K2(a,t,i={}){const r=new Dr;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const A=new H2({next:U=>{A.Nu(),d.enqueueAndForget((()=>R2(h,I)));const K=U.docs.has(y);!K&&U.fromCache?_.reject(new at(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&U.fromCache&&v&&v.source==="server"?_.reject(new at(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(U)},error:U=>_.reject(U)}),I=new I2(um(y.path),A,{includeMetadataChanges:!0,qa:!0});return b2(h,I)})(await Y2(a),a.asyncQueue,t,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="firestore.googleapis.com",Sv=!0;class Av{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bT,this.ssl=Sv}else this.host=t.host,this.ssl=t.ssl??Sv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<xw)throw new at(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}mR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rm{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new iR;switch(r.type){case"firstParty":return new lR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Tv.get(i);r&&(nt("ComponentProvider","Removing Datastore"),Tv.delete(i),r.terminate())})(this),Promise.resolve()}}function X2(a,t,i,r={}){a=Id(a,Rm);const o=Fa(t),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},y=`${t}:${i}`;o&&(kv(`https://${y}`),zv("Firestore",!0)),h.host!==bT&&h.host!==y&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:o,emulatorOptions:r};if(!Mr(v,d)&&(a._setSettings(v),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=Qe.MOCK_USER;else{_=RS(r.mockUserToken,a._app?.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new at(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Qe(I)}a._authCredentials=new sR(new DE(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new wm(this.firestore,t,this._query)}}class We{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new We(this.firestore,t,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Do(i,We._jsonSchema))return new We(t,r||null,new ht(se.fromString(i.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:Re("string",We._jsonSchemaVersion),referencePath:Re("string")};class To extends wm{constructor(t,i,r){super(t,i,um(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new We(this.firestore,null,new ht(t))}withConverter(t){return new To(this.firestore,t,this._path)}}function Z2(a,t,...i){if(a=Xs(a),arguments.length===1&&(t=sm.newId()),dR("doc","path",t),a instanceof Rm){const r=se.fromString(t,...i);return L_(r),new We(a,null,new ht(r))}{if(!(a instanceof We||a instanceof To))throw new at(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(se.fromString(t,...i));return L_(r),new We(a.firestore,a instanceof To?a.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="AsyncQueue";class Rv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hT(this,"async_queue_retry"),this._c=()=>{const r=gd();r&&nt(bv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Xa(t))throw t;nt(bv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ki("INTERNAL UNHANDLED ERROR: ",wv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Tm.createAndSchedule(this,t,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:wv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function wv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class RT extends Rm{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new Rv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Rv(t),this._firestoreClient=void 0,await t}}}function J2(a,t){const i=typeof a=="object"?a:qv(),r=typeof a=="string"?a:Mc,o=Kd(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=AS("firestore");h&&X2(o,...h)}return o}function $2(a){if(a._terminated)throw new at(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||W2(a),a._firestoreClient}function W2(a){const t=a._freezeSettings(),i=(function(o,h,d,y){return new IR(o,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,AT(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new G2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new pi(He.fromBase64String(t))}catch(i){throw new at(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new pi(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Do(t,pi._jsonSchema))return pi.fromBase64String(t.bytes)}}pi._jsonSchemaVersion="firestore/bytes/1.0",pi._jsonSchema={type:Re("string",pi._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bs._jsonSchemaVersion}}static fromJSON(t){if(Do(t,Bs._jsonSchema))return new Bs(t.latitude,t.longitude)}}Bs._jsonSchemaVersion="firestore/geoPoint/1.0",Bs._jsonSchema={type:Re("string",Bs._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:js._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Do(t,js._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new js(t.vectorValues);throw new at(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}js._jsonSchemaVersion="firestore/vectorValue/1.0",js._jsonSchema={type:Re("string",js._jsonSchemaVersion),vectorValues:Re("object")};const tC=new RegExp("[~\\*/\\[\\]]");function eC(a,t,i){if(t.search(tC)>=0)throw Cv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a);try{return new wT(...t.split("."))._internalPath}catch{throw Cv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a)}}function Cv(a,t,i,r,o){let h=`Function ${t}() called with invalid data`;h+=". ";let d="";return new at(Z.INVALID_ARGUMENT,h+a+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(t,i,r,o,h){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(IT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class nC extends CT{data(){return super.data()}}function IT(a,t){return typeof t=="string"?eC(a,t):t instanceof wT?t._internalPath:t._delegate._internalPath}class iC{convertValue(t,i="none"){switch(Qs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Fs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return No(t,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(t){const i=t.fields?.[Nd].arrayValue?.values?.map((r=>fe(r.doubleValue)));return new js(i)}convertGeoPoint(t){return new Bs(fe(t.latitude),fe(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Fc(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(_o(t));default:return null}}convertTimestamp(t){const i=Gs(t);return new be(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=se.fromString(t);re(rT(r),9688,{name:t});const o=new vo(r.get(1),r.get(3)),h=new ht(r.popFirst(5));return o.isEqual(i)||Ki(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class ao{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Or extends CT{constructor(t,i,r,o,h,d){super(t,i,r,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(IT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Or._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Or._jsonSchemaVersion="firestore/documentSnapshot/1.0",Or._jsonSchema={type:Re("string",Or._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Ac extends Or{data(t={}){return super.data(t)}}class mo{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new ao(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Ac(this._firestore,this._userDataWriter,r.key,r,new ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new Ac(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ao(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Ac(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ao(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:sC(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=mo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=sm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function sC(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(a){a=Id(a,We);const t=Id(a.firestore,RT);return K2($2(t),a._key).then((i=>lC(t,a,i)))}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:Re("string",mo._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class aC extends iC{constructor(t){super(),this.firestore=t}convertBytes(t){return new pi(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new We(this.firestore,null,i)}}function lC(a,t,i){const r=i.docs.get(t._key),o=new aC(a);return new Or(a,o,t._key,r,new ao(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){Ka=o})(Qa),ka(new Vr("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new RT(new rR(r.getProvider("auth-internal")),new oR(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vo(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),zs(M_,V_,t),zs(M_,V_,"esm2020")})();const Iv={apiKey:"AIzaSy_fallback_key",authDomain:"fallback-project.firebaseapp.com",projectId:"fallback-project",storageBucket:"fallback-project.appspot.com",messagingSenderId:"123456789012",appId:"1:123456789012:web:a1b2c3d4e5f6g7h8i9j0"},Dv=typeof __firebase_config<"u"?__firebase_config:null;let La;if(Dv)try{La=JSON.parse(Dv)}catch(a){console.error("Erreur lors de l'analyse de la configuration Firebase JSON fournie. Utilisation de la configuration de secours.",a),La=Iv}else console.warn("Avertissement: __firebase_config est manquant. Utilisation de la configuration de secours."),La=Iv;const yd=typeof __initial_auth_token<"u"?__initial_auth_token:null,Nv="contacts/AAD",oC=()=>{const[a,t]=_n.useState(null),[i,r]=_n.useState(null),[o,h]=_n.useState(null),[d,y]=_n.useState(!1),[v,_]=_n.useState(!0),[A,I]=_n.useState(null),[U,K]=_n.useState({}),[tt,st]=_n.useState(0),W=_n.useMemo(()=>Object.keys(La).length>0&&!!La.apiKey,[]);_n.useEffect(()=>{if(I(null),h(null),y(!1),!W){I("Erreur de configuration Firebase."),_(!1);return}try{const lt=jv(La),Rt=J2(lt),St=tR(lt);nR("debug"),t(Rt),r(St);const ft=async S=>{try{yd?(console.log("[AUTH] Tentative de connexion via token personnalis."),await B1(S,yd)):(console.log("[AUTH] Tentative de connexion anonyme (pas de token disponible)."),await U1(S))}catch(R){console.error("[AUTH ERROR] chec de l'authentification:",R),I("chec de l'authentification. L'accs aux donnes pourrait tre refus.")}},b=H1(St,S=>{S?(h(S.uid),console.log(`[AUTH SUCCESS] Connect avec UID: ${S.uid}`)):(h(null),console.log("[AUTH FAILED] Dconnect ou chec de la connexion.")),y(!0),_(!1),st(R=>R+1)});return ft(St),()=>b()}catch(lt){console.error("Erreur critique lors de l'initialisation de Firebase:",lt),I("Erreur critique lors de l'initialisation de Firebase: "+lt.message),_(!1)}},[W,yd]);const pt=_n.useCallback(async(lt,Rt)=>{if(!Rt)return{status:"Non initialis",data:null};const St=3;for(let ft=0;ft<St;ft++)try{const b=Z2(Rt,lt),S=await rC(b);return S.exists()?{status:"Succs",data:S.data()}:{status:"Document non trouv",data:null}}catch(b){if(console.error(`[CONSOLE_ERROR] Erreur lors de la rcupration du document ${lt} (tentative ${ft+1}):`,b),ft===St-1)return{status:"Erreur critique de lecture/permission",error:b.message};const S=Math.pow(2,ft)*1e3+Math.random()*1e3;await new Promise(R=>setTimeout(R,S))}},[]);_n.useEffect(()=>{if(!a||!d)return;(async()=>{if(o&&_(!0),console.log(`[INFO] Tentative de rcupration des donnes avec UID: ${o}`),!o){K({rootContact:{status:"chec Auth",error:"L'utilisateur n'est pas authentifi. Les rgles Firestore ncessitent un utilisateur connect."},externalDocuments:{}}),_(!1);return}const Rt=await pt(Nv,a);K({rootContact:Rt,externalDocuments:{}}),_(!1)})()},[a,d,o,tt,pt]);const wt=(lt,Rt,St)=>{let ft="bg-gray-200 text-gray-700",b="En attente...",S=null;return St.status==="Non initialis"?b="Non initialis":St.status==="chec Auth"?(ft="bg-red-50 text-red-600 border border-red-300",b=`chec de l'authentification : ${St.error}`):St.status==="Succs"?(ft="bg-green-100 text-green-700",b="Succs! Document trouv.",S=dt.jsx("pre",{className:"mt-2 p-2 bg-white border rounded text-xs overflow-auto max-h-40",children:JSON.stringify(St.data,null,2)})):St.status==="Document non trouv"?(ft="bg-yellow-100 text-yellow-700",b="Document non trouv (404)"):St.status==="Erreur critique de lecture/permission"&&(ft="bg-red-100 text-red-700",b=`Accs Refus (Permission/Erreur): ${St.error}`,S=dt.jsxs("div",{className:"mt-2 p-2 bg-white border border-red-300 rounded text-sm",children:[dt.jsx("p",{className:"font-bold text-red-700 mb-1",children:"Analyse des Permissions :"}),dt.jsxs("p",{children:["Le code a tent d'accder au chemin exact ",dt.jsx("code",{className:"bg-gray-100 p-1 rounded text-xs",children:Rt}),"avec l'UID ",dt.jsx("code",{className:"bg-gray-100 p-1 rounded text-xs",children:o})," et a chou."]}),dt.jsxs("p",{className:"font-medium mt-1",children:["**Vrifiez dans la Console Firebase :** 1. Que le document `contacts/AAD` existe bien. 2. Que vos rgles de scurit sont PUBLIES et correspondent  la capture d'cran.",dt.jsxs("strong",{className:"text-indigo-700 block mt-2",children:["Suggestion : Mettez temporairement vos rgles  ",dt.jsx("code",{className:"bg-gray-200 p-1 rounded",children:"allow read, write: if true;"})," pour tous les documents (chemin racine) afin d'isoler l'erreur de permission."]})]})]})),dt.jsxs("div",{className:"mb-4 p-4 border rounded-lg shadow-sm bg-white",children:[dt.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:lt}),dt.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["**Path cibl:** ",dt.jsx("code",{className:"bg-gray-100 p-1 rounded text-xs",children:Rt})]}),dt.jsxs("div",{className:`p-2 rounded text-sm font-medium ${ft}`,children:["Statut: ",b]}),S]},Rt)};return A?dt.jsx("div",{className:"p-8 bg-red-50 min-h-screen",children:dt.jsxs("div",{className:"max-w-3xl mx-auto p-6 bg-white rounded-xl shadow-2xl border border-red-300",children:[dt.jsx("h1",{className:"text-2xl font-bold text-red-800 mb-4",children:"Erreur Critique"}),dt.jsx("p",{className:"text-red-600 mb-4 font-mono",children:A})]})}):dt.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-8 font-sans",children:[dt.jsx("script",{src:"https://cdn.tailwindcss.com"}),dt.jsxs("div",{className:"max-w-4xl mx-auto",children:[dt.jsxs("header",{className:"text-center mb-10",children:[dt.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-indigo-700 mb-2",children:"Vrification des Documents Firestore"}),dt.jsx("p",{className:"text-gray-600",children:"**MODE AUTHENTIFICATION RELLE :** L'application tente de se connecter via token personnalis ou anonyme."})]}),dt.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-indigo-500 mb-8",children:[dt.jsx("h2",{className:"text-xl font-semibold text-indigo-700 mb-3",children:"Statut du Diagnostic"}),dt.jsxs("div",{className:"space-y-2",children:[dt.jsxs("p",{className:"text-gray-700",children:["**Configuration :** ",dt.jsx("span",{className:`font-semibold ${W?"text-green-600":"text-red-600"}`,children:W?"Disponible":"Configuration manquante/factice"})]}),dt.jsxs("p",{className:"text-gray-700",children:["**tat de la connexion :** ",dt.jsx("span",{className:`font-semibold ${o?"text-green-600":"text-red-600"}`,children:d?o?`Connect (UID: ${o})`:"Non Connect (Authentification choue)":"En cours..."})]}),dt.jsxs("p",{className:"text-gray-700 text-sm italic",children:["**Objectif :** Tester la lecture du document ",dt.jsx("code",{className:"bg-gray-100 p-1 rounded text-xs",children:"contacts/AAD"})," aprs authentification."]}),v&&d&&o&&dt.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[dt.jsxs("svg",{className:"animate-spin h-5 w-5 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[dt.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),dt.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),dt.jsx("span",{className:"text-indigo-600",children:"Chargement des donnes..."})]}),v&&!d&&dt.jsx("span",{className:"text-yellow-600",children:"Authentification en cours..."})]})]}),dt.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:dt.jsxs("div",{className:"md:col-span-2",children:[dt.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3 border-b pb-1",children:"Rsultat de la Lecture"}),wt("Document contacts/AAD",Nv,U.rootContact||{})]})}),dt.jsx("footer",{className:"mt-10 pt-4 border-t text-center text-sm text-gray-500",children:dt.jsxs("p",{children:["Le code utilise le chemin littral ",dt.jsx("code",{className:"bg-gray-100 p-1 rounded text-xs",children:"contacts/AAD"}),"."]})})]})]})};mS.createRoot(document.getElementById("root")).render(dt.jsx(_n.StrictMode,{children:dt.jsx(oC,{})}));
