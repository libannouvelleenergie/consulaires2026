(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function DA(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Sd={exports:{}},dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function xA(){if(D_)return dl;D_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return dl.Fragment=t,dl.jsx=i,dl.jsxs=i,dl}var x_;function OA(){return x_||(x_=1,Sd.exports=xA()),Sd.exports}var V=OA(),wd={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function MA(){if(O_)return vt;O_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,Z={};function et(O,Y,it){this.props=O,this.context=Y,this.refs=Z,this.updater=it||W}et.prototype.isReactComponent={},et.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},et.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function dt(){}dt.prototype=et.prototype;function lt(O,Y,it){this.props=O,this.context=Y,this.refs=Z,this.updater=it||W}var wt=lt.prototype=new dt;wt.constructor=lt,J(wt,et.prototype),wt.isPureReactComponent=!0;var Jt=Array.isArray;function kt(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(O,Y,it){var rt=it.ref;return{$$typeof:s,type:O,key:Y,ref:rt!==void 0?rt:null,props:it}}function M(O,Y){return I(O.type,Y,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return Y[it]})}var w=/\/+/g;function se(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Y.toString(36)}function Ne(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(kt,kt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,Y,it,rt,yt){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var Vt=!1;if(O===null)Vt=!0;else switch(bt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(O.$$typeof){case s:case t:Vt=!0;break;case A:return Vt=O._init,F(Vt(O._payload),Y,it,rt,yt)}}if(Vt)return yt=yt(O),Vt=rt===""?"."+se(O,0):rt,Jt(yt)?(it="",Vt!=null&&(it=Vt.replace(w,"$&/")+"/"),F(yt,Y,it,"",function(er){return er})):yt!=null&&(x(yt)&&(yt=M(yt,it+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+Vt)),Y.push(yt)),1;Vt=0;var De=rt===""?".":rt+":";if(Jt(O))for(var re=0;re<O.length;re++)rt=O[re],bt=De+se(rt,re),Vt+=F(rt,Y,it,bt,yt);else if(re=H(O),typeof re=="function")for(O=re.call(O),re=0;!(rt=O.next()).done;)rt=rt.value,bt=De+se(rt,re++),Vt+=F(rt,Y,it,bt,yt);else if(bt==="object"){if(typeof O.then=="function")return F(Ne(O),Y,it,rt,yt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function nt(O,Y,it){if(O==null)return O;var rt=[],yt=0;return F(O,rt,"","",function(bt){return Y.call(it,bt,yt++)}),rt}function ft(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:nt,forEach:function(O,Y,it){nt(O,function(){Y.apply(this,arguments)},it)},count:function(O){var Y=0;return nt(O,function(){Y++}),Y},toArray:function(O){return nt(O,function(Y){return Y})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return vt.Activity=b,vt.Children=Gt,vt.Component=et,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=lt,vt.StrictMode=a,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,vt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},vt.cache=function(O){return function(){return O.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(O,Y,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=J({},O.props),yt=O.key;if(Y!=null)for(bt in Y.key!==void 0&&(yt=""+Y.key),Y)!S.call(Y,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Y.ref===void 0||(rt[bt]=Y[bt]);var bt=arguments.length-2;if(bt===1)rt.children=it;else if(1<bt){for(var Vt=Array(bt),De=0;De<bt;De++)Vt[De]=arguments[De+2];rt.children=Vt}return I(O.type,yt,rt)},vt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},vt.createElement=function(O,Y,it){var rt,yt={},bt=null;if(Y!=null)for(rt in Y.key!==void 0&&(bt=""+Y.key),Y)S.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(yt[rt]=Y[rt]);var Vt=arguments.length-2;if(Vt===1)yt.children=it;else if(1<Vt){for(var De=Array(Vt),re=0;re<Vt;re++)De[re]=arguments[re+2];yt.children=De}if(O&&O.defaultProps)for(rt in Vt=O.defaultProps,Vt)yt[rt]===void 0&&(yt[rt]=Vt[rt]);return I(O,bt,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(O){return{$$typeof:g,render:O}},vt.isValidElement=x,vt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ft}},vt.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},vt.startTransition=function(O){var Y=C.T,it={};C.T=it;try{var rt=O(),yt=C.S;yt!==null&&yt(it,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(kt,Lt)}catch(bt){Lt(bt)}finally{Y!==null&&it.types!==null&&(Y.types=it.types),C.T=Y}},vt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},vt.use=function(O){return C.H.use(O)},vt.useActionState=function(O,Y,it){return C.H.useActionState(O,Y,it)},vt.useCallback=function(O,Y){return C.H.useCallback(O,Y)},vt.useContext=function(O){return C.H.useContext(O)},vt.useDebugValue=function(){},vt.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},vt.useEffect=function(O,Y){return C.H.useEffect(O,Y)},vt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},vt.useId=function(){return C.H.useId()},vt.useImperativeHandle=function(O,Y,it){return C.H.useImperativeHandle(O,Y,it)},vt.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},vt.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},vt.useMemo=function(O,Y){return C.H.useMemo(O,Y)},vt.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},vt.useReducer=function(O,Y,it){return C.H.useReducer(O,Y,it)},vt.useRef=function(O){return C.H.useRef(O)},vt.useState=function(O){return C.H.useState(O)},vt.useSyncExternalStore=function(O,Y,it){return C.H.useSyncExternalStore(O,Y,it)},vt.useTransition=function(){return C.H.useTransition()},vt.version="19.2.0",vt}var M_;function ym(){return M_||(M_=1,wd.exports=MA()),wd.exports}var jt=ym();const VA=DA(jt);var Rd={exports:{}},ml={},Id={exports:{}},Cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function UA(){return V_||(V_=1,(function(s){function t(F,nt){var ft=F.length;F.push(nt);t:for(;0<ft;){var Lt=ft-1>>>1,Gt=F[Lt];if(0<l(Gt,nt))F[Lt]=nt,F[ft]=Gt,ft=Lt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var nt=F[0],ft=F.pop();if(ft!==nt){F[0]=ft;t:for(var Lt=0,Gt=F.length,O=Gt>>>1;Lt<O;){var Y=2*(Lt+1)-1,it=F[Y],rt=Y+1,yt=F[rt];if(0>l(it,ft))rt<Gt&&0>l(yt,it)?(F[Lt]=yt,F[rt]=ft,Lt=rt):(F[Lt]=it,F[Y]=ft,Lt=Y);else if(rt<Gt&&0>l(yt,ft))F[Lt]=yt,F[rt]=ft,Lt=rt;else break t}}return nt}function l(F,nt){var ft=F.sortIndex-nt.sortIndex;return ft!==0?ft:F.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],A=1,b=null,N=3,H=!1,W=!1,J=!1,Z=!1,et=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function wt(F){for(var nt=i(y);nt!==null;){if(nt.callback===null)a(y);else if(nt.startTime<=F)a(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function Jt(F){if(J=!1,wt(F),!W)if(i(_)!==null)W=!0,kt||(kt=!0,k());else{var nt=i(y);nt!==null&&Ne(Jt,nt.startTime-F)}}var kt=!1,C=-1,S=5,I=-1;function M(){return Z?!0:!(s.unstable_now()-I<S)}function x(){if(Z=!1,kt){var F=s.unstable_now();I=F;var nt=!0;try{t:{W=!1,J&&(J=!1,dt(C),C=-1),H=!0;var ft=N;try{e:{for(wt(F),b=i(_);b!==null&&!(b.expirationTime>F&&M());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,N=b.priorityLevel;var Gt=Lt(b.expirationTime<=F);if(F=s.unstable_now(),typeof Gt=="function"){b.callback=Gt,wt(F),nt=!0;break e}b===i(_)&&a(_),wt(F)}else a(_);b=i(_)}if(b!==null)nt=!0;else{var O=i(y);O!==null&&Ne(Jt,O.startTime-F),nt=!1}}break t}finally{b=null,N=ft,H=!1}nt=void 0}}finally{nt?k():kt=!1}}}var k;if(typeof lt=="function")k=function(){lt(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,se=w.port2;w.port1.onmessage=x,k=function(){se.postMessage(null)}}else k=function(){et(x,0)};function Ne(F,nt){C=et(function(){F(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(F){switch(N){case 1:case 2:case 3:var nt=3;break;default:nt=N}var ft=N;N=nt;try{return F()}finally{N=ft}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ft=N;N=F;try{return nt()}finally{N=ft}},s.unstable_scheduleCallback=function(F,nt,ft){var Lt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Lt+ft:Lt):ft=Lt,F){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ft+Gt,F={id:A++,callback:nt,priorityLevel:F,startTime:ft,expirationTime:Gt,sortIndex:-1},ft>Lt?(F.sortIndex=ft,t(y,F),i(_)===null&&F===i(y)&&(J?(dt(C),C=-1):J=!0,Ne(Jt,ft-Lt))):(F.sortIndex=Gt,t(_,F),W||H||(W=!0,kt||(kt=!0,k()))),F},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(F){var nt=N;return function(){var ft=N;N=nt;try{return F.apply(this,arguments)}finally{N=ft}}}})(Cd)),Cd}var U_;function kA(){return U_||(U_=1,Id.exports=UA()),Id.exports}var Nd={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function LA(){if(k_)return Ke;k_=1;var s=ym();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},Ke.flushSync=function(_){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=A,a.d.f()}},Ke.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Ke.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ke.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,b=g(A,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:H}):A==="script"&&a.d.X(_,{crossOrigin:b,integrity:N,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Ke.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,b=g(A,y.crossOrigin);a.d.L(_,A,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Ke.requestFormReset=function(_){a.d.r(_)},Ke.unstable_batchedUpdates=function(_,y){return _(y)},Ke.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.0",Ke}var L_;function PA(){if(L_)return Nd.exports;L_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Nd.exports=LA(),Nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function zA(){if(P_)return ml;P_=1;var s=kA(),t=ym(),i=PA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),wt=Symbol.for("react.forward_ref"),Jt=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case et:return"Profiler";case Z:return"StrictMode";case Jt:return"Suspense";case kt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case lt:return e.displayName||"Context";case dt:return(e._context.displayName||"Context")+".Consumer";case wt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:se(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return se(e(n))}catch{}}return null}var Ne=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Lt=[],Gt=-1;function O(e){return{current:e}}function Y(e){0>Gt||(e.current=Lt[Gt],Lt[Gt]=null,Gt--)}function it(e,n){Gt++,Lt[Gt]=e.current,e.current=n}var rt=O(null),yt=O(null),bt=O(null),Vt=O(null);function De(e,n){switch(it(bt,n),it(yt,e),it(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Wy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Wy(n),e=t_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),it(rt,e)}function re(){Y(rt),Y(yt),Y(bt)}function er(e){e.memoizedState!==null&&it(Vt,e);var n=rt.current,r=t_(n,e.type);n!==r&&(it(yt,e),it(rt,r))}function Qr(e){yt.current===e&&(Y(rt),Y(yt)),Vt.current===e&&(Y(Vt),ul._currentValue=ft)}var Kr,Yr;function Jn(e){if(Kr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Kr=n&&n[1]||"",Yr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+e+Yr}var lo=!1;function nr(e,n){if(!e||lo)return"";lo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{lo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Jn(r):""}function uo(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return nr(e.type,!1);case 11:return nr(e.type.render,!1);case 1:return nr(e.type,!0);case 31:return Jn("Activity");default:return""}}function co(e){try{var n="",r=null;do n+=uo(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,xe=s.unstable_scheduleCallback,ss=s.unstable_cancelCallback,wh=s.unstable_shouldYield,Xl=s.unstable_requestPaint,Je=s.unstable_now,ir=s.unstable_getCurrentPriorityLevel,ho=s.unstable_ImmediatePriority,fo=s.unstable_UserBlockingPriority,rs=s.unstable_NormalPriority,Rh=s.unstable_LowPriority,$l=s.unstable_IdlePriority,Zl=s.log,Jl=s.unstable_setDisableYieldValue,Ln=null,Pe=null;function En(e){if(typeof Zl=="function"&&Jl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Ln,e)}catch{}}var he=Math.clz32?Math.clz32:tu,Wl=Math.log,Xr=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(Wl(e)/Xr|0)|0}var Wn=256,sr=262144,ye=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ti(o):(p&=E,p!==0?h=ti(p):r||(r=E&~e,r!==0&&(h=ti(r))))):(E=o&~f,E!==0?h=ti(E):p!==0?h=ti(p):r||(r=o&~e,r!==0&&(h=ti(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ih(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ni(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function rr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ch(e,n,r,o,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(r=p&~r;0<r;){var G=31-he(r),K=1<<G;E[G]=0,R[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}r&=~K}o!==0&&ar(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ar(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function mo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-he(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function go(e,n){var r=n&-n;return r=(r&42)!==0?1:or(r),(r&(e.suspendedLanes|n))!==0?0:r}function or(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:b_(e.type))}function zn(e,n){var r=nt.p;try{return nt.p=e,n()}finally{nt.p=r}}var jn=Math.random().toString(36).slice(2),_e="__reactFiber$"+jn,Ve="__reactProps$"+jn,ii="__reactContainer$"+jn,$r="__reactEvents$"+jn,Nh="__reactListeners$"+jn,iu="__reactHandles$"+jn,su="__reactResources$"+jn,si="__reactMarker$"+jn;function Zr(e){delete e[_e],delete e[Ve],delete e[$r],delete e[Nh],delete e[iu]}function ri(e){var n=e[_e];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ii]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=o_(e);e!==null;){if(r=e[_e])return r;e=o_(e)}return n}e=r,r=e.parentNode}return null}function Tn(e){if(e=e[_e]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ai(e){var n=e[su];return n||(n=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[si]=!0}var po=new Set,yo={};function oi(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(yo[e]=n,e=0;e<n.length;e++)po.add(n[e])}var _o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},Eo={};function ru(e){return pe.call(Eo,e)?!0:pe.call(vo,e)?!1:_o.test(e)?Eo[e]=!0:(vo[e]=!0,!1)}function Jr(e,n,r){if(ru(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function fn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ee(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function as(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function To(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=as(e)?"checked":"value";e._valueTracker=To(e,n,""+e[n])}}function lr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=as(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ur=/[\n"\\]/g;function nn(e){return e.replace(ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Wr(e,n,r,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Ao(e,p,Ue(n)):r!=null?Ao(e,p,Ue(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function au(e,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(e);return}r=r!=null?""+Ue(r):"",n=n!=null?""+Ue(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ft(e)}function Ao(e,n,r){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function os(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ue(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ou(e,n,r){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ue(r):""}function ls(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ne(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ue(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Ft(e)}function sn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||lu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function So(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&bo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&bo(e,f,n[f])}function ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(e){return us.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var wo=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cs=null,ci=null;function cr(e){var n=Tn(e);if(n&&(e=n.stateNode)){var r=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(Wr(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));Wr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&lr(o)}break t;case"textarea":ou(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&os(e,!!r.multiple,n,!1)}}}var na=!1;function hs(e,n,r){if(na)return e(n,r);na=!0;try{var o=e(n);return o}finally{if(na=!1,(cs!==null||ci!==null)&&(nc(),cs&&(n=cs,e=ci,ci=cs=null,cr(n),e)))for(n=0;n<e.length;n++)cr(e[n])}}function qn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ve]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hr=!1;if(bn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){hr=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{hr=!1}var hi=null,Ro=null,fr=null;function Io(){if(fr)return fr;var e,n=Ro,r=n.length,o,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return fr=h.slice(e,1<o?1-o:void 0)}function dr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function Hn(){return!1}function ze(e){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:Hn,this.isPropagationStopped=Hn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=ze(xi),fs=b({},xi,{view:0,detail:0}),Co=ze(fs),ds,ia,di,sa=b({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(ds=e.screenX-di.screenX,ia=e.screenY-di.screenY):ia=ds=0,di=e),ds)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),No=ze(sa),mr=b({},sa,{dataTransfer:0}),cu=ze(mr),hu=b({},fs,{relatedTarget:0}),gr=ze(hu),Do=b({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=ze(Do),ra=b({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=ze(ra),mu=b({},xi,{data:0}),mi=ze(mu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function ms(){return _u}var We=b({},fs,{key:function(e){if(e.key){var n=gu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=ze(We),Eu=b({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=ze(Eu),u=b({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),m=ze(u),v=b({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),L=b({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(L),tt=b({},xi,{newState:0,oldState:0}),Tt=ze(tt),fe=[9,13,27,32],Bt=bn&&"CompositionEvent"in window,ae=null;bn&&"documentMode"in document&&(ae=document.documentMode);var Sn=bn&&"TextEvent"in window&&!ae,gi=bn&&(!Bt||ae&&8<ae&&11>=ae),Gn=" ",Fn=!1;function pr(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function t1(e,n){switch(e){case"compositionend":return aa(n);case"keypress":return n.which!==32?null:(Fn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Fn?null:e;default:return null}}function e1(e,n){if(oa)return e==="compositionend"||!Bt&&pr(e,n)?(e=Io(),fr=Ro=hi=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var n1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!n1[e.type]:n==="textarea"}function hg(e,n,r,o){cs?ci?ci.push(o):ci=[o]:cs=o,n=uc(n,"onChange"),0<n.length&&(r=new fi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var xo=null,Oo=null;function i1(e){Ky(e,0)}function Tu(e){var n=hn(e);if(lr(n))return e}function fg(e,n){if(e==="change")return n}var dg=!1;if(bn){var Dh;if(bn){var xh="oninput"in document;if(!xh){var mg=document.createElement("div");mg.setAttribute("oninput","return;"),xh=typeof mg.oninput=="function"}Dh=xh}else Dh=!1;dg=Dh&&(!document.documentMode||9<document.documentMode)}function gg(){xo&&(xo.detachEvent("onpropertychange",pg),Oo=xo=null)}function pg(e){if(e.propertyName==="value"&&Tu(Oo)){var n=[];hg(n,Oo,e,An(e)),hs(i1,n)}}function s1(e,n,r){e==="focusin"?(gg(),xo=n,Oo=r,xo.attachEvent("onpropertychange",pg)):e==="focusout"&&gg()}function r1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(Oo)}function a1(e,n){if(e==="click")return Tu(n)}function o1(e,n){if(e==="input"||e==="change")return Tu(n)}function l1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:l1;function Mo(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!pe.call(n,h)||!dn(e[h],n[h]))return!1}return!0}function yg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _g(e,n){var r=yg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=yg(r)}}function vg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?vg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Eg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ui(e.document)}return n}function Oh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var u1=bn&&"documentMode"in document&&11>=document.documentMode,la=null,Mh=null,Vo=null,Vh=!1;function Tg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vh||la==null||la!==ui(o)||(o=la,"selectionStart"in o&&Oh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Vo&&Mo(Vo,o)||(Vo=o,o=uc(Mh,"onSelect"),0<o.length&&(n=new fi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=la)))}function yr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ua={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},Uh={},Ag={};bn&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function _r(e){if(Uh[e])return Uh[e];if(!ua[e])return e;var n=ua[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ag)return Uh[e]=n[r];return e}var bg=_r("animationend"),Sg=_r("animationiteration"),wg=_r("animationstart"),c1=_r("transitionrun"),h1=_r("transitionstart"),f1=_r("transitioncancel"),Rg=_r("transitionend"),Ig=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function Qn(e,n){Ig.set(e,n),oi(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],ca=0,Lh=0;function bu(){for(var e=ca,n=Lh=ca=0;n<e;){var r=wn[n];wn[n++]=null;var o=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Cg(r,h,f)}}function Su(e,n,r,o){wn[ca++]=e,wn[ca++]=n,wn[ca++]=r,wn[ca++]=o,Lh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ph(e,n,r,o){return Su(e,n,r,o),wu(e)}function vr(e,n){return Su(e,null,null,n),wu(e)}function Cg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function wu(e){if(50<nl)throw nl=0,Yf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ha={};function d1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,r,o){return new d1(e,n,r,o)}function zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var r=e.alternate;return r===null?(r=mn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Ng(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,r,o,h,f){var p=0;if(o=e,typeof e=="function")zh(e)&&(p=1);else if(typeof e=="string")p=_A(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=mn(31,r,n,h),e.elementType=I,e.lanes=f,e;case J:return Er(r.children,h,f,n);case Z:p=8,h|=24;break;case et:return e=mn(12,r,n,h|2),e.elementType=et,e.lanes=f,e;case Jt:return e=mn(13,r,n,h),e.elementType=Jt,e.lanes=f,e;case kt:return e=mn(19,r,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:p=10;break t;case dt:p=9;break t;case wt:p=11;break t;case C:p=14;break t;case S:p=16,o=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=mn(p,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Er(e,n,r,o){return e=mn(7,e,o,n),e.lanes=r,e}function jh(e,n,r){return e=mn(6,e,null,n),e.lanes=r,e}function Dg(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function Bh(e,n,r){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var xg=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var r=xg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:co(n)},xg.set(e,n),n)}return{value:e,source:n,stack:co(n)}}var fa=[],da=0,Iu=null,Uo=0,In=[],Cn=0,gs=null,pi=1,yi="";function Vi(e,n){fa[da++]=Uo,fa[da++]=Iu,Iu=e,Uo=n}function Og(e,n,r){In[Cn++]=pi,In[Cn++]=yi,In[Cn++]=gs,gs=e;var o=pi;e=yi;var h=32-he(o)-1;o&=~(1<<h),r+=1;var f=32-he(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,pi=1<<32-he(n)+h|r<<h|o,yi=f+e}else pi=1<<f|r<<h|o,yi=e}function qh(e){e.return!==null&&(Vi(e,1),Og(e,1,0))}function Hh(e){for(;e===Iu;)Iu=fa[--da],fa[da]=null,Uo=fa[--da],fa[da]=null;for(;e===gs;)gs=In[--Cn],In[Cn]=null,yi=In[--Cn],In[Cn]=null,pi=In[--Cn],In[Cn]=null}function Mg(e,n){In[Cn++]=pi,In[Cn++]=yi,In[Cn++]=gs,pi=n.id,yi=n.overflow,gs=e}var je=null,ee=null,Mt=!1,ps=null,Nn=!1,Gh=Error(a(519));function ys(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ko(Rn(n,e)),Gh}function Vg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[_e]=e,n[Ve]=o,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<sl.length;r++)It(sl[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),ls(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Zy(n.textContent,r)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||ys(e,!0)}function Ug(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:je=je.return}}function ma(e){if(e!==je)return!1;if(!Mt)return Ug(e),Mt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||ud(e.type,e.memoizedProps)),r=!r),r&&ee&&ys(e),Ug(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=a_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=a_(e)}else n===27?(n=ee,xs(e.type)?(e=md,md=null,ee=e):ee=n):ee=je?xn(e.stateNode.nextSibling):null;return!0}function Tr(){ee=je=null,Mt=!1}function Fh(){var e=ps;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),ps=null),e}function ko(e){ps===null?ps=[e]:ps.push(e)}var Qh=O(null),Ar=null,Ui=null;function _s(e,n,r){it(Qh,n._currentValue),n._currentValue=r}function ki(e){e._currentValue=Qh.current,Y(Qh)}function Kh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Yh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Kh(f.return,r,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Kh(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ga(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;dn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}h=h.return}e!==null&&Yh(n,e,r,o),n.flags|=262144}function Cu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function br(e){Ar=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return kg(Ar,e)}function Nu(e,n){return Ar===null&&br(e),kg(e,n)}function kg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ui===null){if(e===null)throw Error(a(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return r}var m1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},g1=s.unstable_scheduleCallback,p1=s.unstable_NormalPriority,Te={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new m1,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&g1(p1,function(){e.controller.abort()})}var Po=null,$h=0,pa=0,ya=null;function y1(e,n){if(Po===null){var r=Po=[];$h=0,pa=td(),ya={status:"pending",value:void 0,then:function(o){r.push(o)}}}return $h++,n.then(Lg,Lg),n}function Lg(){if(--$h===0&&Po!==null){ya!==null&&(ya.status="fulfilled");var e=Po;Po=null,pa=0,ya=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function _1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Pg=F.S;F.S=function(e,n){Ty=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&y1(e,n),Pg!==null&&Pg(e,n)};var Sr=O(null);function Zh(){var e=Sr.current;return e!==null?e:Wt.pooledCache}function Du(e,n){n===null?it(Sr,Sr.current):it(Sr,n.pool)}function zg(){var e=Zh();return e===null?null:{parent:Te._currentValue,pool:e}}var _a=Error(a(460)),Jh=Error(a(474)),xu=Error(a(542)),Ou={then:function(){}};function jg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Bn,Bn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hg(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hg(e),e}throw Rr=n,_a}}function wr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Rr=r,_a):r}}var Rr=null;function qg(){if(Rr===null)throw Error(a(459));var e=Rr;return Rr=null,e}function Hg(e){if(e===_a||e===xu)throw Error(a(483))}var va=null,zo=0;function Mu(e){var n=zo;return zo+=1,va===null&&(va=[]),Bg(va,e,n)}function jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vu(e,n){throw n.$$typeof===N?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Gg(e){function n(U,D){if(e){var P=U.deletions;P===null?(U.deletions=[D],U.flags|=16):P.push(D)}}function r(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Mi(U,D),U.index=0,U.sibling=null,U}function f(U,D,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<D?(U.flags|=67108866,D):P):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,P,Q){return D===null||D.tag!==6?(D=jh(P,U.mode,Q),D.return=U,D):(D=h(D,P),D.return=U,D)}function R(U,D,P,Q){var ct=P.type;return ct===J?G(U,D,P.props.children,Q,P.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&wr(ct)===D.type)?(D=h(D,P.props),jo(D,P),D.return=U,D):(D=Ru(P.type,P.key,P.props,null,U.mode,Q),jo(D,P),D.return=U,D)}function z(U,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Bh(P,U.mode,Q),D.return=U,D):(D=h(D,P.children||[]),D.return=U,D)}function G(U,D,P,Q,ct){return D===null||D.tag!==7?(D=Er(P,U.mode,Q,ct),D.return=U,D):(D=h(D,P),D.return=U,D)}function K(U,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=jh(""+D,U.mode,P),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return P=Ru(D.type,D.key,D.props,null,U.mode,P),jo(P,D),P.return=U,P;case W:return D=Bh(D,U.mode,P),D.return=U,D;case S:return D=wr(D),K(U,D,P)}if(Ne(D)||k(D))return D=Er(D,U.mode,P,null),D.return=U,D;if(typeof D.then=="function")return K(U,Mu(D),P);if(D.$$typeof===lt)return K(U,Nu(U,D),P);Vu(U,D)}return null}function j(U,D,P,Q){var ct=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:E(U,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===ct?R(U,D,P,Q):null;case W:return P.key===ct?z(U,D,P,Q):null;case S:return P=wr(P),j(U,D,P,Q)}if(Ne(P)||k(P))return ct!==null?null:G(U,D,P,Q,null);if(typeof P.then=="function")return j(U,D,Mu(P),Q);if(P.$$typeof===lt)return j(U,D,Nu(U,P),Q);Vu(U,P)}return null}function q(U,D,P,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(P)||null,E(D,U,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return U=U.get(Q.key===null?P:Q.key)||null,R(D,U,Q,ct);case W:return U=U.get(Q.key===null?P:Q.key)||null,z(D,U,Q,ct);case S:return Q=wr(Q),q(U,D,P,Q,ct)}if(Ne(Q)||k(Q))return U=U.get(P)||null,G(D,U,Q,ct,null);if(typeof Q.then=="function")return q(U,D,P,Mu(Q),ct);if(Q.$$typeof===lt)return q(U,D,P,Nu(D,Q),ct);Vu(D,Q)}return null}function ot(U,D,P,Q){for(var ct=null,Pt=null,ut=D,St=D=0,Nt=null;ut!==null&&St<P.length;St++){ut.index>St?(Nt=ut,ut=null):Nt=ut.sibling;var zt=j(U,ut,P[St],Q);if(zt===null){ut===null&&(ut=Nt);break}e&&ut&&zt.alternate===null&&n(U,ut),D=f(zt,D,St),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt,ut=Nt}if(St===P.length)return r(U,ut),Mt&&Vi(U,St),ct;if(ut===null){for(;St<P.length;St++)ut=K(U,P[St],Q),ut!==null&&(D=f(ut,D,St),Pt===null?ct=ut:Pt.sibling=ut,Pt=ut);return Mt&&Vi(U,St),ct}for(ut=o(ut);St<P.length;St++)Nt=q(ut,U,St,P[St],Q),Nt!==null&&(e&&Nt.alternate!==null&&ut.delete(Nt.key===null?St:Nt.key),D=f(Nt,D,St),Pt===null?ct=Nt:Pt.sibling=Nt,Pt=Nt);return e&&ut.forEach(function(ks){return n(U,ks)}),Mt&&Vi(U,St),ct}function mt(U,D,P,Q){if(P==null)throw Error(a(151));for(var ct=null,Pt=null,ut=D,St=D=0,Nt=null,zt=P.next();ut!==null&&!zt.done;St++,zt=P.next()){ut.index>St?(Nt=ut,ut=null):Nt=ut.sibling;var ks=j(U,ut,zt.value,Q);if(ks===null){ut===null&&(ut=Nt);break}e&&ut&&ks.alternate===null&&n(U,ut),D=f(ks,D,St),Pt===null?ct=ks:Pt.sibling=ks,Pt=ks,ut=Nt}if(zt.done)return r(U,ut),Mt&&Vi(U,St),ct;if(ut===null){for(;!zt.done;St++,zt=P.next())zt=K(U,zt.value,Q),zt!==null&&(D=f(zt,D,St),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt);return Mt&&Vi(U,St),ct}for(ut=o(ut);!zt.done;St++,zt=P.next())zt=q(ut,U,St,zt.value,Q),zt!==null&&(e&&zt.alternate!==null&&ut.delete(zt.key===null?St:zt.key),D=f(zt,D,St),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt);return e&&ut.forEach(function(NA){return n(U,NA)}),Mt&&Vi(U,St),ct}function Zt(U,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===J&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var ct=P.key;D!==null;){if(D.key===ct){if(ct=P.type,ct===J){if(D.tag===7){r(U,D.sibling),Q=h(D,P.props.children),Q.return=U,U=Q;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&wr(ct)===D.type){r(U,D.sibling),Q=h(D,P.props),jo(Q,P),Q.return=U,U=Q;break t}r(U,D);break}else n(U,D);D=D.sibling}P.type===J?(Q=Er(P.props.children,U.mode,Q,P.key),Q.return=U,U=Q):(Q=Ru(P.type,P.key,P.props,null,U.mode,Q),jo(Q,P),Q.return=U,U=Q)}return p(U);case W:t:{for(ct=P.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(U,D.sibling),Q=h(D,P.children||[]),Q.return=U,U=Q;break t}else{r(U,D);break}else n(U,D);D=D.sibling}Q=Bh(P,U.mode,Q),Q.return=U,U=Q}return p(U);case S:return P=wr(P),Zt(U,D,P,Q)}if(Ne(P))return ot(U,D,P,Q);if(k(P)){if(ct=k(P),typeof ct!="function")throw Error(a(150));return P=ct.call(P),mt(U,D,P,Q)}if(typeof P.then=="function")return Zt(U,D,Mu(P),Q);if(P.$$typeof===lt)return Zt(U,D,Nu(U,P),Q);Vu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(U,D.sibling),Q=h(D,P),Q.return=U,U=Q):(r(U,D),Q=jh(P,U.mode,Q),Q.return=U,U=Q),p(U)):r(U,D)}return function(U,D,P,Q){try{zo=0;var ct=Zt(U,D,P,Q);return va=null,ct}catch(ut){if(ut===_a||ut===xu)throw ut;var Pt=mn(29,ut,null,U.mode);return Pt.lanes=Q,Pt.return=U,Pt}finally{}}}var Ir=Gg(!0),Fg=Gg(!1),vs=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=wu(e),Cg(e,null,r),n}return Su(e,o,n,r),wu(e)}function Bo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,mo(e,r)}}function ef(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var nf=!1;function qo(){if(nf){var e=ya;if(e!==null)throw e}}function Ho(e,n,r,o){nf=!1;var h=e.updateQueue;vs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;p=0,G=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Ct&j)===j:(o&j)===j){j!==0&&j===pa&&(nf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,mt=E;j=n;var Zt=r;switch(mt.tag){case 1:if(ot=mt.payload,typeof ot=="function"){K=ot.call(Zt,K,j);break t}K=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=mt.payload,j=typeof ot=="function"?ot.call(Zt,K,j):ot,j==null)break t;K=b({},K,j);break t;case 2:vs=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,R=K):G=G.next=q,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=K),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Rs|=p,e.lanes=p,e.memoizedState=K}}function Qg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Kg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Qg(r[e],n)}var Ea=O(null),Uu=O(0);function Yg(e,n){e=Fi,it(Uu,e),it(Ea,n),Fi=e|n.baseLanes}function sf(){it(Uu,Fi),it(Ea,Ea.current)}function rf(){Fi=Uu.current,Y(Ea),Y(Uu)}var gn=O(null),Dn=null;function As(e){var n=e.alternate;it(de,de.current&1),it(gn,e),Dn===null&&(n===null||Ea.current!==null||n.memoizedState!==null)&&(Dn=e)}function af(e){it(de,de.current),it(gn,e),Dn===null&&(Dn=e)}function Xg(e){e.tag===22?(it(de,de.current),it(gn,e),Dn===null&&(Dn=e)):bs()}function bs(){it(de,de.current),it(gn,gn.current)}function pn(e){Y(gn),Dn===e&&(Dn=null),Y(de)}var de=O(0);function ku(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||fd(r)||dd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,At=null,Xt=null,Ae=null,Lu=!1,Ta=!1,Cr=!1,Pu=0,Go=0,Aa=null,v1=0;function ue(){throw Error(a(321))}function of(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!dn(e[r],n[r]))return!1;return!0}function lf(e,n,r,o,h,f){return Li=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Op:bf,Cr=!1,f=r(o,h),Cr=!1,Ta&&(f=Zg(n,r,o,h)),$g(e),f}function $g(e){F.H=Ko;var n=Xt!==null&&Xt.next!==null;if(Li=0,Ae=Xt=At=null,Lu=!1,Go=0,Aa=null,n)throw Error(a(300));e===null||be||(e=e.dependencies,e!==null&&Cu(e)&&(be=!0))}function Zg(e,n,r,o){At=e;var h=0;do{if(Ta&&(Aa=null),Go=0,Ta=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Mp,f=n(r,o)}while(Ta);return f}function E1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Fo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(At.flags|=1024),n}function uf(){var e=Pu!==0;return Pu=0,e}function cf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function hf(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}Li=0,Ae=Xt=At=null,Ta=!1,Go=Pu=0,Aa=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function me(){if(Xt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Ae===null?At.memoizedState:Ae.next;if(n!==null)Ae=n,Xt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var n=Go;return Go+=1,Aa===null&&(Aa=[]),e=Bg(Aa,e,n),n=At,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Op:bf),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===lt)return Be(e)}throw Error(a(438,String(e)))}function ff(e){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=zu(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function Pi(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=me();return df(n,Xt,e)}function df(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,R=null,z=n,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Ct&K)===K:(Li&K)===K){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===pa&&(G=!0);else if((Li&j)===j){z=z.next,j===pa&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=K,p=f):R=R.next=K,At.lanes|=j,Rs|=j;K=z.action,Cr&&r(f,K),f=z.hasEagerState?z.eagerState:r(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,p=f):R=R.next=j,At.lanes|=K,Rs|=K;z=z.next}while(z!==null&&z!==n);if(R===null?p=f:R.next=E,!dn(f,e.memoizedState)&&(be=!0,G&&(r=ya,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function mf(e){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);dn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Jg(e,n,r){var o=At,h=me(),f=Mt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!dn((Xt||h).memoizedState,r);if(p&&(h.memoizedState=r,be=!0),h=h.queue,yf(ep.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,ba(9,{destroy:void 0},tp.bind(null,o,h,r,n),null),Wt===null)throw Error(a(349));f||(Li&127)!==0||Wg(o,n,r)}return r}function Wg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=zu(),At.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function tp(e,n,r,o){n.value=r,n.getSnapshot=o,np(n)&&ip(e)}function ep(e,n,r){return r(function(){np(n)&&ip(e)})}function np(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!dn(e,r)}catch{return!0}}function ip(e){var n=vr(e,2);n!==null&&un(n,e,2)}function gf(e){var n=tn();if(typeof e=="function"){var r=e;if(e=r(),Cr){En(!0);try{r()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function sp(e,n,r,o){return e.baseState=r,df(e,Xt,typeof o=="function"?o:Pi)}function T1(e,n,r,o,h){if(Gu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,rp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function rp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var E=r(h,o),R=F.S;R!==null&&R(p,E),ap(e,n,E)}catch(z){pf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=r(h,o),ap(e,n,f)}catch(z){pf(e,n,z)}}function ap(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){op(e,n,o)},function(o){return pf(e,n,o)}):op(e,n,r)}function op(e,n,r){n.status="fulfilled",n.value=r,lp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,rp(e,r)))}function pf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,lp(n),n=n.next;while(n!==o)}e.action=null}function lp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function up(e,n){return n}function cp(e,n){if(Mt){var r=Wt.formState;if(r!==null){t:{var o=At;if(Mt){if(ee){e:{for(var h=ee,f=Nn;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=xn(h.nextSibling),o=h.data==="F!";break t}}ys(o)}o=!1}o&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:n},r.queue=o,r=Np.bind(null,At,o),o.dispatch=r,o=gf(!1),f=Af.bind(null,At,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=T1.bind(null,At,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function hp(e){var n=me();return fp(n,Xt,e)}function fp(e,n,r){if(n=df(e,n,up)[0],e=Bu(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Fo(n)}catch(p){throw p===_a?xu:p}else o=n;n=me();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(At.flags|=2048,ba(9,{destroy:void 0},A1.bind(null,h,r),null)),[o,f,e]}function A1(e,n){e.action=n}function dp(e){var n=me(),r=Xt;if(r!==null)return fp(n,r,e);me(),n=n.memoizedState,r=me();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function ba(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=zu(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function mp(){return me().memoizedState}function qu(e,n,r,o){var h=tn();At.flags|=e,h.memoizedState=ba(1|n,{destroy:void 0},r,o===void 0?null:o)}function Hu(e,n,r,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&of(o,Xt.memoizedState.deps)?h.memoizedState=ba(n,f,r,o):(At.flags|=e,h.memoizedState=ba(1|n,f,r,o))}function gp(e,n){qu(8390656,8,e,n)}function yf(e,n){Hu(2048,8,e,n)}function b1(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=zu(),At.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function pp(e){var n=me().memoizedState;return b1({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function yp(e,n){return Hu(4,2,e,n)}function _p(e,n){return Hu(4,4,e,n)}function vp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ep(e,n,r){r=r!=null?r.concat([e]):null,Hu(4,4,vp.bind(null,n,e),r)}function _f(){}function Tp(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&of(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Ap(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&of(n,o[1]))return o[0];if(o=e(),Cr){En(!0);try{e()}finally{En(!1)}}return r.memoizedState=[o,n],o}function vf(e,n,r){return r===void 0||(Li&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=by(),At.lanes|=e,Rs|=e,r)}function bp(e,n,r,o){return dn(r,n)?r:Ea.current!==null?(e=vf(e,r,o),dn(e,n)||(be=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(Ct&261930)===0?(be=!0,e.memoizedState=r):(e=by(),At.lanes|=e,Rs|=e,n)}function Sp(e,n,r,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=F.T,E={};F.T=E,Af(e,!1,n,r);try{var R=h(),z=F.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=_1(R,o);Qo(e,n,G,vn(e))}else Qo(e,n,o,vn(e))}catch(K){Qo(e,n,{then:function(){},status:"rejected",reason:K},vn())}finally{nt.p=f,p!==null&&E.types!==null&&(p.types=E.types),F.T=p}}function S1(){}function Ef(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=wp(e).queue;Sp(e,h,n,ft,r===null?S1:function(){return Rp(e),r(o)})}function wp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Rp(e){var n=wp(e);n.next===null&&(n=e.alternate.memoizedState),Qo(e,n.next.queue,{},vn())}function Tf(){return Be(ul)}function Ip(){return me().memoizedState}function Cp(){return me().memoizedState}function w1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=vn();e=Es(r);var o=Ts(n,e,r);o!==null&&(un(o,n,r),Bo(o,n,r)),n={cache:Xh()},e.payload=n;return}n=n.return}}function R1(e,n,r){var o=vn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Dp(n,r):(r=Ph(e,n,r,o),r!==null&&(un(r,e,o),xp(r,n,o)))}function Np(e,n,r){var o=vn();Qo(e,n,r,o)}function Qo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Dp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,dn(E,p))return Su(e,n,h,0),Wt===null&&bu(),!1}catch{}finally{}if(r=Ph(e,n,h,o),r!==null)return un(r,e,o),xp(r,n,o),!0}return!1}function Af(e,n,r,o){if(o={lane:2,revertLane:td(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(a(479))}else n=Ph(e,r,o,2),n!==null&&un(n,e,2)}function Gu(e){var n=e.alternate;return e===At||n!==null&&n===At}function Dp(e,n){Ta=Lu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function xp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,mo(e,r)}}var Ko={readContext:Be,use:ju,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Ko.useEffectEvent=ue;var Op={readContext:Be,use:ju,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:gp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,qu(4194308,4,vp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var r=tn();n=n===void 0?null:n;var o=e();if(Cr){En(!0);try{e()}finally{En(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=tn();if(r!==void 0){var h=r(n);if(Cr){En(!0);try{r(n)}finally{En(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=R1.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=gf(e);var n=e.queue,r=Np.bind(null,At,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:_f,useDeferredValue:function(e,n){var r=tn();return vf(r,e,n)},useTransition:function(){var e=gf(!1);return e=Sp.bind(null,At,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=At,h=tn();if(Mt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Wt===null)throw Error(a(349));(Ct&127)!==0||Wg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,gp(ep.bind(null,o,f,e),[e]),o.flags|=2048,ba(9,{destroy:void 0},tp.bind(null,o,f,r,n),null),r},useId:function(){var e=tn(),n=Wt.identifierPrefix;if(Mt){var r=yi,o=pi;r=(o&~(1<<32-he(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Pu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=v1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Tf,useFormState:cp,useActionState:cp,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Af.bind(null,At,!0,r),r.dispatch=n,[e,n]},useMemoCache:ff,useCacheRefresh:function(){return tn().memoizedState=w1.bind(null,At)},useEffectEvent:function(e){var n=tn(),r={impl:e};return n.memoizedState=r,function(){if((qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},bf={readContext:Be,use:ju,useCallback:Tp,useContext:Be,useEffect:yf,useImperativeHandle:Ep,useInsertionEffect:yp,useLayoutEffect:_p,useMemo:Ap,useReducer:Bu,useRef:mp,useState:function(){return Bu(Pi)},useDebugValue:_f,useDeferredValue:function(e,n){var r=me();return bp(r,Xt.memoizedState,e,n)},useTransition:function(){var e=Bu(Pi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:Jg,useId:Ip,useHostTransitionStatus:Tf,useFormState:hp,useActionState:hp,useOptimistic:function(e,n){var r=me();return sp(r,Xt,e,n)},useMemoCache:ff,useCacheRefresh:Cp};bf.useEffectEvent=pp;var Mp={readContext:Be,use:ju,useCallback:Tp,useContext:Be,useEffect:yf,useImperativeHandle:Ep,useInsertionEffect:yp,useLayoutEffect:_p,useMemo:Ap,useReducer:mf,useRef:mp,useState:function(){return mf(Pi)},useDebugValue:_f,useDeferredValue:function(e,n){var r=me();return Xt===null?vf(r,e,n):bp(r,Xt.memoizedState,e,n)},useTransition:function(){var e=mf(Pi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:Jg,useId:Ip,useHostTransitionStatus:Tf,useFormState:dp,useActionState:dp,useOptimistic:function(e,n){var r=me();return Xt!==null?sp(r,Xt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ff,useCacheRefresh:Cp};Mp.useEffectEvent=pp;function Sf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=vn(),h=Es(o);h.payload=n,r!=null&&(h.callback=r),n=Ts(e,h,o),n!==null&&(un(n,e,o),Bo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=vn(),h=Es(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ts(e,h,o),n!==null&&(un(n,e,o),Bo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=vn(),o=Es(r);o.tag=2,n!=null&&(o.callback=n),n=Ts(e,o,r),n!==null&&(un(n,e,r),Bo(n,e,r))}};function Vp(e,n,r,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Mo(r,o)||!Mo(h,f):!0}function Up(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&wf.enqueueReplaceState(n,n.state,null)}function Nr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function kp(e){Au(e)}function Lp(e){console.error(e)}function Pp(e){Au(e)}function Fu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function zp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rf(e,n,r){return r=Es(r),r.tag=3,r.payload={element:null},r.callback=function(){Fu(e,n)},r}function jp(e){return e=Es(e),e.tag=3,e}function Bp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){zp(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){zp(n,r,o),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function I1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ga(n,r,h,!0),r=gn.current,r!==null){switch(r.tag){case 31:case 13:return Dn===null?ic():r.alternate===null&&ce===0&&(ce=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Ou?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Zf(e,o,h)),!1;case 22:return r.flags|=65536,o===Ou?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Zf(e,o,h)),!1}throw Error(a(435,r.tag))}return Zf(e,o,h),ic(),!1}if(Mt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Gh&&(e=Error(a(422),{cause:o}),ko(Rn(e,r)))):(o!==Gh&&(n=Error(a(423),{cause:o}),ko(Rn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Rn(o,r),h=Rf(e.stateNode,o,h),ef(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=Rn(f,r),el===null?el=[f]:el.push(f),ce!==4&&(ce=2),n===null)return!0;o=Rn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Rf(r.stateNode,o,e),ef(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=jp(h),Bp(h,e,r,o),ef(r,h),!1}r=r.return}while(r!==null);return!1}var If=Error(a(461)),be=!1;function qe(e,n,r,o){n.child=e===null?Fg(n,null,r,o):Ir(n,e.child,r,o)}function qp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return br(n),o=lf(e,n,r,p,f,h),E=uf(),e!==null&&!be?(cf(e,n,h),zi(e,n,h)):(Mt&&E&&qh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Hp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!zh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Gp(e,n,f,o,h)):(e=Ru(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Uf(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Mo,r(p,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Gp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Mo(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,Uf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,zi(e,n,h)}return Cf(e,n,r,o,h)}function Fp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Qp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(n,f!==null?f.cachePool:null),f!==null?Yg(n,f):sf(),Xg(n);else return o=n.lanes=536870912,Qp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Du(n,f.cachePool),Yg(n,f),bs(),n.memoizedState=null):(e!==null&&Du(n,null),sf(),bs());return qe(e,n,h,r),n.child}function Yo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Qp(e,n,r,o,h){var f=Zh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Du(n,null),sf(),Xg(n),e!==null&&ga(e,n,o,!0),n.childLanes=h,null}function Qu(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Kp(e,n,r){return Ir(n,e.child,null,r),e=Qu(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function C1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Mt){if(o.mode==="hidden")return e=Qu(n,o),n.lanes=536870912,Yo(null,e);if(af(n),(e=ee)?(e=r_(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=Dg(e),r.return=n,n.child=r,je=n,ee=null)):e=null,e===null)throw ys(n);return n.lanes=536870912,null}return Qu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(af(n),h)if(n.flags&256)n.flags&=-257,n=Kp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(be||ga(e,n,r,!1),h=(r&e.childLanes)!==0,be||h){if(o=Wt,o!==null&&(p=go(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,vr(e,p),un(o,e,p),If;ic(),n=Kp(e,n,r)}else e=f.treeContext,ee=xn(p.nextSibling),je=n,Mt=!0,ps=null,Nn=!1,e!==null&&Mg(n,e),n=Qu(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Cf(e,n,r,o,h){return br(n),r=lf(e,n,r,o,void 0,h),o=uf(),e!==null&&!be?(cf(e,n,h),zi(e,n,h)):(Mt&&o&&qh(n),n.flags|=1,qe(e,n,r,h),n.child)}function Yp(e,n,r,o,h,f){return br(n),n.updateQueue=null,r=Zg(n,o,r,h),$g(e),o=uf(),e!==null&&!be?(cf(e,n,f),zi(e,n,f)):(Mt&&o&&qh(n),n.flags|=1,qe(e,n,r,f),n.child)}function Xp(e,n,r,o,h){if(br(n),n.stateNode===null){var f=ha,p=r.contextType;typeof p=="object"&&p!==null&&(f=Be(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=wf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Wh(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Be(p):ha,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Sf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&wf.enqueueReplaceState(f,f.state,null),Ho(n,o,f,h),qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Nr(r,E);f.props=R;var z=f.context,G=r.contextType;p=ha,typeof G=="object"&&G!==null&&(p=Be(G));var K=r.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Up(n,f,o,p),vs=!1;var j=n.memoizedState;f.state=j,Ho(n,o,f,h),qo(),z=n.memoizedState,E||j!==z||vs?(typeof K=="function"&&(Sf(n,r,K,o),z=n.memoizedState),(R=vs||Vp(n,r,R,o,j,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,tf(e,n),p=n.memoizedProps,G=Nr(r,p),f.props=G,K=n.pendingProps,j=f.context,z=r.contextType,R=ha,typeof z=="object"&&z!==null&&(R=Be(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||j!==R)&&Up(n,f,o,R),vs=!1,j=n.memoizedState,f.state=j,Ho(n,o,f,h),qo();var q=n.memoizedState;p!==K||j!==q||vs||e!==null&&e.dependencies!==null&&Cu(e.dependencies)?(typeof E=="function"&&(Sf(n,r,E,o),q=n.memoizedState),(G=vs||Vp(n,r,G,o,j,q,R)||e!==null&&e.dependencies!==null&&Cu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ir(n,e.child,null,h),n.child=Ir(n,null,r,h)):qe(e,n,r,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function $p(e,n,r,o){return Tr(),n.flags|=256,qe(e,n,r,o),n.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(e){return{baseLanes:e,cachePool:zg()}}function xf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=_n),e}function Zp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mt){if(h?As(n):bs(),(e=ee)?(e=r_(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=Dg(e),r.return=n,n.child=r,je=n,ee=null)):e=null,e===null)throw ys(n);return dd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(bs(),h=n.mode,E=Yu({mode:"hidden",children:E},h),o=Er(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Df(r),o.childLanes=xf(e,p,r),n.memoizedState=Nf,Yo(null,o)):(As(n),Of(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=Mf(e,n,r)):n.memoizedState!==null?(bs(),n.child=e.child,n.flags|=128,n=null):(bs(),E=o.fallback,h=n.mode,o=Yu({mode:"visible",children:o.children},h),E=Er(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ir(n,e.child,null,r),o=n.child,o.memoizedState=Df(r),o.childLanes=xf(e,p,r),n.memoizedState=Nf,n=Yo(null,o));else if(As(n),dd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,ko({value:o,source:null,stack:null}),n=Mf(e,n,r)}else if(be||ga(e,n,r,!1),p=(r&e.childLanes)!==0,be||p){if(p=Wt,p!==null&&(o=go(p,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,vr(e,o),un(p,e,o),If;fd(E)||ic(),n=Mf(e,n,r)}else fd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ee=xn(E.nextSibling),je=n,Mt=!0,ps=null,Nn=!1,e!==null&&Mg(n,e),n=Of(n,o.children),n.flags|=4096);return n}return h?(bs(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Mi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Mi(z,E):(E=Er(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Yo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Df(r):(h=E.cachePool,h!==null?(R=Te._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=zg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=xf(e,p,r),n.memoizedState=Nf,Yo(e.child,o)):(As(n),r=e.child,e=r.sibling,r=Mi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Of(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function Mf(e,n,r){return Ir(n,e.child,null,r),e=Of(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Jp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Kh(e.return,n,r)}function Vf(e,n,r,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function Wp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=de.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,it(de,p),qe(e,n,o,r),o=Mt?Uo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jp(e,r,n);else if(e.tag===19)Jp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&ku(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Vf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ku(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Vf(n,!0,r,null,f,o);break;case"together":Vf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Rs|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ga(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Mi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Mi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Uf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Cu(e)))}function N1(e,n,r){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),_s(n,Te,e.memoizedState.cache),Tr();break;case 27:case 5:er(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:_s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,af(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(As(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Zp(e,n,r):(As(n),e=zi(e,n,r),e!==null?e.sibling:null);As(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ga(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Wp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(de,de.current),o)break;return null;case 22:return n.lanes=0,Fp(e,n,r,n.pendingProps);case 24:_s(n,Te,e.memoizedState.cache)}return zi(e,n,r)}function ty(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!Uf(e,r)&&(n.flags&128)===0)return be=!1,N1(e,n,r);be=(e.flags&131072)!==0}else be=!1,Mt&&(n.flags&1048576)!==0&&Og(n,Uo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=wr(n.elementType),n.type=e,typeof e=="function")zh(e)?(o=Nr(e,o),n.tag=1,n=Xp(null,n,e,o,r)):(n.tag=0,n=Cf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===wt){n.tag=11,n=qp(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Hp(null,n,e,o,r);break t}}throw n=se(e)||e,Error(a(306,n,""))}}return n;case 0:return Cf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Nr(o,n.pendingProps),Xp(e,n,o,h,r);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,tf(e,n),Ho(n,o,null,r);var p=n.memoizedState;if(o=p.cache,_s(n,Te,o),o!==f.cache&&Yh(n,[Te],r,!0),qo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=$p(e,n,o,r);break t}else if(o!==h){h=Rn(Error(a(424)),n),ko(h),n=$p(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ee=xn(e.firstChild),je=n,Mt=!0,ps=null,Nn=!0,r=Fg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Tr(),o===h){n=zi(e,n,r);break t}qe(e,n,o,r)}n=n.child}return n;case 26:return Ku(e,n),e===null?(r=h_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Mt||(r=n.type,e=n.pendingProps,o=cc(bt.current).createElement(r),o[_e]=n,o[Ve]=e,He(o,r,e),ve(o),n.stateNode=o):n.memoizedState=h_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return er(n),e===null&&Mt&&(o=n.stateNode=l_(n.type,n.pendingProps,bt.current),je=n,Nn=!0,h=ee,xs(n.type)?(md=h,ee=xn(o.firstChild)):ee=h),qe(e,n,n.pendingProps.children,r),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mt&&((h=o=ee)&&(o=rA(o,n.type,n.pendingProps,Nn),o!==null?(n.stateNode=o,je=n,ee=xn(o.firstChild),Nn=!1,h=!0):h=!1),h||ys(n)),er(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,ud(h,f)?o=null:p!==null&&ud(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=lf(e,n,E1,null,null,r),ul._currentValue=h),Ku(e,n),qe(e,n,o,r),n.child;case 6:return e===null&&Mt&&((e=r=ee)&&(r=aA(r,n.pendingProps,Nn),r!==null?(n.stateNode=r,je=n,ee=null,e=!0):e=!1),e||ys(n)),null;case 13:return Zp(e,n,r);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ir(n,null,o,r):qe(e,n,o,r),n.child;case 11:return qp(e,n,n.type,n.pendingProps,r);case 7:return qe(e,n,n.pendingProps,r),n.child;case 8:return qe(e,n,n.pendingProps.children,r),n.child;case 12:return qe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,_s(n,n.type,o.value),qe(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,br(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,r),n.child;case 14:return Hp(e,n,n.type,n.pendingProps,r);case 15:return Gp(e,n,n.type,n.pendingProps,r);case 19:return Wp(e,n,r);case 31:return C1(e,n,r);case 22:return Fp(e,n,r,n.pendingProps);case 24:return br(n),o=Be(Te),e===null?(h=Zh(),h===null&&(h=Wt,f=Xh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Wh(n),_s(n,Te,h)):((e.lanes&r)!==0&&(tf(e,n),Ho(n,null,null,r),qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_s(n,Te,o)):(o=f.cache,_s(n,Te,o),o!==h.cache&&Yh(n,[Te],r,!0))),qe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ji(e){e.flags|=4}function kf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Iy())e.flags|=8192;else throw Rr=Ou,Jh}else e.flags&=-16777217}function ey(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p_(n))if(Iy())e.flags|=8192;else throw Rr=Ou,Jh}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,Ia|=n)}function Xo(e,n){if(!Mt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function D1(e,n,r){var o=n.pendingProps;switch(Hh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ki(Te),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ma(n)?ji(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ji(n),f!==null?(ne(n),ey(n,f)):(ne(n),kf(n,h,null,o,r))):f?f!==e.memoizedState?(ji(n),ne(n),ey(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ji(n),ne(n),kf(n,h,e,o,r)),null;case 27:if(Qr(n),r=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=rt.current,ma(n)?Vg(n):(e=l_(h,o,r),n.stateNode=e,ji(n))}return ne(n),null;case 5:if(Qr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(f=rt.current,ma(n))Vg(n);else{var p=cc(bt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[_e]=n,f[Ve]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ji(n)}}return ne(n),kf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,ma(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Zy(e.nodeValue,r)),e||ys(n,!0)}else e=cc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ne(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ma(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[_e]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else r=Fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ma(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_e]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Xu(n,n.updateQueue),ne(n),null);case 4:return re(),e===null&&sd(n.stateNode.containerInfo),ne(n),null;case 10:return ki(n.type),ne(n),null;case 19:if(Y(de),o=n.memoizedState,o===null)return ne(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Xo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ku(e),f!==null){for(n.flags|=128,Xo(o,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Ng(r,e),r=r.sibling;return it(de,de.current&1|2),Mt&&Vi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Je()>tc&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304)}else{if(!h)if(e=ku(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Mt)return ne(n),null}else 2*Je()-o.renderingStartTime>tc&&r!==536870912&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,r=de.current,it(de,h?r&1|2:r&1),Mt&&Vi(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return pn(n),rf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&Xu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Y(Sr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ki(Te),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function x1(e,n){switch(Hh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ki(Te),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qr(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(a(340));Tr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Tr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(de),null;case 4:return re(),null;case 10:return ki(n.type),null;case 22:case 23:return pn(n),rf(),e!==null&&Y(Sr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ki(Te),null;case 25:return null;default:return null}}function ny(e,n){switch(Hh(n),n.tag){case 3:ki(Te),re();break;case 26:case 27:case 5:Qr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:Y(de);break;case 10:ki(n.type);break;case 22:case 23:pn(n),rf(),e!==null&&Y(Sr);break;case 24:ki(Te)}}function $o(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){Kt(n,n.return,E)}}function Ss(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=r,z=E;try{z()}catch(G){Kt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Kt(n,n.return,G)}}function iy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Kg(n,r)}catch(o){Kt(e,e.return,o)}}}function sy(e,n,r){r.props=Nr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Kt(e,n,o)}}function Zo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Kt(e,n,h)}}function _i(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Kt(e,n,h)}else r.current=null}function ry(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Kt(e,e.return,h)}}function Lf(e,n,r){try{var o=e.stateNode;W1(o,e.type,r,n),o[Ve]=n}catch(h){Kt(e,e.return,h)}}function ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function Pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&xs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(zf(e,n,r),e=e.sibling;e!==null;)zf(e,n,r),e=e.sibling}function $u(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&xs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for($u(e,n,r),e=e.sibling;e!==null;)$u(e,n,r),e=e.sibling}function oy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,r),n[_e]=e,n[Ve]=r}catch(f){Kt(e,e.return,f)}}var Bi=!1,Se=!1,jf=!1,ly=typeof WeakSet=="function"?WeakSet:Set,ke=null;function O1(e,n){if(e=e.containerInfo,od=yc,e=Eg(e),Oh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,R=-1,z=0,G=0,K=e,j=null;e:for(;;){for(var q;K!==r||h!==0&&K.nodeType!==3||(E=p+h),K!==f||o!==0&&K.nodeType!==3||(R=p+o),K.nodeType===3&&(p+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===r&&++z===h&&(E=p),j===f&&++G===o&&(R=p),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(ld={focusedElem:e,selectionRange:r},yc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ot=Nr(r.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Kt(r,r.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)hd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function uy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Hi(e,r),o&4&&$o(5,r);break;case 1:if(Hi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Kt(r,r.return,p)}else{var h=Nr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Kt(r,r.return,p)}}o&64&&iy(r),o&512&&Zo(r,r.return);break;case 3:if(Hi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Kg(e,n)}catch(p){Kt(r,r.return,p)}}break;case 27:n===null&&o&4&&oy(r);case 26:case 5:Hi(e,r),n===null&&o&4&&ry(r),o&512&&Zo(r,r.return);break;case 12:Hi(e,r);break;case 31:Hi(e,r),o&4&&fy(e,r);break;case 13:Hi(e,r),o&4&&dy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=B1.bind(null,r),oA(e,r))));break;case 22:if(o=r.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||Se,h=Bi;var f=Se;Bi=o,(Se=n)&&!f?Gi(e,r,(r.subtreeFlags&8772)!==0):Hi(e,r),Bi=h,Se=f}break;case 30:break;default:Hi(e,r)}}function cy(e){var n=e.alternate;n!==null&&(e.alternate=null,cy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Zr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,rn=!1;function qi(e,n,r){for(r=r.child;r!==null;)hy(e,n,r),r=r.sibling}function hy(e,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Ln,r)}catch{}switch(r.tag){case 26:Se||_i(r,n),qi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Se||_i(r,n);var o=oe,h=rn;xs(r.type)&&(oe=r.stateNode,rn=!1),qi(e,n,r),al(r.stateNode),oe=o,rn=h;break;case 5:Se||_i(r,n);case 6:if(o=oe,h=rn,oe=null,qi(e,n,r),oe=o,rn=h,oe!==null)if(rn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{oe.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:oe!==null&&(rn?(e=oe,i_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ua(e)):i_(oe,r.stateNode));break;case 4:o=oe,h=rn,oe=r.stateNode.containerInfo,rn=!0,qi(e,n,r),oe=o,rn=h;break;case 0:case 11:case 14:case 15:Ss(2,r,n),Se||Ss(4,r,n),qi(e,n,r);break;case 1:Se||(_i(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&sy(r,n,o)),qi(e,n,r);break;case 21:qi(e,n,r);break;case 22:Se=(o=Se)||r.memoizedState!==null,qi(e,n,r),Se=o;break;default:qi(e,n,r)}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(r){Kt(n,n.return,r)}}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(r){Kt(n,n.return,r)}}function M1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ly),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ly),n;default:throw Error(a(435,e.tag))}}function Zu(e,n){var r=M1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=q1.bind(null,e,o);o.then(h,h)}})}function an(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(xs(E.type)){oe=E.stateNode,rn=!1;break t}break;case 5:oe=E.stateNode,rn=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(oe===null)throw Error(a(160));hy(f,p,h),oe=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)my(n,e),n=n.sibling}var Kn=null;function my(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(Ss(3,e,e.return),$o(3,e),Ss(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(Se||r===null||_i(r,r.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Kn;if(an(n,e),on(e),o&512&&(Se||r===null||_i(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,r),f[_e]=e,ve(f),o=f;break t;case"link":var p=m_("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),He(f,o,r),h.head.appendChild(f);break;case"meta":if(p=m_("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=h.createElement(o),He(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else g_(h,e.type,e.stateNode);else e.stateNode=d_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?g_(h,e.type,e.stateNode):d_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Lf(e,e.memoizedProps,r.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(Se||r===null||_i(r,r.return)),r!==null&&o&4&&Lf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(Se||r===null||_i(r,r.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(ot){Kt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Lf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(jf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ot){Kt(e,e.return,ot)}}break;case 3:if(dc=null,h=Kn,Kn=hc(n.containerInfo),an(n,e),Kn=h,on(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(ot){Kt(e,e.return,ot)}jf&&(jf=!1,gy(e));break;case 4:o=Kn,Kn=hc(e.stateNode.containerInfo),an(n,e),on(e),Kn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Wu=Je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=Bi,G=Se;if(Bi=z||h,Se=G||R,an(n,e),Se=G,Bi=z,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||Bi||Se||Dr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Kt(R,R.return,ot)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){Kt(R,R.return,ot)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?s_(q,!0):s_(R.stateNode,!1)}catch(ot){Kt(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Zu(e,r))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(ay(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Pf(e);$u(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(sn(p,""),r.flags&=-33);var E=Pf(e);$u(e,E,p);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Pf(e);zf(e,z,R);break;default:throw Error(a(161))}}catch(G){Kt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function gy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)uy(e,n.alternate,n),n=n.sibling}function Dr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ss(4,n,n.return),Dr(n);break;case 1:_i(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&sy(n,n.return,r),Dr(n);break;case 27:al(n.stateNode);case 26:case 5:_i(n,n.return),Dr(n);break;case 22:n.memoizedState===null&&Dr(n);break;case 30:Dr(n);break;default:Dr(n)}e=e.sibling}}function Gi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,r),$o(4,f);break;case 1:if(Gi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Kt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Qg(R[h],E)}catch(z){Kt(o,o.return,z)}}r&&p&64&&iy(f),Zo(f,f.return);break;case 27:oy(f);case 26:case 5:Gi(h,f,r),r&&o===null&&p&4&&ry(f),Zo(f,f.return);break;case 12:Gi(h,f,r);break;case 31:Gi(h,f,r),r&&p&4&&fy(h,f);break;case 13:Gi(h,f,r),r&&p&4&&dy(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,r),Zo(f,f.return);break;case 30:break;default:Gi(h,f,r)}n=n.sibling}}function Bf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Lo(r))}function qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e))}function Yn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(e,n,r,o),n=n.sibling}function py(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,r,o),h&2048&&$o(9,n);break;case 1:Yn(e,n,r,o);break;case 3:Yn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){Yn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else Yn(e,n,r,o);break;case 31:Yn(e,n,r,o);break;case 13:Yn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,r,o):Jo(e,n):f._visibility&2?Yn(e,n,r,o):(f._visibility|=2,Sa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Bf(p,n);break;case 24:Yn(e,n,r,o),h&2048&&qf(n.alternate,n);break;default:Yn(e,n,r,o)}}function Sa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=r,R=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Sa(f,p,E,R,h),$o(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Sa(f,p,E,R,h):Jo(f,p):(G._visibility|=2,Sa(f,p,E,R,h)),h&&z&2048&&Bf(p.alternate,p);break;case 24:Sa(f,p,E,R,h),h&&z&2048&&qf(p.alternate,p);break;default:Sa(f,p,E,R,h)}n=n.sibling}}function Jo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Jo(r,o),h&2048&&Bf(o.alternate,o);break;case 24:Jo(r,o),h&2048&&qf(o.alternate,o);break;default:Jo(r,o)}n=n.sibling}}var Wo=8192;function wa(e,n,r){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)yy(e,n,r),e=e.sibling}function yy(e,n,r){switch(e.tag){case 26:wa(e,n,r),e.flags&Wo&&e.memoizedState!==null&&vA(r,Kn,e.memoizedState,e.memoizedProps);break;case 5:wa(e,n,r);break;case 3:case 4:var o=Kn;Kn=hc(e.stateNode.containerInfo),wa(e,n,r),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Wo,Wo=16777216,wa(e,n,r),Wo=o):wa(e,n,r));break;default:wa(e,n,r)}}function _y(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function tl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ke=o,Ey(o,e)}_y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vy(e),e=e.sibling}function vy(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&Ss(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ju(e)):tl(e);break;default:tl(e)}}function Ju(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ke=o,Ey(o,e)}_y(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ss(8,n,n.return),Ju(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Ju(n));break;default:Ju(n)}e=e.sibling}}function Ey(e,n){for(;ke!==null;){var r=ke;switch(r.tag){case 0:case 11:case 15:Ss(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Lo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,ke=o;else t:for(r=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if(cy(o),o===r){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var V1={getCacheForType:function(e){var n=Be(Te),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Be(Te).controller.signal}},U1=typeof WeakMap=="function"?WeakMap:Map,qt=0,Wt=null,Rt=null,Ct=0,Qt=0,yn=null,ws=!1,Ra=!1,Hf=!1,Fi=0,ce=0,Rs=0,xr=0,Gf=0,_n=0,Ia=0,el=null,ln=null,Ff=!1,Wu=0,Ty=0,tc=1/0,ec=null,Is=null,Oe=0,Cs=null,Ca=null,Qi=0,Qf=0,Kf=null,Ay=null,nl=0,Yf=null;function vn(){return(qt&2)!==0&&Ct!==0?Ct&-Ct:F.T!==null?td():nu()}function by(){if(_n===0)if((Ct&536870912)===0||Mt){var e=sr;sr<<=1,(sr&3932160)===0&&(sr=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function un(e,n,r){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Na(e,0),Ns(e,Ct,_n,!1)),rr(e,r),((qt&2)===0||e!==Wt)&&(e===Wt&&((qt&2)===0&&(xr|=r),ce===4&&Ns(e,Ct,_n,!1)),vi(e))}function Sy(e,n,r){if((qt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Pn(e,n),h=o?P1(e,n):$f(e,n,!0),f=o;do{if(h===0){Ra&&!o&&Ns(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!k1(r)){h=$f(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=el;var R=E.current.memoizedState.isDehydrated;if(R&&(Na(E,p).flags|=256),p=$f(E,p,!1),p!==2){if(Hf&&!R){E.errorRecoveryDisabledLanes|=f,xr|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Na(e,0),Ns(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ns(o,n,_n,!ws);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wu+300-Je(),10<h)){if(Ns(o,n,_n,!ws),ei(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=e_(wy.bind(null,o,r,ln,ec,Ff,n,_n,xr,Ia,ws,f,"Throttled",-0,0),h);break t}wy(o,r,ln,ec,Ff,n,_n,xr,Ia,ws,f,null,-0,0)}}break}while(!0);vi(e)}function wy(e,n,r,o,h,f,p,E,R,z,G,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},yy(n,f,K);var ot=(f&62914560)===f?Wu-Je():(f&4194048)===f?Ty-Je():0;if(ot=EA(K,ot),ot!==null){Qi=f,e.cancelPendingCommit=ot(My.bind(null,e,n,f,r,o,h,p,E,R,G,K,null,j,q)),Ns(e,f,p,!z);return}}My(e,n,f,r,o,h,p,E,R)}function k1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(e,n,r,o){n&=~Gf,n&=~xr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&ar(e,r,n)}function nc(){return(qt&6)===0?(il(0),!1):!0}function Xf(){if(Rt!==null){if(Qt===0)var e=Rt.return;else e=Rt,Ui=Ar=null,hf(e),va=null,zo=0,e=Rt;for(;e!==null;)ny(e.alternate,e),e=e.return;Rt=null}}function Na(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,nA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Qi=0,Xf(),Wt=e,Rt=r=Mi(e.current,null),Ct=n,Qt=0,yn=null,ws=!1,Ra=Pn(e,n),Hf=!1,Ia=_n=Gf=xr=Rs=ce=0,ln=el=null,Ff=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Fi=n,bu(),r}function Ry(e,n){At=null,F.H=Ko,n===_a||n===xu?(n=qg(),Qt=3):n===Jh?(n=qg(),Qt=4):Qt=n===If?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,Rt===null&&(ce=1,Fu(e,Rn(n,e.current)))}function Iy(){var e=gn.current;return e===null?!0:(Ct&4194048)===Ct?Dn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===Dn:!1}function Cy(){var e=F.H;return F.H=Ko,e===null?Ko:e}function Ny(){var e=F.A;return F.A=V1,e}function ic(){ce=4,ws||(Ct&4194048)!==Ct&&gn.current!==null||(Ra=!0),(Rs&134217727)===0&&(xr&134217727)===0||Wt===null||Ns(Wt,Ct,_n,!1)}function $f(e,n,r){var o=qt;qt|=2;var h=Cy(),f=Ny();(Wt!==e||Ct!==n)&&(ec=null,Na(e,n)),n=!1;var p=ce;t:do try{if(Qt!==0&&Rt!==null){var E=Rt,R=yn;switch(Qt){case 8:Xf(),p=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var z=Qt;if(Qt=0,yn=null,Da(e,E,R,z),r&&Ra){p=0;break t}break;default:z=Qt,Qt=0,yn=null,Da(e,E,R,z)}}L1(),p=ce;break}catch(G){Ry(e,G)}while(!0);return n&&e.shellSuspendCounter++,Ui=Ar=null,qt=o,F.H=h,F.A=f,Rt===null&&(Wt=null,Ct=0,bu()),p}function L1(){for(;Rt!==null;)Dy(Rt)}function P1(e,n){var r=qt;qt|=2;var o=Cy(),h=Ny();Wt!==e||Ct!==n?(ec=null,tc=Je()+500,Na(e,n)):Ra=Pn(e,n);t:do try{if(Qt!==0&&Rt!==null){n=Rt;var f=yn;e:switch(Qt){case 1:Qt=0,yn=null,Da(e,n,f,1);break;case 2:case 9:if(jg(f)){Qt=0,yn=null,xy(n);break}n=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),vi(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:jg(f)?(Qt=0,yn=null,xy(n)):(Qt=0,yn=null,Da(e,n,f,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var E=Rt;if(p?p_(p):E.stateNode.complete){Qt=0,yn=null;var R=E.sibling;if(R!==null)Rt=R;else{var z=E.return;z!==null?(Rt=z,sc(z)):Rt=null}break e}}Qt=0,yn=null,Da(e,n,f,5);break;case 6:Qt=0,yn=null,Da(e,n,f,6);break;case 8:Xf(),ce=6;break t;default:throw Error(a(462))}}z1();break}catch(G){Ry(e,G)}while(!0);return Ui=Ar=null,F.H=o,F.A=h,qt=r,Rt!==null?0:(Wt=null,Ct=0,bu(),ce)}function z1(){for(;Rt!==null&&!wh();)Dy(Rt)}function Dy(e){var n=ty(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?sc(e):Rt=n}function xy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Yp(r,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=Yp(r,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:hf(n);default:ny(r,n),n=Rt=Ng(n,Fi),n=ty(r,n,Fi)}e.memoizedProps=e.pendingProps,n===null?sc(e):Rt=n}function Da(e,n,r,o){Ui=Ar=null,hf(n),va=null,zo=0;var h=n.return;try{if(I1(e,h,n,r,Ct)){ce=1,Fu(e,Rn(r,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ce=1,Fu(e,Rn(r,e.current)),Rt=null;return}n.flags&32768?(Mt||o===1?e=!0:Ra||(Ct&536870912)!==0?e=!1:(ws=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Oy(n,e)):sc(n)}function sc(e){var n=e;do{if((n.flags&32768)!==0){Oy(n,ws);return}e=n.return;var r=D1(n.alternate,n,Fi);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ce===0&&(ce=5)}function Oy(e,n){do{var r=x1(e.alternate,e);if(r!==null){r.flags&=32767,Rt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=r}while(e!==null);ce=6,Rt=null}function My(e,n,r,o,h,f,p,E,R){e.cancelPendingCommit=null;do rc();while(Oe!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Lh,Ch(e,r,f,p,E,R),e===Wt&&(Rt=Wt=null,Ct=0),Ca=n,Cs=e,Qi=r,Qf=f,Kf=h,Ay=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,H1(rs,function(){return Py(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=nt.p,nt.p=2,p=qt,qt|=4;try{O1(e,n,r)}finally{qt=p,nt.p=h,F.T=o}}Oe=1,Vy(),Uy(),ky()}}function Vy(){if(Oe===1){Oe=0;var e=Cs,n=Ca,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var o=nt.p;nt.p=2;var h=qt;qt|=4;try{my(n,e);var f=ld,p=Eg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&vg(E.ownerDocument.documentElement,E)){if(R!==null&&Oh(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,mt=Math.min(R.start,ot),Zt=R.end===void 0?mt:Math.min(R.end,ot);!q.extend&&mt>Zt&&(p=Zt,Zt=mt,mt=p);var U=_g(E,mt),D=_g(E,Zt);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=K.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),mt>Zt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}yc=!!od,ld=od=null}finally{qt=h,nt.p=o,F.T=r}}e.current=n,Oe=2}}function Uy(){if(Oe===2){Oe=0;var e=Cs,n=Ca,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var o=nt.p;nt.p=2;var h=qt;qt|=4;try{uy(e,n.alternate,n)}finally{qt=h,nt.p=o,F.T=r}}Oe=3}}function ky(){if(Oe===4||Oe===3){Oe=0,Xl();var e=Cs,n=Ca,r=Qi,o=Ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Ca=Cs=null,Ly(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Is=null),Ni(r),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{F.T=n,nt.p=h}}(Qi&3)!==0&&rc(),vi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Yf?nl++:(nl=0,Yf=e):nl=0,il(0)}}function Ly(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Lo(n)))}function rc(){return Vy(),Uy(),ky(),Py()}function Py(){if(Oe!==5)return!1;var e=Cs,n=Qf;Qf=0;var r=Ni(Qi),o=F.T,h=nt.p;try{nt.p=32>r?32:r,F.T=null,r=Kf,Kf=null;var f=Cs,p=Qi;if(Oe=0,Ca=Cs=null,Qi=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,vy(f.current),py(f,f.current,p,r),qt=E,il(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{nt.p=h,F.T=o,Ly(e,n)}}function zy(e,n,r){n=Rn(r,n),n=Rf(e.stateNode,n,2),e=Ts(e,n,2),e!==null&&(rr(e,2),vi(e))}function Kt(e,n,r){if(e.tag===3)zy(e,e,r);else for(;n!==null;){if(n.tag===3){zy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Is===null||!Is.has(o))){e=Rn(r,e),r=jp(2),o=Ts(n,r,2),o!==null&&(Bp(r,o,n,e),rr(o,2),vi(o));break}}n=n.return}}function Zf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new U1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Hf=!0,h.add(r),e=j1.bind(null,e,n,r),n.then(e,e))}function j1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Wt===e&&(Ct&r)===r&&(ce===4||ce===3&&(Ct&62914560)===Ct&&300>Je()-Wu?(qt&2)===0&&Na(e,0):Gf|=r,Ia===Ct&&(Ia=0)),vi(e)}function jy(e,n){n===0&&(n=eu()),e=vr(e,n),e!==null&&(rr(e,n),vi(e))}function B1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),jy(e,r)}function q1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),jy(e,r)}function H1(e,n){return xe(e,n)}var ac=null,xa=null,Jf=!1,oc=!1,Wf=!1,Ds=0;function vi(e){e!==xa&&e.next===null&&(xa===null?ac=xa=e:xa=xa.next=e),oc=!0,Jf||(Jf=!0,F1())}function il(e,n){if(!Wf&&oc){Wf=!0;do for(var r=!1,o=ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Gy(o,f))}else f=Ct,f=ei(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(r=!0,Gy(o,f));o=o.next}while(r);Wf=!1}}function G1(){By()}function By(){oc=Jf=!1;var e=0;Ds!==0&&eA()&&(e=Ds);for(var n=Je(),r=null,o=ac;o!==null;){var h=o.next,f=qy(o,n);f===0?(o.next=null,r===null?ac=h:r.next=h,h===null&&(xa=r)):(r=o,(e!==0||(f&3)!==0)&&(oc=!0)),o=h}Oe!==0&&Oe!==5||il(e),Ds!==0&&(Ds=0)}function qy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-he(f),E=1<<p,R=h[p];R===-1?((E&r)===0||(E&o)!==0)&&(h[p]=Ih(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,r=Ct,r=ei(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ss(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Pn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&ss(o),Ni(r)){case 2:case 8:r=fo;break;case 32:r=rs;break;case 268435456:r=$l;break;default:r=rs}return o=Hy.bind(null,e),r=xe(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&ss(o),e.callbackPriority=2,e.callbackNode=null,2}function Hy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(rc()&&e.callbackNode!==r)return null;var o=Ct;return o=ei(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Sy(e,o,n),qy(e,Je()),e.callbackNode!=null&&e.callbackNode===r?Hy.bind(null,e):null)}function Gy(e,n){if(rc())return null;Sy(e,n,!0)}function F1(){iA(function(){(qt&6)!==0?xe(ho,G1):By()})}function td(){if(Ds===0){var e=pa;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Ds=e}return Ds}function Fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ea(""+e)}function Qy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Q1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Fy((h[Ve]||null).action),p=o.submitter;p&&(n=(n=p[Ve]||null)?Fy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new fi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ds!==0){var R=p?Qy(h,p):new FormData(h);Ef(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?Qy(h,p):new FormData(h),Ef(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ed=0;ed<kh.length;ed++){var nd=kh[ed],K1=nd.toLowerCase(),Y1=nd[0].toUpperCase()+nd.slice(1);Qn(K1,"on"+Y1)}Qn(bg,"onAnimationEnd"),Qn(Sg,"onAnimationIteration"),Qn(wg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(c1,"onTransitionRun"),Qn(h1,"onTransitionStart"),Qn(f1,"onTransitionCancel"),Qn(Rg,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function Ky(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Au(G)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Au(G)}h.currentTarget=null,f=R}}}}function It(e,n){var r=n[$r];r===void 0&&(r=n[$r]=new Set);var o=e+"__bubble";r.has(o)||(Yy(n,e,2,!1),r.add(o))}function id(e,n,r){var o=0;n&&(o|=4),Yy(r,e,o,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function sd(e){if(!e[lc]){e[lc]=!0,po.forEach(function(r){r!=="selectionchange"&&(X1.has(r)||id(r,!1,e),id(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,id("selectionchange",!1,n))}}function Yy(e,n,r,o){switch(b_(n)){case 2:var h=bA;break;case 8:h=SA;break;default:h=vd}r=h.bind(null,n,r,e),h=void 0,!hr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function rd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ri(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}hs(function(){var z=f,G=An(r),K=[];t:{var j=Ig.get(e);if(j!==void 0){var q=fi,ot=e;switch(e){case"keypress":if(dr(r)===0)break t;case"keydown":case"keyup":q=vu;break;case"focusin":ot="focus",q=gr;break;case"focusout":ot="blur",q=gr;break;case"beforeblur":case"afterblur":q=gr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case bg:case Sg:case wg:q=fu;break;case Rg:q=T;break;case"scroll":case"scrollend":q=Co;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Oi;break;case"toggle":case"beforetoggle":q=Tt}var mt=(n&4)!==0,Zt=!mt&&(e==="scroll"||e==="scrollend"),U=mt?j!==null?j+"Capture":null:j;mt=[];for(var D=z,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||U===null||(Q=qn(D,U),Q!=null&&mt.push(rl(D,Q,P))),Zt)break;D=D.return}0<mt.length&&(j=new q(j,ot,null,r,G),K.push({event:j,listeners:mt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&r!==wo&&(ot=r.relatedTarget||r.fromElement)&&(ri(ot)||ot[ii]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=r.relatedTarget||r.toElement,q=z,ot=ot?ri(ot):null,ot!==null&&(Zt=c(ot),mt=ot.tag,ot!==Zt||mt!==5&&mt!==27&&mt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(mt=No,Q="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Oi,Q="onPointerLeave",U="onPointerEnter",D="pointer"),Zt=q==null?j:hn(q),P=ot==null?j:hn(ot),j=new mt(Q,D+"leave",q,r,G),j.target=Zt,j.relatedTarget=P,Q=null,ri(G)===z&&(mt=new mt(U,D+"enter",ot,r,G),mt.target=P,mt.relatedTarget=Zt,Q=mt),Zt=Q,q&&ot)e:{for(mt=$1,U=q,D=ot,P=0,Q=U;Q;Q=mt(Q))P++;Q=0;for(var ct=D;ct;ct=mt(ct))Q++;for(;0<P-Q;)U=mt(U),P--;for(;0<Q-P;)D=mt(D),Q--;for(;P--;){if(U===D||D!==null&&U===D.alternate){mt=U;break e}U=mt(U),D=mt(D)}mt=null}else mt=null;q!==null&&Xy(K,j,q,mt,!1),ot!==null&&Zt!==null&&Xy(K,Zt,ot,mt,!0)}}t:{if(j=z?hn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Pt=fg;else if(cg(j))if(dg)Pt=o1;else{Pt=r1;var ut=s1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ta(z.elementType)&&(Pt=fg):Pt=a1;if(Pt&&(Pt=Pt(e,z))){hg(K,Pt,r,G);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Ao(j,"number",j.value)}switch(ut=z?hn(z):window,e){case"focusin":(cg(ut)||ut.contentEditable==="true")&&(la=ut,Mh=z,Vo=null);break;case"focusout":Vo=Mh=la=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,Tg(K,r,G);break;case"selectionchange":if(u1)break;case"keydown":case"keyup":Tg(K,r,G)}var St;if(Bt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else oa?pr(e,r)&&(Nt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Nt="onCompositionStart");Nt&&(gi&&r.locale!=="ko"&&(oa||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&oa&&(St=Io()):(hi=G,Ro="value"in hi?hi.value:hi.textContent,oa=!0)),ut=uc(z,Nt),0<ut.length&&(Nt=new mi(Nt,e,null,r,G),K.push({event:Nt,listeners:ut}),St?Nt.data=St:(St=aa(r),St!==null&&(Nt.data=St)))),(St=Sn?t1(e,r):e1(e,r))&&(Nt=uc(z,"onBeforeInput"),0<Nt.length&&(ut=new mi("onBeforeInput","beforeinput",null,r,G),K.push({event:ut,listeners:Nt}),ut.data=St)),Q1(K,e,z,r,G)}Ky(K,n)})}function rl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function uc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,r),h!=null&&o.unshift(rl(e,h,f)),h=qn(e,n),h!=null&&o.push(rl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function $1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xy(e,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=qn(r,f),z!=null&&p.unshift(rl(r,z,R))):h||(z=qn(r,f),z!=null&&p.push(rl(r,z,R)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var Z1=/\r\n?/g,J1=/\u0000|\uFFFD/g;function $y(e){return(typeof e=="string"?e:""+e).replace(Z1,`
`).replace(J1,"")}function Zy(e,n){return n=$y(n),$y(e)===n}function $t(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,r,o);break;case"style":So(e,o,f);break;case"data":if(n!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ea(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ea(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ea(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":It("beforetoggle",e),It("toggle",e),Jr(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Jr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=uu.get(r)||r,Jr(e,r,o))}}function ad(e,n,r,o,h,f){switch(r){case"style":So(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Jr(e,r,o)}}}function He(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,f,p,r,null)}}h&&$t(e,n,"srcSet",r.srcSet,r,null),o&&$t(e,n,"src",r.src,r,null);return;case"input":It("invalid",e);var E=f=p=h=null,R=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:$t(e,n,o,G,r,null)}}au(e,f,E,R,z,p,h,!1);return;case"select":It("invalid",e),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:$t(e,n,h,E,r,null)}n=f,r=p,e.multiple=!!o,n!=null?os(e,!!o,n,!1):r!=null&&os(e,!!o,r,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(e,n,p,E,r,null)}ls(e,o,h,f);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(o=r[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$t(e,n,R,o,r,null)}return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<sl.length;o++)It(sl[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,z,o,r,null)}return;default:if(ta(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&ad(e,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&$t(e,n,E,o,r,null))}function W1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,z=null,G=null;for(q in r){var K=r[q];if(r.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=K;default:o.hasOwnProperty(q)||$t(e,n,q,null,o,K)}}for(var j in o){var q=o[j];if(K=r[j],o.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&$t(e,n,j,q,o,K)}}Wr(e,p,E,R,z,G,f,h);return;case"select":q=p=E=j=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&$t(e,n,h,f,o,R)}n=E,r=p,o=q,j!=null?os(e,!!r,j,!1):!!o!=!!r&&(n!=null?os(e,!!r,n,!0):os(e,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&$t(e,n,p,h,o,f)}ou(e,j,q);return;case"option":for(var ot in r)if(j=r[ot],r.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:$t(e,n,ot,null,o,j)}for(R in o)if(j=o[R],q=r[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null))switch(R){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:$t(e,n,R,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)j=r[mt],r.hasOwnProperty(mt)&&j!=null&&!o.hasOwnProperty(mt)&&$t(e,n,mt,null,o,j);for(z in o)if(j=o[z],q=r[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:$t(e,n,z,j,o,q)}return;default:if(ta(n)){for(var Zt in r)j=r[Zt],r.hasOwnProperty(Zt)&&j!==void 0&&!o.hasOwnProperty(Zt)&&ad(e,n,Zt,void 0,o,j);for(G in o)j=o[G],q=r[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||ad(e,n,G,j,o,q);return}}for(var U in r)j=r[U],r.hasOwnProperty(U)&&j!=null&&!o.hasOwnProperty(U)&&$t(e,n,U,null,o,j);for(K in o)j=o[K],q=r[K],!o.hasOwnProperty(K)||j===q||j==null&&q==null||$t(e,n,K,j,o,q)}function Jy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Jy(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],z=R.startTime;if(z>E)break;var G=R.transferSize,K=R.initiatorType;G&&Jy(K)&&(R=R.responseEnd,p+=G*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var od=null,ld=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Wy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ud(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cd=null;function eA(){var e=window.event;return e&&e.type==="popstate"?e===cd?!1:(cd=e,!0):(cd=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,nA=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,iA=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(e){return n_.resolve(null).then(e).catch(sA)}:e_;function sA(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function i_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ua(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")al(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,al(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&al(e.ownerDocument.body);r=h}while(r);Ua(n)}function s_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function hd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":hd(r),Zr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function rA(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function aA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=xn(e.nextSibling),e===null))return null;return e}function r_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=xn(e.nextSibling),e===null))return null;return e}function fd(e){return e.data==="$?"||e.data==="$~"}function dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function oA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var md=null;function a_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return xn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function o_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function l_(e,n,r){switch(n=cc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function al(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Zr(e)}var On=new Map,u_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=nt.d;nt.d={f:lA,r:uA,D:cA,C:hA,L:fA,m:dA,X:gA,S:mA,M:pA};function lA(){var e=Ki.f(),n=nc();return e||n}function uA(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?Rp(n):Ki.r(e)}var Oa=typeof document>"u"?null:document;function c_(e,n,r){var o=Oa;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),u_.has(h)||(u_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function cA(e){Ki.D(e),c_("dns-prefetch",e,null)}function hA(e,n){Ki.C(e,n),c_("preconnect",e,n)}function fA(e,n,r){Ki.L(e,n,r);var o=Oa;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+nn(r.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Ma(e);break;case"script":f=Va(e)}On.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),On.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ol(f))||n==="script"&&o.querySelector(ll(f))||(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function dA(e,n){Ki.m(e,n);var r=Oa;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(e)}if(!On.has(f)&&(e=b({rel:"modulepreload",href:e},n),On.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ll(f)))return}o=r.createElement("link"),He(o,"link",e),ve(o),r.head.appendChild(o)}}}function mA(e,n,r){Ki.S(e,n,r);var o=Oa;if(o&&e){var h=ai(o).hoistableStyles,f=Ma(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(ol(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=On.get(f))&&gd(e,r);var R=p=o.createElement("link");ve(R),He(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function gA(e,n){Ki.X(e,n);var r=Oa;if(r&&e){var o=ai(r).hoistableScripts,h=Va(e),f=o.get(h);f||(f=r.querySelector(ll(h)),f||(e=b({src:e,async:!0},n),(n=On.get(h))&&pd(e,n),f=r.createElement("script"),ve(f),He(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function pA(e,n){Ki.M(e,n);var r=Oa;if(r&&e){var o=ai(r).hoistableScripts,h=Va(e),f=o.get(h);f||(f=r.querySelector(ll(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=On.get(h))&&pd(e,n),f=r.createElement("script"),ve(f),He(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function h_(e,n,r,o){var h=(h=bt.current)?hc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ma(r.href),r=ai(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ma(r.href);var f=ai(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ol(e)))&&!f._p&&(p.instance=f,p.state.loading=5),On.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(e,r),f||yA(h,e,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(r),r=ai(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ma(e){return'href="'+nn(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function f_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function yA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",r),ve(n),e.head.appendChild(n))}function Va(e){return'[src="'+nn(e)+'"]'}function ll(e){return"script[async]"+e}function d_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(r.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),He(o,"style",h),fc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ma(r.href);var f=e.querySelector(ol(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=f_(r),(h=On.get(h))&&gd(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),He(f,"link",o),n.state.loading|=4,fc(f,r.precedence,e),n.instance=f;case"script":return f=Va(r.src),(h=e.querySelector(ll(f)))?(n.instance=h,ve(h),h):(o=r,(h=On.get(f))&&(o=b({},r),pd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,r.precedence,e));return n.instance}function fc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function m_(e,n,r){if(dc===null){var o=new Map,h=dc=new Map;h.set(r,o)}else h=dc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[si]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function g_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function _A(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function vA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ma(o.href),f=n.querySelector(ol(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,ve(f);return}f=n.ownerDocument||n,o=f_(o),(h=On.get(h))&&gd(o,h),f=f.createElement("link"),ve(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),He(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=mc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var yd=0;function EA(e,n){return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&yd===0&&(yd=62500*tA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>yd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(TA,e),gc=null,mc.call(e))}function TA(e,n){if(!(n.state.loading&4)){var r=gc.get(e);if(r)var o=r.get(null);else{r=new Map,gc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ul={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function AA(e,n,r,o,h,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function y_(e,n,r,o,h,f,p,E,R,z,G,K){return e=new AA(e,n,r,p,R,z,G,K,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=Xh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Wh(f),e}function __(e){return e?(e=ha,e):ha}function v_(e,n,r,o,h,f){h=__(h),o.context===null?o.context=h:o.pendingContext=h,o=Es(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Ts(e,o,n),r!==null&&(un(r,e,n),Bo(r,e,n))}function E_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function _d(e,n){E_(e,n),(e=e.alternate)&&E_(e,n)}function T_(e){if(e.tag===13||e.tag===31){var n=vr(e,67108864);n!==null&&un(n,e,67108864),_d(e,67108864)}}function A_(e){if(e.tag===13||e.tag===31){var n=vn();n=or(n);var r=vr(e,n);r!==null&&un(r,e,n),_d(e,n)}}var yc=!0;function bA(e,n,r,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=2,vd(e,n,r,o)}finally{nt.p=f,F.T=h}}function SA(e,n,r,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=8,vd(e,n,r,o)}finally{nt.p=f,F.T=h}}function vd(e,n,r,o){if(yc){var h=Ed(o);if(h===null)rd(e,n,o,_c,r),S_(e,o);else if(RA(h,e,n,r,o))o.stopPropagation();else if(S_(e,o),n&4&&-1<wA.indexOf(e)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ti(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-he(p);E.entanglements[1]|=R,p&=~R}vi(f),(qt&6)===0&&(tc=Je()+500,il(0))}}break;case 31:case 13:E=vr(f,2),E!==null&&un(E,f,2),nc(),_d(f,2)}if(f=Ed(o),f===null&&rd(e,n,o,_c,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else rd(e,n,o,null,r)}}function Ed(e){return e=An(e),Td(e)}var _c=null;function Td(e){if(_c=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function b_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ir()){case ho:return 2;case fo:return 8;case rs:case Rh:return 32;case $l:return 268435456;default:return 32}default:return 32}}var Ad=!1,Os=null,Ms=null,Vs=null,cl=new Map,hl=new Map,Us=[],wA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(e,n){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function fl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&T_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function RA(e,n,r,o,h){switch(n){case"focusin":return Os=fl(Os,e,n,r,o,h),!0;case"dragenter":return Ms=fl(Ms,e,n,r,o,h),!0;case"mouseover":return Vs=fl(Vs,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return cl.set(f,fl(cl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,hl.set(f,fl(hl.get(f)||null,e,n,r,o,h)),!0}return!1}function w_(e){var n=ri(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,zn(e.priority,function(){A_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,zn(e.priority,function(){A_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Ed(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);wo=o,r.target.dispatchEvent(o),wo=null}else return n=Tn(r),n!==null&&T_(n),e.blockedOn=r,!1;n.shift()}return!0}function R_(e,n,r){vc(e)&&r.delete(n)}function IA(){Ad=!1,Os!==null&&vc(Os)&&(Os=null),Ms!==null&&vc(Ms)&&(Ms=null),Vs!==null&&vc(Vs)&&(Vs=null),cl.forEach(R_),hl.forEach(R_)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,Ad||(Ad=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,IA)))}var Tc=null;function I_(e){Tc!==e&&(Tc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Td(o||r)===null)continue;break}var f=Tn(r);f!==null&&(e.splice(n,3),n-=3,Ef(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ua(e){function n(R){return Ec(R,e)}Os!==null&&Ec(Os,e),Ms!==null&&Ec(Ms,e),Vs!==null&&Ec(Vs,e),cl.forEach(n),hl.forEach(n);for(var r=0;r<Us.length;r++){var o=Us[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Us.length&&(r=Us[0],r.blockedOn===null);)w_(r),r.blockedOn===null&&Us.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[Ve]||null;if(typeof f=="function")p||I_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ve]||null)E=p.formAction;else if(Td(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),I_(r)}}}function C_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function bd(e){this._internalRoot=e}Ac.prototype.render=bd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=vn();v_(r,o,e,n,null,null)},Ac.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;v_(e.current,2,null,e,null,null),nc(),n[ii]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Us.length&&n!==0&&n<Us[r].priority;r++);Us.splice(r,0,e),r===0&&w_(e)}};var N_=t.version;if(N_!=="19.2.0")throw Error(a(527,N_,"19.2.0"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var CA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{Ln=bc.inject(CA),Pe=bc}catch{}}return ml.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=kp,f=Lp,p=Pp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=y_(e,1,!1,null,null,r,o,null,h,f,p,C_),e[ii]=n.current,sd(e),new bd(n)},ml.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=kp,p=Lp,E=Pp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=y_(e,1,!0,n,r??null,o,h,R,f,p,E,C_),n.context=__(null),r=n.current,o=vn(),o=or(o),h=Es(o),h.callback=null,Ts(r,h,o),r=o,n.current.lanes=r,rr(n,r),vi(n),e[ii]=n.current,sd(e),new Ac(n)},ml.version="19.2.0",ml}var z_;function jA(){if(z_)return Rd.exports;z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Rd.exports=zA(),Rd.exports}var BA=jA();const qA=()=>{};var j_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},HA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},b0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,A=c>>2,b=(c&3)<<4|g>>4;let N=(g&15)<<2|y>>6,H=y&63;_||(H=64,d||(N=64)),a.push(i[A],i[b],i[N],i[H])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(A0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):HA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||b==null)throw new GA;const N=c<<2|g>>4;if(a.push(N),y!==64){const H=g<<4&240|y>>2;if(a.push(H),b!==64){const W=y<<6&192|b;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class GA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FA=function(s){const t=A0(s);return b0.encodeByteArray(t,!0)},qc=function(s){return FA(s).replace(/\./g,"")},S0=function(s){try{return b0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=()=>QA().__FIREBASE_DEFAULTS__,YA=()=>{if(typeof process>"u"||typeof j_>"u")return;const s=j_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},XA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&S0(s[1]);return t&&JSON.parse(t)},lh=()=>{try{return qA()||KA()||YA()||XA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},w0=s=>lh()?.emulatorHosts?.[s],$A=s=>{const t=w0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},R0=()=>lh()?.config,I0=s=>lh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function C0(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const vl={};function WA(){const s={prod:[],emulator:[]};for(const t of Object.keys(vl))vl[t]?s.emulator.push(t):s.prod.push(t);return s}function tb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let B_=!1;function N0(s,t){if(typeof window>"u"||typeof document>"u"||!to(window.location.host)||vl[s]===t||vl[s]||B_)return;vl[s]=t;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",c=WA().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,H){N.setAttribute("width","24"),N.setAttribute("id",H),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{B_=!0,d()},N}function A(N,H){N.setAttribute("id",H),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function b(){const N=tb(a),H=i("text"),W=document.getElementById(H)||document.createElement("span"),J=i("learnmore"),Z=document.getElementById(J)||document.createElement("a"),et=i("preprendIcon"),dt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const lt=N.element;g(lt),A(Z,J);const wt=y();_(dt,et),lt.append(dt,W,Z,wt),document.body.appendChild(lt)}c?(W.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function nb(){const s=lh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ib(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function rb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ab(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function ob(){return!nb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lb(){try{return typeof indexedDB=="object"}catch{return!1}}function ub(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="FirebaseError";class is extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=cb,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kl.prototype.create)}}class kl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?hb(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new is(l,g,a)}}function hb(s,t){return s.replace(fb,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const fb=/\{\$([^}]+)}/g;function db(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Pr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(q_(c)&&q_(d)){if(!Pr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function q_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function mb(s,t){const i=new gb(s,t);return i.subscribe.bind(i)}class gb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");pb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Dd),l.error===void 0&&(l.error=Dd),l.complete===void 0&&(l.complete=Dd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pb(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(s){return s&&s._delegate?s._delegate:s}class zr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new ZA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(vb(t))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Or){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Or){return this.instances.has(t)}getOptions(t=Or){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:_b(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Or){return this.component?this.component.multipleInstances?t:Or:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _b(s){return s===Or?void 0:s}function vb(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new yb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Dt||(Dt={}));const Tb={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},Ab=Dt.INFO,bb={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},Sb=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=bb[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _m{constructor(t){this.name=t,this._logLevel=Ab,this._logHandler=Sb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Tb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const wb=(s,t)=>t.some(i=>s instanceof i);let H_,G_;function Rb(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ib(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D0=new WeakMap,Hd=new WeakMap,x0=new WeakMap,xd=new WeakMap,vm=new WeakMap;function Cb(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Hs(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&D0.set(i,s)}).catch(()=>{}),vm.set(t,s),t}function Nb(s){if(Hd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Hd.set(s,t)}let Gd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Hd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||x0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Db(s){Gd=s(Gd)}function xb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Od(this),t,...i);return x0.set(a,t.sort?t.sort():[t]),Hs(a)}:Ib().includes(s)?function(...t){return s.apply(Od(this),t),Hs(D0.get(this))}:function(...t){return Hs(s.apply(Od(this),t))}}function Ob(s){return typeof s=="function"?xb(s):(s instanceof IDBTransaction&&Nb(s),wb(s,Rb())?new Proxy(s,Gd):s)}function Hs(s){if(s instanceof IDBRequest)return Cb(s);if(xd.has(s))return xd.get(s);const t=Ob(s);return t!==s&&(xd.set(s,t),vm.set(t,s)),t}const Od=s=>vm.get(s);function Mb(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=Hs(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Hs(d.result),_.oldVersion,_.newVersion,Hs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const Vb=["get","getKey","getAll","getAllKeys","count"],Ub=["put","add","delete","clear"],Md=new Map;function F_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Md.get(t))return Md.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=Ub.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Vb.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return Md.set(t,c),c}Db(s=>({...s,get:(t,i,a)=>F_(t,i)||s.get(t,i,a),has:(t,i)=>!!F_(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Lb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Lb(s){return s.getComponent()?.type==="VERSION"}const Fd="@firebase/app",Q_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new _m("@firebase/app"),Pb="@firebase/app-compat",zb="@firebase/analytics-compat",jb="@firebase/analytics",Bb="@firebase/app-check-compat",qb="@firebase/app-check",Hb="@firebase/auth",Gb="@firebase/auth-compat",Fb="@firebase/database",Qb="@firebase/data-connect",Kb="@firebase/database-compat",Yb="@firebase/functions",Xb="@firebase/functions-compat",$b="@firebase/installations",Zb="@firebase/installations-compat",Jb="@firebase/messaging",Wb="@firebase/messaging-compat",tS="@firebase/performance",eS="@firebase/performance-compat",nS="@firebase/remote-config",iS="@firebase/remote-config-compat",sS="@firebase/storage",rS="@firebase/storage-compat",aS="@firebase/firestore",oS="@firebase/ai",lS="@firebase/firestore-compat",uS="firebase",cS="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="[DEFAULT]",hS={[Fd]:"fire-core",[Pb]:"fire-core-compat",[jb]:"fire-analytics",[zb]:"fire-analytics-compat",[qb]:"fire-app-check",[Bb]:"fire-app-check-compat",[Hb]:"fire-auth",[Gb]:"fire-auth-compat",[Fb]:"fire-rtdb",[Qb]:"fire-data-connect",[Kb]:"fire-rtdb-compat",[Yb]:"fire-fn",[Xb]:"fire-fn-compat",[$b]:"fire-iid",[Zb]:"fire-iid-compat",[Jb]:"fire-fcm",[Wb]:"fire-fcm-compat",[tS]:"fire-perf",[eS]:"fire-perf-compat",[nS]:"fire-rc",[iS]:"fire-rc-compat",[sS]:"fire-gcs",[rS]:"fire-gcs-compat",[aS]:"fire-fst",[lS]:"fire-fst-compat",[oS]:"fire-vertex","fire-js":"fire-js",[uS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Map,fS=new Map,Kd=new Map;function K_(s,t){try{s.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Qa(s){const t=s.name;if(Kd.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;Kd.set(t,s);for(const i of Hc.values())K_(i,s);for(const i of fS.values())K_(i,s);return!0}function Em(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Mn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new kl("app","Firebase",dS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=cS;function O0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Qd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Gs.create("bad-app-name",{appName:String(l)});if(i||(i=R0()),!i)throw Gs.create("no-options");const c=Hc.get(l);if(c){if(Pr(i,c.options)&&Pr(a,c.config))return c;throw Gs.create("duplicate-app",{appName:l})}const d=new Eb(l);for(const _ of Kd.values())d.addComponent(_);const g=new mS(i,a,d);return Hc.set(l,g),g}function M0(s=Qd){const t=Hc.get(s);if(!t&&s===Qd&&R0())return O0();if(!t)throw Gs.create("no-app",{appName:s});return t}function Fs(s,t,i){let a=hS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}Qa(new zr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="firebase-heartbeat-database",pS=1,Rl="firebase-heartbeat-store";let Vd=null;function V0(){return Vd||(Vd=Mb(gS,pS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Rl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Gs.create("idb-open",{originalErrorMessage:s.message})})),Vd}async function yS(s){try{const i=(await V0()).transaction(Rl),a=await i.objectStore(Rl).get(U0(s));return await i.done,a}catch(t){if(t instanceof is)Zi.warn(t.message);else{const i=Gs.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(i.message)}}}async function Y_(s,t){try{const a=(await V0()).transaction(Rl,"readwrite");await a.objectStore(Rl).put(t,U0(s)),await a.done}catch(i){if(i instanceof is)Zi.warn(i.message);else{const a=Gs.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(a.message)}}}function U0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=1024,vS=30;class ES{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new AS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=X_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>vS){const l=bS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X_(),{heartbeatsToSend:i,unsentEntries:a}=TS(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function X_(){return new Date().toISOString().substring(0,10)}function TS(s,t=_S){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),$_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),$_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class AS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lb()?ub().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await yS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function $_(s){return qc(JSON.stringify({version:2,heartbeats:s})).length}function bS(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(s){Qa(new zr("platform-logger",t=>new kb(t),"PRIVATE")),Qa(new zr("heartbeat",t=>new ES(t),"PRIVATE")),Fs(Fd,Q_,s),Fs(Fd,Q_,"esm2020"),Fs("fire-js","")}SS("");var wS="firebase",RS="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs(wS,RS,"app");function k0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IS=k0,L0=new kl("auth","Firebase",k0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new _m("@firebase/auth");function CS(s,...t){Gc.logLevel<=Dt.WARN&&Gc.warn(`Auth (${eo}): ${s}`,...t)}function xc(s,...t){Gc.logLevel<=Dt.ERROR&&Gc.error(`Auth (${eo}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(s,...t){throw Tm(s,...t)}function Ti(s,...t){return Tm(s,...t)}function P0(s,t,i){const a={...IS(),[t]:i};return new kl("auth","Firebase",a).create(t,{appName:s.name})}function $i(s){return P0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return L0.create(s,...t)}function pt(s,t,...i){if(!s)throw Tm(t,...i)}function Yi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw xc(t),new Error(t)}function Wi(s,t){s||Yi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(){return typeof self<"u"&&self.location?.href||""}function NS(){return Z_()==="http:"||Z_()==="https:"}function Z_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NS()||sb()||"connection"in navigator)?navigator.onLine:!0}function xS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=eb()||rb()}get(){return DS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(s,t){Wi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VS=new Pl(3e4,6e4);function zl(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function no(s,t,i,a,l={}){return j0(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Ll({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return ib()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&to(s.emulatorConfig.host)&&(y.credentials="include"),z0.fetch()(await B0(s,s.config.apiHost,i,g),y)})}async function j0(s,t,i){s._canInitEmulator=!1;const a={...OS,...t};try{const l=new US(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Sc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Sc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Sc(s,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw P0(s,A,y);Ji(s,A)}}catch(l){if(l instanceof is)throw l;Ji(s,"network-request-failed",{message:String(l)})}}async function bm(s,t,i,a,l={}){const c=await no(s,t,i,a,l);return"mfaPendingCredential"in c&&Ji(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function B0(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Am(s.config,l):`${s.config.apiScheme}://${l}`;return MS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class US{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ti(this.auth,"network-request-failed")),VS.get())})}}function Sc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ti(s,t,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kS(s,t){return no(s,"POST","/v1/accounts:delete",t)}async function Fc(s,t){return no(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function LS(s,t=!1){const i=en(s),a=await i.getIdToken(t),l=Sm(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:El(Ud(l.auth_time)),issuedAtTime:El(Ud(l.iat)),expirationTime:El(Ud(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ud(s){return Number(s)*1e3}function Sm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const l=S0(i);return l?JSON.parse(l):(xc("Failed to decode base64 JWT payload"),null)}catch(l){return xc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function J_(s){const t=Sm(s);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof is&&PS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function PS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(s){const t=s.auth,i=await s.getIdToken(),a=await Il(s,Fc(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?q0(l.providerUserInfo):[],d=BS(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Xd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function jS(s){const t=en(s);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function BS(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function q0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(s,t){const i=await j0(s,{},async()=>{const a=Ll({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await B0(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&to(s.emulatorConfig.host)&&(_.credentials="include"),z0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function HS(s,t){return no(s,"POST","/v2/accounts:revokeToken",zl(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):J_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=J_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await qS(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ba;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(s,t){pt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new zS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Xd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Il(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return LS(this,t)}reload(){return jS(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject($i(this.auth));const t=await this.getIdToken();return await Il(this,kS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:N,isAnonymous:H,providerData:W,stsTokenManager:J}=i;pt(b&&J,t,"internal-error");const Z=Ba.fromJSON(this.name,J);pt(typeof b=="string",t,"internal-error"),Ls(a,t.name),Ls(l,t.name),pt(typeof N=="boolean",t,"internal-error"),pt(typeof H=="boolean",t,"internal-error"),Ls(c,t.name),Ls(d,t.name),Ls(g,t.name),Ls(_,t.name),Ls(y,t.name),Ls(A,t.name);const et=new Xn({uid:b,auth:t,email:l,emailVerified:N,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:Z,createdAt:y,lastLoginAt:A});return W&&Array.isArray(W)&&(et.providerData=W.map(dt=>({...dt}))),_&&(et._redirectEventId=_),et}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ba;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?q0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Ba;g.updateFromIdToken(a);const _=new Xn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Xd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=new Map;function Xi(s){Wi(s instanceof Function,"Expected a class definition");let t=W_.get(s);return t?(Wi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,W_.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}H0.type="NONE";const tv=H0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(s,t,i){return`firebase:${s}:${t}:${i}`}class qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Oc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Oc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Fc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new qa(Xi(tv),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Xi(tv);const d=Oc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const A=await y._get(d);if(A){let b;if(typeof A=="string"){const N=await Fc(t,{idToken:A}).catch(()=>{});if(!N)break;b=await Xn._fromGetAccountInfoResponse(t,N,A)}else b=Xn._fromJSON(t,A);y!==c&&(g=b),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new qa(c,t,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new qa(c,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(K0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(G0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(X0(t))return"Blackberry";if($0(t))return"Webos";if(F0(t))return"Safari";if((t.includes("chrome/")||Q0(t))&&!t.includes("edge/"))return"Chrome";if(Y0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function G0(s=Ze()){return/firefox\//i.test(s)}function F0(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Q0(s=Ze()){return/crios\//i.test(s)}function K0(s=Ze()){return/iemobile/i.test(s)}function Y0(s=Ze()){return/android/i.test(s)}function X0(s=Ze()){return/blackberry/i.test(s)}function $0(s=Ze()){return/webos/i.test(s)}function wm(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function GS(s=Ze()){return wm(s)&&!!window.navigator?.standalone}function FS(){return ab()&&document.documentMode===10}function Z0(s=Ze()){return wm(s)||Y0(s)||$0(s)||X0(s)||/windows phone/i.test(s)||K0(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(s,t=[]){let i;switch(s){case"Browser":i=ev(Ze());break;case"Worker":i=`${ev(Ze())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${eo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KS(s,t={}){return no(s,"GET","/v2/passwordPolicy",zl(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=6;class XS{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??YS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nv(this),this.idTokenSubscription=new nv(this),this.beforeStateQueue=new QS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Fc(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Mn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=xS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Mn(this.app))return Promise.reject($i(this));const i=t?en(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Mn(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await KS(this),i=new XS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new kl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await HS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=J0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&CS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function jl(s){return en(s)}class nv{constructor(t){this.auth=t,this.observer=null,this.addObserver=mb(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZS(s){Rm=s}function JS(s){return Rm.loadJS(s)}function WS(){return Rm.gapiScript}function tw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(s,t){const i=Em(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Pr(c,t??{}))return l;Ji(l,"already-initialized")}return i.initialize({options:t})}function nw(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function iw(s,t,i){const a=jl(s);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=W0(t),{host:d,port:g}=sw(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Pr(y,a.config.emulator)&&Pr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,to(d)?(C0(`${c}//${d}${_}`),N0("Auth",!0)):rw()}function W0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function sw(s){const t=W0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:iv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:iv(d)}}}function iv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function rw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,i){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(s,t){return bm(s,"POST","/v1/accounts:signInWithIdp",zl(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="http://localhost";class jr extends tE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new jr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ji("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new jr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ha(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ha(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ha(t,i)}buildRequest(){const t={requestUri:aw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ll(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends eE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Bl{constructor(){super("facebook.com")}static credential(t){return jr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return jr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return zs.credential(i,a)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Bl{constructor(){super("github.com")}static credential(t){return jr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Bl{constructor(){super("twitter.com")}static credential(t,i){return jr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(s,t){return bm(s,"POST","/v1/accounts:signUp",zl(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Xn._fromIdTokenResponse(t,a,l),d=sv(a);return new ts({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=sv(a);return new ts({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function sv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rv(s){if(Mn(s.app))return Promise.reject($i(s));const t=jl(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ts({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await ow(t,{returnSecureToken:!0}),a=await ts._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends is{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Kc(t,i,a,l)}}function nE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(s,c,t,a):c})}async function lw(s,t,i=!1){const a=await Il(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ts._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(s,t,i=!1){const{auth:a}=s;if(Mn(a.app))return Promise.reject($i(a));const l="reauthenticate";try{const c=await Il(s,nE(a,l,t,s),i);pt(c.idToken,a,"internal-error");const d=Sm(c.idToken);pt(d,a,"internal-error");const{sub:g}=d;return pt(s.uid===g,a,"user-mismatch"),ts._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ji(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(s,t,i=!1){if(Mn(s.app))return Promise.reject($i(s));const a="signIn",l=await nE(s,a,t),c=await ts._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hw(s,t){return bm(s,"POST","/v1/accounts:signInWithCustomToken",zl(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fw(s,t){if(Mn(s.app))return Promise.reject($i(s));const i=jl(s),a=await hw(i,{token:t,returnSecureToken:!0}),l=await ts._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function dw(s,t,i,a){return en(s).onIdTokenChanged(t,i,a)}function mw(s,t,i){return en(s).beforeAuthStateChanged(t,i)}function gw(s,t,i,a){return en(s).onAuthStateChanged(t,i,a)}function pw(s){return en(s).signOut()}const Yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=1e3,_w=10;class sE extends iE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Z0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);FS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,_w):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},yw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}sE.type="LOCAL";const vw=sE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE extends iE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}rE.type="SESSION";const aE=rE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new uh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await Ew(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Im("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const N=b;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(N.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function Aw(s){Ai().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function bw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Sw(){return navigator?.serviceWorker?.controller||null}function ww(){return oE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="firebaseLocalStorageDb",Rw=1,Xc="firebaseLocalStorage",uE="fbase_key";class ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ch(s,t){return s.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function Iw(){const s=indexedDB.deleteDatabase(lE);return new ql(s).toPromise()}function $d(){const s=indexedDB.open(lE,Rw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Xc,{keyPath:uE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Xc)?t(a):(a.close(),await Iw(),t(await $d()))})})}async function av(s,t,i){const a=ch(s,!0).put({[uE]:t,value:i});return new ql(a).toPromise()}async function Cw(s,t){const i=ch(s,!1).get(t),a=await new ql(i).toPromise();return a===void 0?null:a.value}function ov(s,t){const i=ch(s,!0).delete(t);return new ql(i).toPromise()}const Nw=800,Dw=3;class cE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Dw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(ww()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bw(),!this.activeServiceWorker)return;this.sender=new Tw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Sw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $d();return await av(t,Yc,"1"),await ov(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>av(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Cw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ov(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ch(l,!1).getAll();return new ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cE.type="LOCAL";const xw=cE;new Pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(s,t){return t?Xi(t):(pt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends tE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ha(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ha(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ha(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Mw(s){return cw(s.auth,new Cm(s),s.bypassAuthState)}function Vw(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),uw(i,new Cm(s),s.bypassAuthState)}async function Uw(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),lw(i,new Cm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Mw;case"linkViaPopup":case"linkViaRedirect":return Uw;case"reauthViaPopup":case"reauthViaRedirect":return Vw;default:Ji(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new Pl(2e3,1e4);class ja extends hE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,ja.currentPopupAction&&ja.currentPopupAction.cancel(),ja.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ja.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,kw.get())};t()}}ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="pendingRedirect",Mc=new Map;class Pw extends hE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Mc.get(this.auth._key());if(!t){try{const a=await zw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Mc.set(this.auth._key(),t)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zw(s,t){const i=qw(t),a=Bw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function jw(s,t){Mc.set(s._key(),t)}function Bw(s){return Xi(s._redirectPersistence)}function qw(s){return Oc(Lw,s.config.apiKey,s.name)}async function Hw(s,t,i=!1){if(Mn(s.app))return Promise.reject($i(s));const a=jl(s),l=Ow(a,t),d=await new Pw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=600*1e3;class Fw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Qw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!fE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ti(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Gw&&this.cachedEventUids.clear(),this.cachedEventUids.has(lv(t))}saveEventToCache(t){this.cachedEventUids.add(lv(t)),this.lastProcessedEventTime=Date.now()}}function lv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function fE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function Qw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kw(s,t={}){return no(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xw=/^https?/;async function $w(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Kw(s);for(const i of t)try{if(Zw(i))return}catch{}Ji(s,"unauthorized-domain")}function Zw(s){const t=Yd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Xw.test(i))return!1;if(Yw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new Pl(3e4,6e4);function uv(){const s=Ai().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Ww(s){return new Promise((t,i)=>{function a(){uv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{uv(),i(Ti(s,"network-request-failed"))},timeout:Jw.get()})}if(Ai().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ai().gapi?.load)a();else{const l=tw("iframefcb");return Ai()[l]=()=>{gapi.load?a():i(Ti(s,"network-request-failed"))},JS(`${WS()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Vc=null,t})}let Vc=null;function tR(s){return Vc=Vc||Ww(s),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=new Pl(5e3,15e3),nR="__/auth/iframe",iR="emulator/auth/iframe",sR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aR(s){const t=s.config;pt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Am(t,iR):`https://${s.config.authDomain}/${nR}`,a={apiKey:t.apiKey,appName:s.name,v:eo},l=rR.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ll(a).slice(1)}`}async function oR(s){const t=await tR(s),i=Ai().gapi;return pt(i,s,"internal-error"),t.open({where:document.body,url:aR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ti(s,"network-request-failed"),g=Ai().setTimeout(()=>{c(d)},eR.get());function _(){Ai().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uR=500,cR=600,hR="_blank",fR="http://localhost";class cv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dR(s,t,i,a=uR,l=cR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...lR,width:a.toString(),height:l.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(g=Q0(y)?hR:i),G0(y)&&(t=t||fR,_.scrollbars="yes");const A=Object.entries(_).reduce((N,[H,W])=>`${N}${H}=${W},`,"");if(GS(y)&&g!=="_self")return mR(t||"",g),new cv(null);const b=window.open(t||"",g,A);pt(b,s,"popup-blocked");try{b.focus()}catch{}return new cv(b)}function mR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="__/auth/handler",pR="emulator/auth/handler",yR=encodeURIComponent("fac");async function hv(s,t,i,a,l,c){pt(s.config.authDomain,s,"auth-domain-config-required"),pt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:eo,eventId:l};if(t instanceof eE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",db(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Bl){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const _=await s._getAppCheckToken(),y=_?`#${yR}=${encodeURIComponent(_)}`:"";return`${_R(s)}?${Ll(g).slice(1)}${y}`}function _R({config:s}){return s.emulator?Am(s,pR):`https://${s.authDomain}/${gR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="webStorageSupport";class vR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aE,this._completeRedirectFn=Hw,this._overrideRedirectResult=jw}async _openPopup(t,i,a,l){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await hv(t,i,a,Yd(),l);return dR(t,c,Im())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await hv(t,i,a,Yd(),l);return Aw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await oR(t),a=new Fw(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(kd,{type:kd},l=>{const c=l?.[0]?.[kd];c!==void 0&&i(!!c),Ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=$w(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Z0()||F0()||wm()}}const ER=vR;var fv="@firebase/auth",dv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bR(s){Qa(new zr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J0(s)},y=new $S(a,l,c,_);return nw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Qa(new zr("auth-internal",t=>{const i=jl(t.getProvider("auth").getImmediate());return(a=>new TR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(fv,dv,AR(s)),Fs(fv,dv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=300,wR=I0("authIdTokenMaxAge")||SR;let mv=null;const RR=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>wR)return;const l=i?.token;mv!==l&&(mv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function IR(s=M0()){const t=Em(s,"auth");if(t.isInitialized())return t.getImmediate();const i=ew(s,{popupRedirectResolver:ER,persistence:[xw,vw,aE]}),a=I0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=RR(c.toString());mw(i,d,()=>d(i.currentUser)),dw(i,g=>d(g))}}const l=w0("auth");return l&&iw(i,`http://${l}`),i}function CR(){return document.getElementsByTagName("head")?.[0]??document}ZS({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Ti("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",CR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bR("Browser");var gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qs,dE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,x,k){for(var w=Array(arguments.length-2),se=2;se<arguments.length;se++)w[se-2]=arguments[se];return S.prototype[x].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,I){I||(I=0);const M=Array(16);if(typeof S=="string")for(var x=0;x<16;++x)M[x]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(x=0;x<16;++x)M[x]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],x=C.g[2];let k=C.g[3],w;w=S+(k^I&(x^k))+M[0]+3614090360&4294967295,S=I+(w<<7&4294967295|w>>>25),w=k+(x^S&(I^x))+M[1]+3905402710&4294967295,k=S+(w<<12&4294967295|w>>>20),w=x+(I^k&(S^I))+M[2]+606105819&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(S^x&(k^S))+M[3]+3250441966&4294967295,I=x+(w<<22&4294967295|w>>>10),w=S+(k^I&(x^k))+M[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=k+(x^S&(I^x))+M[5]+1200080426&4294967295,k=S+(w<<12&4294967295|w>>>20),w=x+(I^k&(S^I))+M[6]+2821735955&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(S^x&(k^S))+M[7]+4249261313&4294967295,I=x+(w<<22&4294967295|w>>>10),w=S+(k^I&(x^k))+M[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=k+(x^S&(I^x))+M[9]+2336552879&4294967295,k=S+(w<<12&4294967295|w>>>20),w=x+(I^k&(S^I))+M[10]+4294925233&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(S^x&(k^S))+M[11]+2304563134&4294967295,I=x+(w<<22&4294967295|w>>>10),w=S+(k^I&(x^k))+M[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=k+(x^S&(I^x))+M[13]+4254626195&4294967295,k=S+(w<<12&4294967295|w>>>20),w=x+(I^k&(S^I))+M[14]+2792965006&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(S^x&(k^S))+M[15]+1236535329&4294967295,I=x+(w<<22&4294967295|w>>>10),w=S+(x^k&(I^x))+M[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(S^I))+M[6]+3225465664&4294967295,k=S+(w<<9&4294967295|w>>>23),w=x+(S^I&(k^S))+M[11]+643717713&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^S&(x^k))+M[0]+3921069994&4294967295,I=x+(w<<20&4294967295|w>>>12),w=S+(x^k&(I^x))+M[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(S^I))+M[10]+38016083&4294967295,k=S+(w<<9&4294967295|w>>>23),w=x+(S^I&(k^S))+M[15]+3634488961&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^S&(x^k))+M[4]+3889429448&4294967295,I=x+(w<<20&4294967295|w>>>12),w=S+(x^k&(I^x))+M[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(S^I))+M[14]+3275163606&4294967295,k=S+(w<<9&4294967295|w>>>23),w=x+(S^I&(k^S))+M[3]+4107603335&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^S&(x^k))+M[8]+1163531501&4294967295,I=x+(w<<20&4294967295|w>>>12),w=S+(x^k&(I^x))+M[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(S^I))+M[2]+4243563512&4294967295,k=S+(w<<9&4294967295|w>>>23),w=x+(S^I&(k^S))+M[7]+1735328473&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^S&(x^k))+M[12]+2368359562&4294967295,I=x+(w<<20&4294967295|w>>>12),w=S+(I^x^k)+M[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=k+(S^I^x)+M[8]+2272392833&4294967295,k=S+(w<<11&4294967295|w>>>21),w=x+(k^S^I)+M[11]+1839030562&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^S)+M[14]+4259657740&4294967295,I=x+(w<<23&4294967295|w>>>9),w=S+(I^x^k)+M[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=k+(S^I^x)+M[4]+1272893353&4294967295,k=S+(w<<11&4294967295|w>>>21),w=x+(k^S^I)+M[7]+4139469664&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^S)+M[10]+3200236656&4294967295,I=x+(w<<23&4294967295|w>>>9),w=S+(I^x^k)+M[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=k+(S^I^x)+M[0]+3936430074&4294967295,k=S+(w<<11&4294967295|w>>>21),w=x+(k^S^I)+M[3]+3572445317&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^S)+M[6]+76029189&4294967295,I=x+(w<<23&4294967295|w>>>9),w=S+(I^x^k)+M[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=k+(S^I^x)+M[12]+3873151461&4294967295,k=S+(w<<11&4294967295|w>>>21),w=x+(k^S^I)+M[15]+530742520&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^S)+M[2]+3299628645&4294967295,I=x+(w<<23&4294967295|w>>>9),w=S+(x^(I|~k))+M[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=k+(I^(S|~x))+M[7]+1126891415&4294967295,k=S+(w<<10&4294967295|w>>>22),w=x+(S^(k|~I))+M[14]+2878612391&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~S))+M[5]+4237533241&4294967295,I=x+(w<<21&4294967295|w>>>11),w=S+(x^(I|~k))+M[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=k+(I^(S|~x))+M[3]+2399980690&4294967295,k=S+(w<<10&4294967295|w>>>22),w=x+(S^(k|~I))+M[10]+4293915773&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~S))+M[1]+2240044497&4294967295,I=x+(w<<21&4294967295|w>>>11),w=S+(x^(I|~k))+M[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=k+(I^(S|~x))+M[15]+4264355552&4294967295,k=S+(w<<10&4294967295|w>>>22),w=x+(S^(k|~I))+M[6]+2734768916&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~S))+M[13]+1309151649&4294967295,I=x+(w<<21&4294967295|w>>>11),w=S+(x^(I|~k))+M[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=k+(I^(S|~x))+M[11]+3174756917&4294967295,k=S+(w<<10&4294967295|w>>>22),w=x+(S^(k|~I))+M[2]+718787259&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~S))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,M=this.C;let x=this.h,k=0;for(;k<S;){if(x==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<S;)if(M[x++]=C.charCodeAt(k++),x==this.blockSize){l(this,M),x=0;break}}else for(;k<S;)if(M[x++]=C[k++],x==this.blockSize){l(this,M),x=0;break}}this.h=x,this.o+=S},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[S++]=this.g[I]>>>M&255;return C};function c(C,S){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let M=!0;for(let x=C.length-1;x>=0;x--){const k=C[x]|0;M&&k==S||(I[x]=k,M=!1)}this.g=I}var g={};function _(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return Z(y(-C));const S=[];let I=1;for(let M=0;C>=I;M++)S[M]=C/I|0,I*=4294967296;return new d(S,0)}function A(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return Z(A(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(S,8));let M=b;for(let k=0;k<C.length;k+=8){var x=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+x),S);x<8?(x=y(Math.pow(S,x)),M=M.j(x).add(y(w))):(M=M.j(I),M=M.add(y(w)))}return M}var b=_(0),N=_(1),H=_(16777216);s=d.prototype,s.m=function(){if(J(this))return-Z(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(J(this))return"-"+Z(this).toString(C);const S=y(Math.pow(C,6));var I=this;let M="";for(;;){const x=wt(I,S).g;I=et(I,x.j(S));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=x,W(I))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function J(C){return C.h==-1}s.l=function(C){return C=et(this,C),J(C)?-1:W(C)?0:1};function Z(C){const S=C.g.length,I=[];for(let M=0;M<S;M++)I[M]=~C.g[M];return new d(I,~C.h).add(N)}s.abs=function(){return J(this)?Z(this):this},s.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let x=0;x<=S;x++){let k=M+(this.i(x)&65535)+(C.i(x)&65535),w=(k>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);M=w>>>16,k&=65535,w&=65535,I[x]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function et(C,S){return C.add(Z(S))}s.j=function(C){if(W(this)||W(C))return b;if(J(this))return J(C)?Z(this).j(Z(C)):Z(Z(this).j(C));if(J(C))return Z(this.j(Z(C)));if(this.l(H)<0&&C.l(H)<0)return y(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var M=0;M<2*S;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let x=0;x<C.g.length;x++){const k=this.i(M)>>>16,w=this.i(M)&65535,se=C.i(x)>>>16,Ne=C.i(x)&65535;I[2*M+2*x]+=w*Ne,dt(I,2*M+2*x),I[2*M+2*x+1]+=k*Ne,dt(I,2*M+2*x+1),I[2*M+2*x+1]+=w*se,dt(I,2*M+2*x+1),I[2*M+2*x+2]+=k*se,dt(I,2*M+2*x+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function dt(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function lt(C,S){this.g=C,this.h=S}function wt(C,S){if(W(S))throw Error("division by zero");if(W(C))return new lt(b,b);if(J(C))return S=wt(Z(C),S),new lt(Z(S.g),Z(S.h));if(J(S))return S=wt(C,Z(S)),new lt(Z(S.g),S.h);if(C.g.length>30){if(J(C)||J(S))throw Error("slowDivide_ only works with positive integers.");for(var I=N,M=S;M.l(C)<=0;)I=Jt(I),M=Jt(M);var x=kt(I,1),k=kt(M,1);for(M=kt(M,2),I=kt(I,2);!W(M);){var w=k.add(M);w.l(C)<=0&&(x=x.add(I),k=w),M=kt(M,1),I=kt(I,1)}return S=et(C,x.j(S)),new lt(x,S)}for(x=b;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=y(I),w=k.j(S);J(w)||w.l(C)>0;)I-=M,k=y(I),w=k.j(S);W(k)&&(k=N),x=x.add(k),C=et(C,w)}return new lt(x,C)}s.B=function(C){return wt(this,C).h},s.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},s.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},s.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function Jt(C){const S=C.g.length+1,I=[];for(let M=0;M<S;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function kt(C,S){const I=S>>5;S%=32;const M=C.g.length-I,x=[];for(let k=0;k<M;k++)x[k]=S>0?C.i(k+I)>>>S|C.i(k+I+1)<<32-S:C.i(k+I);return new d(x,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,dE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Qs=d}).apply(typeof gv<"u"?gv:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mE,gl,gE,Uc,Zd,pE,yE,_E;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)tt[Tt-2]=arguments[Tt];return m.prototype[L].apply(T,tt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class J{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function et(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,v){const T=lt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var lt=new J(()=>new wt,u=>u.reset());class wt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Jt,kt=!1,C=new dt,S=()=>{const u=Promise.resolve(void 0);Jt=()=>{u.then(I)}};function I(){for(var u;u=et();){try{u.h.call(u.g)}catch(v){Z(v)}var m=lt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function se(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(se,x),se.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),F=0;function nt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=bt(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),De={};function re(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],v,T,L);return null}return v=co(v),u&&u[Ne]?u.J(m,v,g(T)?!!T.capture:!1,L):er(u,m,v,!1,T,L)}function er(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const tt=g(L)?!!L.capture:!!L;let Tt=nr(u);if(Tt||(u[Vt]=Tt=new rt(u)),v=Tt.add(m,v,T,tt,B),v.proxy)return v;if(T=Qr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Qr(){function u(v){return m.call(u.src,u.listener,v)}const m=lo;return u}function Kr(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Kr(u,m[B],v,T,L);else T=g(T)?!!T.capture:!!T,v=co(v),u&&u[Ne]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=bt(m,v,T,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=nr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,T,L)),(v=u>-1?m[u]:null)&&Yr(v))}function Yr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ne])yt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Jn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=nr(m))?(yt(v,u),v.h==0&&(v.src=null,m[Vt]=null)):ft(u)}}}function Jn(u){return u in De?De[u]:De[u]="on"+u}function lo(u,m){if(u.da)u=!0;else{m=new se(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Yr(u),u=v.call(T,m)}return u}function nr(u){return u=u[Vt],u instanceof rt?u:null}var uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function co(u){return typeof u=="function"?u:(u[uo]||(u[uo]=function(m){return u.handleEvent(m)}),u[uo])}function pe(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}b(pe,M),pe.prototype[Ne]=!0,pe.prototype.removeEventListener=function(u,m,v,T){Kr(this,u,m,v,T)};function xe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var L=m;m=new x(T,u),it(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=ss(B,T,!0,m)&&L;if(B=m.g=u,L=ss(B,T,!0,m)&&L,L=ss(B,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=ss(B,T,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ft(v[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},pe.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ss(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const Tt=tt.listener,fe=tt.ha||tt.src;tt.fa&&yt(u.i,tt),L=Tt.call(fe,T)!==!1&&L}}return L&&!T.defaultPrevented}function wh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xl(u){u.g=wh(()=>{u.g=null,u.i&&(u.i=!1,Xl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(u){M.call(this),this.h=u,this.g={}}b(ir,M);var ho=[];function fo(u){Lt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Yr(m)},u),u.g={}}ir.prototype.N=function(){ir.Z.N.call(this),fo(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=d.JSON.stringify,Rh=d.JSON.parse,$l=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zl(){}function Jl(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){x.call(this,"d")}b(Pe,x);function En(){x.call(this,"c")}b(En,x);var he={},Wl=null;function Xr(){return Wl=Wl||new pe}he.Ia="serverreachability";function tu(u){x.call(this,he.Ia,u)}b(tu,x);function Wn(u){const m=Xr();xe(m,new tu(m))}he.STAT_EVENT="statevent";function sr(u,m){x.call(this,he.STAT_EVENT,u),this.stat=m}b(sr,x);function ye(u){const m=Xr();xe(m,new sr(m,u))}he.Ja="timingevent";function ti(u,m){x.call(this,he.Ja,u),this.size=m}b(ti,x);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Ih(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var tt="",Tt=B.split("&");for(let Bt=0;Bt<Tt.length;Bt++){var fe=Tt[Bt].split("=");if(fe.length>1){const ae=fe[0];fe=fe[1];const Sn=ae.split("_");tt=Sn.length>=2&&Sn[1]=="type"?tt+(ae+"="+fe+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function eu(u,m,v,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function ni(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ch(u,v)+(T?" "+T:"")})}function rr(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Ch(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return rs(B)}catch{return m}}var ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},go;function or(){}b(or,Zl),or.prototype.g=function(){return new XMLHttpRequest},go=new or;function Ni(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function zn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var _e={},Ve={};function ii(u,m,v){u.M=1,u.A=lr(Ee(m)),u.u=v,u.R=!0,$r(u,null)}function $r(u,m){u.F=Date.now(),si(u),u.B=Ee(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ta(v.i,"t",T),u.C=0,v=u.j.L,u.h=new jn,u.g=yu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Je(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ho[0]=L.toString()),L=ho);for(let B=0;B<L.length;B++){const tt=re(v,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Ih(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Hn(this.g),fe=this.g.ya(),Bt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||Tt!=4||fe==7||(fe==8||Bt<=0?Wn(3):Wn(2)),ri(this);var m=this.g.ca();this.X=m;var v=Nh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,ye(12),hn(this),Tn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=su(this,v),ae==Ve){Tt==4&&(this.m=4,ye(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==_e){this.m=4,ye(15),ni(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,ae,null),ai(this,ae);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,v,"[Invalid Chunked Response]"),hn(this),Tn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Do(tt),tt.P=!0,ye(11))}}else ni(this.i,this.l,v,null),ai(this,v);Tt==4&&hn(this),this.o&&!this.K&&(Tt==4?du(this.j,this):(this.o=!1,si(this)))}else xi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),hn(this),Tn(this)}}}catch{}finally{}};function Nh(u){if(!iu(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,L=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?_e:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}zn.prototype.cancel=function(){this.K=!0,hn(this)};function si(u){u.T=Date.now()+u.H,Zr(u,u.H)}function Zr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(y(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(rr(this.i,this.B),this.M!=2&&(Wn(),ye(17)),hn(this),this.m=2,Tn(this)):Zr(this,this.T-u)};function Tn(u){u.j.I==0||u.K||du(u.j,u)}function hn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||li(v.h,u))){if(!u.L&&li(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ra(v),ds(v);else break t;gr(v),ye(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ei(y(v.Va,v),6e3));oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else mi(v,11)}else if((u.L||v.g==u)&&ra(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Bt=L[m];const ae=Bt[0];if(!(ae<=v.K))if(v.K=ae,Bt=Bt[1],v.I==2)if(Bt[0]=="c"){v.M=Bt[1],v.ba=Bt[2];const Sn=Bt[3];Sn!=null&&(v.ka=Sn,v.j.info("VER="+v.ka));const gi=Bt[4];gi!=null&&(v.za=gi,v.j.info("SVER="+v.za));const Gn=Bt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Fn=u.g;if(Fn){const pr=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pr){var B=T.h;B.g||pr.indexOf("spdy")==-1&&pr.indexOf("quic")==-1&&pr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(_o(B,B.h),B.h=null))}if(T.G){const aa=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(T.wa=aa,Ft(T.J,T.G,aa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=pu(T,T.L?T.ba:null,T.W),tt.L){vo(T.h,tt);var Tt=tt,fe=T.O;fe&&(Tt.H=fe),Tt.D&&(ri(Tt),si(Tt)),T.g=tt}else hu(T);v.i.length>0&&di(v)}else Bt[0]!="stop"&&Bt[0]!="close"||mi(v,7);else v.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?mi(v,7):Co(v):Bt[0]!="noop"&&v.l&&v.l.qa(Bt),v.A=0)}}Wn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function po(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _o(u,m){u.g?u.g.add(m):u.h=m}function vo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}po.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Eo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,as(this,u.u),this.h=u.h,To(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(ru))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),as(this,m[4]),this.h=ui(m[5]||"",!0),To(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new ls(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ur(m,Wr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ur(m,Wr,!0),"@"),u.push(Ni(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ur(v,v.charAt(0)=="/"?Ao:au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ur(v,ou)),u.join("")},fn.prototype.resolve=function(u){const m=Ee(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)as(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const Tt=L[tt++];Tt=="."?T&&tt==L.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?To(m,uu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ee(u){return new fn(u)}function Ue(u,m,v){u.j=v?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function To(u,m,v){m instanceof ls?(u.i=m,ea(u.i,u.l)):(v||(m=ur(m,os)),u.i=new ls(m,u.l))}function Ft(u,m,v){u.i.set(m,v)}function lr(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ur(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Wr=/[#\/\?@]/g,au=/[#\?:]/g,Ao=/[#\?]/g,os=/[#\?@]/g,ou=/#/g;function ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Jr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ls.prototype,s.add=function(u,m){sn(this),this.i=null,u=us(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function lu(u,m){sn(u),m=us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bo(u,m){return sn(u),m=us(u,m),u.g.has(m)}s.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function So(u,m){sn(u);let v=[];if(typeof m=="string")bo(u,m)&&(v=v.concat(u.g.get(us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return sn(this),this.i=null,u=us(this,u),bo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=So(this,u),u.length>0?String(u[0]):m):m};function ta(u,m,v){lu(u,m),v.length>0&&(u.i=null,u.g.set(us(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Ni(v);v=So(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+Ni(v[B])),u.push(tt)}}return this.i=u.join("&")};function uu(u){const m=new ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ea(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(lu(this,T),ta(this,L,v))},u)),u.j=m}function Bn(u,m){const v=new Pn;if(d.Image){const T=new Image;T.onload=A(An,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(An,v,"TestLoadImage: error",!1,m,T),T.onabort=A(An,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(An,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function wo(u,m){const v=new Pn,T=new AbortController,L=setTimeout(()=>{T.abort(),An(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?An(v,"TestPingServer: ok",!0,m):An(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),An(v,"TestPingServer: error",!1,m)})}function An(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function cs(){this.g=new $l}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ci,Zl),ci.prototype.g=function(){return new cr(this.i,this.h)};function cr(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(cr,pe),s=cr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;na(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function na(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hs(this):qn(this),this.readyState==3&&na(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,hs(this))},s.Na=function(u){this.g&&(this.response=u,hs(this))},s.ga=function(){this.g&&hs(this)};function hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return Lt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function hr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=bn(v),typeof u=="string"?v!=null&&Ni(v):Ft(u,m,v))}function Yt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Yt,pe);var hi=/^https?$/i,Ro=["POST","PUT"];s=Yt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():go.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){fr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ro,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){fr(this,B)}};function fr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Io(u),Di(u)}function Io(u){u.A||(u.A=!0,xe(u,"complete"),xe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xe(this,"complete"),xe(this,"abort"),Di(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Yt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?dr(this):this.Xa())},s.Xa=function(){dr(this)};function dr(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(xe(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(ru)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!hi.test(tt?tt.toLowerCase():"")}v=T}if(v)xe(u,"complete"),xe(u,"success");else{u.o=6;try{var L=Hn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Io(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||xe(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=nu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Gt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function fs(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new po(u&&u.concurrentRequestLimit),this.Ba=new cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=fs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){ye(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=pu(this,null,this.W),di(this)};function Co(u){if(ia(u),u.I==3){var m=u.V++,v=Ee(u.J);if(Ft(v,"SID",u.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),mr(u,v),m=new zn(u,u.j,m),m.M=2,m.A=lr(Ee(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}gu(u)}function ds(u){u.g&&(Do(u),u.g.cancel(),u.g=null)}function ia(u){ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!yo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Jt||S(),kt||(Jt(),kt=!0),C.add(m,u),u.D=0}}function sa(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(y(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=cu(this,L,m),v=Ee(this.J),Ft(v,"RID",u),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),mr(this,v),B&&(this.R?m="headers="+Ni(bn(B))+"&"+m:this.u&&hr(v,this.u,B)),_o(this.h,L),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),L.U=!0,ii(L,v,null)):ii(L,v,m),this.I=2}}else this.I==3&&(u?No(this,u):this.i.length==0||yo(this.h)||No(this))};function No(u,m){var v;m?v=m.l:v=u.V++;const T=Ee(u.J);Ft(T,"SID",u.M),Ft(T,"RID",v),Ft(T,"AID",u.K),mr(u,T),u.u&&u.o&&hr(T,u.u,u.o),v=new zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_o(u.h,v),ii(v,T,m)}function mr(u,m){u.H&&Lt(u.H,function(v,T){Ft(m,T,v)}),u.l&&Lt({},function(v,T){Ft(m,T,v)})}function cu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Tt=-1;for(;;){const fe=["count="+v];Tt==-1?v>0?(Tt=L[0].g,fe.push("ofs="+Tt)):Tt=0:fe.push("ofs="+Tt);let Bt=!0;for(let ae=0;ae<v;ae++){var B=L[ae].g;const Sn=L[ae].map;if(B-=Tt,B<0)Tt=Math.max(0,L[ae].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var tt=Sn instanceof Map?Sn:Object.entries(Sn);for(const[gi,Gn]of tt){let Fn=Gn;g(Gn)&&(Fn=rs(Gn)),fe.push(B+gi+"="+encodeURIComponent(Fn))}}catch(gi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(Sn)}}if(Bt){tt=fe.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Jt||S(),kt||(Jt(),kt=!0),C.add(m,u),u.A=0}}function gr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(y(u.Da,u),mu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),ds(this),fu(this))};function Do(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),mr(u,m),u.u&&u.o&&hr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=lr(Ee(m)),v.u=null,v.R=!0,$r(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ds(this),gr(this),ye(19))};function ra(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var v=null;if(u.g==m){ra(u),Do(u),u.g=null;var T=2}else if(li(u.h,m))v=m.G,vo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Xr(),xe(T,new ti(T,v)),di(u)}else hu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&sa(u,m)||T==2&&gr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function mu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const L=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),lr(T),L?Bn(T.toString(),v):wo(T.toString(),v)}else ye(2);u.I=0,u.l&&u.l.pa(m),gu(u),ia(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=Eo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function pu(u,m,v){var T=v instanceof fn?Ee(v):new fn(v);if(T.g!="")m&&(T.g=m+"."+T.g),as(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new fn(null);T&&Ue(B,T),m&&(B.g=m),L&&as(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Ft(T,v,m),Ft(T,"VER",u.ka),mr(u,T),T}function yu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new ci({ab:v})):new Yt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}s=_u.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ms(){}ms.prototype.g=function(u,m){return new We(u,m)};function We(u,m){pe.call(this),this.g=new fs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}b(We,pe),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Co(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=rs(u),u=v);m.i.push(new ve(m.Ya++,u)),m.I==3&&di(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,We.Z.N.call(this)};function vu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(vu,Pe);function Eu(){En.call(this),this.status=1}b(Eu,En);function Oi(u){this.g=u}b(Oi,_u),Oi.prototype.ra=function(){xe(this.g,"a")},Oi.prototype.qa=function(u){xe(this.g,new vu(u))},Oi.prototype.pa=function(u){xe(this.g,new Eu)},Oi.prototype.oa=function(){xe(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,_E=function(){return new ms},yE=function(){return Xr()},pE=he,Zd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,Uc=ar,mo.COMPLETE="complete",gE=mo,Jl.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",pe.prototype.listen=pe.prototype.J,gl=Jl,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,mE=Yt}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const pv="@firebase/firestore",yv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xe=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new _m("@firebase/firestore");function ka(){return Ys.logLevel}function NR(s){Ys.setLogLevel(s)}function st(s,...t){if(Ys.logLevel<=Dt.DEBUG){const i=t.map(Nm);Ys.debug(`Firestore (${io}): ${s}`,...i)}}function es(s,...t){if(Ys.logLevel<=Dt.ERROR){const i=t.map(Nm);Ys.error(`Firestore (${io}): ${s}`,...i)}}function Ka(s,...t){if(Ys.logLevel<=Dt.WARN){const i=t.map(Nm);Ys.warn(`Firestore (${io}): ${s}`,...i)}}function Nm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,vE(s,a,i)}function vE(s,t,i){let a=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw es(a),new Error(a)}function Ht(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||vE(t,l,a)}function Et(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends is{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class DR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class xR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class OR{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ur,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ur)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new EE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class MR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new MR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _v{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _v(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new _v(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=kR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function xt(s,t){return s<t?-1:s>t?1:0}function Jd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Ld(l)===Ld(c)?xt(l,c):Ld(l)?1:-1}return xt(s.length,t.length)}const LR=55296,PR=57343;function Ld(s){const t=s.charCodeAt(0);return t>=LR&&t<=PR}function Ya(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="__name__";class Ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return xt(t.length,i.length)}static compareSegments(t,i){const a=Ei.isNumericId(t),l=Ei.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):Jd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qs.fromString(t.substring(4,t.length-2))}}class te extends Ei{construct(t,i,a){return new te(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const zR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends Ei{construct(t,i,a){return new Fe(t,i,a)}static isValidIdentifier(t){return zR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vv}static keyField(){return new Fe([vv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(te.fromString(t))}static fromName(t){return new ht(te.fromString(t).popFirst(5))}static empty(){return new ht(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new te(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(s,t,i){if(!i)throw new at(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function jR(s,t,i,a){if(t===!0&&a===!0)throw new at(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Ev(s){if(!ht.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Tv(s){if(ht.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function AE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function hh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function kr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=hh(s);throw new at(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(s,t){const i={typeString:s};return t&&(i.value=t),i}function Hl(s,t){if(!AE(s))throw new at(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new at(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=-62135596800,bv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*bv);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Av)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Av;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ie("string",ie._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ie(0,0))}static max(){return new _t(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=-1;function BR(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new Xs(l,ht.empty(),t)}function qR(s){return new Xs(s.readTime,s.key,Cl)}class Xs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Xs(_t.min(),ht.empty(),Cl)}static max(){return new Xs(_t.max(),ht.empty(),Cl)}}function HR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,t.documentKey),i!==0?i:xt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==GR)throw s;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++g,g===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function QR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ro(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=-1;function dh(s){return s==null}function $c(s){return s===0&&1/s==-1/0}function KR(s){return typeof s=="number"&&Number.isInteger(s)&&!$c(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="";function YR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Sv(t)),t=XR(s.get(i),t);return Sv(t)}function XR(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case bE:i+="";break;default:i+=c}}return i}function Sv(s){return s+bE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function qr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function SE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Rv(this.data.getIterator())}getIteratorFrom(t){return new Rv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class Rv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new $n([])}unionWith(t){let i=new Me(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new $n(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ya(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new wE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const $R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(s){if(Ht(!!s,39018),typeof s=="string"){let t=0;const i=$R.exec(s);if(Ht(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Zs(s){return typeof s=="string"?Qe.fromBase64String(s):Qe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="server_timestamp",IE="__type__",CE="__previous_value__",NE="__local_write_time__";function Om(s){return(s?.mapValue?.fields||{})[IE]?.stringValue===RE}function mh(s){const t=s.mapValue.fields[CE];return Om(t)?mh(t):t}function Nl(s){const t=$s(s.mapValue.fields[NE].timestampValue);return new ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,i,a,l,c,d,g,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Zc="(default)";class Dl{constructor(t,i){this.projectId=t,this.database=i||Zc}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof Dl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="__type__",JR="__max__",Ic={mapValue:{}},xE="__vector__",Jc="value";function Js(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Om(s)?4:t2(s)?9007199254740991:WR(s)?10:11:gt(28295,{value:s})}function Ci(s,t){if(s===t)return!0;const i=Js(s);if(i!==Js(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Nl(s).isEqual(Nl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$s(l.timestampValue),g=$s(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Zs(l.bytesValue).isEqual(Zs(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),g=ge(c.doubleValue);return d===g?$c(d)===$c(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return Ya(s.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(wv(d)!==wv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Ci(d[_],g[_])))return!1;return!0})(s,t);default:return gt(52216,{left:s})}}function xl(s,t){return(s.values||[]).find((i=>Ci(i,t)))!==void 0}function Xa(s,t){if(s===t)return 0;const i=Js(s),a=Js(t);if(i!==a)return xt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return Iv(s.timestampValue,t.timestampValue);case 4:return Iv(Nl(s),Nl(t));case 5:return Jd(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=Zs(c),_=Zs(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const A=xt(g[y],_[y]);if(A!==0)return A}return xt(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=xt(ge(c.latitude),ge(d.latitude));return g!==0?g:xt(ge(c.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Cv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[Jc]?.arrayValue,A=_[Jc]?.arrayValue,b=xt(y?.values?.length||0,A?.values?.length||0);return b!==0?b:Cv(y,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let b=0;b<_.length&&b<A.length;++b){const N=Jd(_[b],A[b]);if(N!==0)return N;const H=Xa(g[_[b]],y[A[b]]);if(H!==0)return H}return xt(_.length,A.length)})(s.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function Iv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return xt(s,t);const i=$s(s),a=$s(t),l=xt(i.seconds,a.seconds);return l!==0?l:xt(i.nanos,a.nanos)}function Cv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Xa(i[l],a[l]);if(c)return c}return xt(i.length,a.length)}function $a(s){return Wd(s)}function Wd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=$s(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Zs(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ht.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Wd(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Wd(i.fields[d])}`;return l+"}"})(s.mapValue):gt(61005,{value:s})}function kc(s){switch(Js(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mh(s);return t?16+kc(t):16;case 5:return 2*s.stringValue.length;case 6:return Zs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+kc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return qr(a.fields,((c,d)=>{l+=c.length+kc(d)})),l})(s.mapValue);default:throw gt(13486,{value:s})}}function Nv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function tm(s){return!!s&&"integerValue"in s}function Mm(s){return!!s&&"arrayValue"in s}function Dv(s){return!!s&&"nullValue"in s}function xv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Lc(s){return!!s&&"mapValue"in s}function WR(s){return(s?.mapValue?.fields||{})[DE]?.stringValue===xE}function Tl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return qr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Tl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Tl(s.arrayValue.values[i]);return t}return{...s}}function t2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===JR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tl(i)}setAll(t){let i=Fe.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Tl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){qr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Vn(Tl(this.value))}}function OE(s){const t=[];return qr(s.fields,((i,a)=>{const l=new Fe([i]);if(Lc(a)){const c=OE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new $n(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new $e(t,0,_t.min(),_t.min(),_t.min(),Vn.empty(),0)}static newFoundDocument(t,i,a,l){return new $e(t,1,i,_t.min(),a,l,0)}static newNoDocument(t,i){return new $e(t,2,i,_t.min(),_t.min(),Vn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,_t.min(),_t.min(),Vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,i){this.position=t,this.inclusive=i}}function Ov(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=Xa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Mv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ci(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,i="asc"){this.field=t,this.dir=i}}function e2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{}class Re extends ME{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new i2(t,i,a):i==="array-contains"?new a2(t,a):i==="in"?new o2(t,a):i==="not-in"?new l2(t,a):i==="array-contains-any"?new u2(t,a):new Re(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new s2(t,a):new r2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Xa(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison(Xa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends ME{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Zn(t,i)}matches(t){return VE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VE(s){return s.op==="and"}function UE(s){return n2(s)&&VE(s)}function n2(s){for(const t of s.filters)if(t instanceof Zn)return!1;return!0}function em(s){if(s instanceof Re)return s.field.canonicalString()+s.op.toString()+$a(s.value);if(UE(s))return s.filters.map((t=>em(t))).join(",");{const t=s.filters.map((i=>em(i))).join(",");return`${s.op}(${t})`}}function kE(s,t){return s instanceof Re?(function(a,l){return l instanceof Re&&a.op===l.op&&a.field.isEqual(l.field)&&Ci(a.value,l.value)})(s,t):s instanceof Zn?(function(a,l){return l instanceof Zn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&kE(d,l.filters[g])),!0):!1})(s,t):void gt(19439)}function LE(s){return s instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${$a(i.value)}`})(s):s instanceof Zn?(function(i){return i.op.toString()+" {"+i.getFilters().map(LE).join(" ,")+"}"})(s):"Filter"}class i2 extends Re{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class s2 extends Re{constructor(t,i){super(t,"in",i),this.keys=PE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class r2 extends Re{constructor(t,i){super(t,"not-in",i),this.keys=PE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function PE(s,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class a2 extends Re{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Mm(i)&&xl(i.arrayValue,this.value)}}class o2 extends Re{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&xl(this.value.arrayValue,i)}}class l2 extends Re{constructor(t,i){super(t,"not-in",i)}matches(t){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!xl(this.value.arrayValue,i)}}class u2 extends Re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Mm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>xl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Vv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new c2(s,t,i,a,l,c,d)}function Vm(s){const t=Et(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>em(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>$a(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>$a(a))).join(",")),t.Te=i}return t.Te}function Um(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!e2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!kE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Mv(s.startAt,t.startAt)&&Mv(s.endAt,t.endAt)}function nm(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function h2(s,t,i,a,l,c,d,g){return new Gl(s,t,i,a,l,c,d,g)}function km(s){return new Gl(s)}function Uv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function zE(s){return s.collectionGroup!==null}function Al(s){const t=Et(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Fe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new th(c,a))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new th(Fe.keyField(),a))}return t.Ie}function bi(s){const t=Et(s);return t.Ee||(t.Ee=f2(t,Al(s))),t.Ee}function f2(s,t){if(s.limitType==="F")return Vv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new th(l.field,c)}));const i=s.endAt?new Wc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Wc(s.startAt.position,s.startAt.inclusive):null;return Vv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function im(s,t){const i=s.filters.concat([t]);return new Gl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function sm(s,t,i){return new Gl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function gh(s,t){return Um(bi(s),bi(t))&&s.limitType===t.limitType}function jE(s){return`${Vm(bi(s))}|lt:${s.limitType}`}function La(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>LE(l))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>$a(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>$a(l))).join(",")),`Target(${a})`})(bi(s))}; limitType=${s.limitType})`}function ph(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Al(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const y=Ov(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,Al(a),l)||a.endAt&&!(function(d,g,_){const y=Ov(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,Al(a),l))})(s,t)}function d2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function BE(s){return(t,i)=>{let a=!1;for(const l of Al(s)){const c=m2(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function m2(s,t,i){const a=s.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?Xa(_,y):gt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){qr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return SE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new le(ht.comparator);function ns(){return g2}const qE=new le(ht.comparator);function pl(...s){let t=qE;for(const i of s)t=t.insert(i.key,i);return t}function HE(s){let t=qE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Mr(){return bl()}function GE(){return bl()}function bl(){return new Hr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const p2=new le(ht.comparator),y2=new Me(ht.comparator);function Ot(...s){let t=y2;for(const i of s)t=t.add(i);return t}const _2=new Me(xt);function v2(){return _2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function FE(s){return{integerValue:""+s}}function E2(s,t){return KR(t)?FE(t):Lm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this._=void 0}}function T2(s,t,i){return s instanceof Ol?(function(l,c){const d={fields:{[IE]:{stringValue:RE},[NE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Om(c)&&(c=mh(c)),c&&(d.fields[CE]=c),{mapValue:d}})(i,t):s instanceof Ml?KE(s,t):s instanceof Vl?YE(s,t):(function(l,c){const d=QE(l,c),g=kv(d)+kv(l.Ae);return tm(d)&&tm(l.Ae)?FE(g):Lm(l.serializer,g)})(s,t)}function A2(s,t,i){return s instanceof Ml?KE(s,t):s instanceof Vl?YE(s,t):i}function QE(s,t){return s instanceof eh?(function(a){return tm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Ol extends yh{}class Ml extends yh{constructor(t){super(),this.elements=t}}function KE(s,t){const i=XE(t);for(const a of s.elements)i.some((l=>Ci(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Vl extends yh{constructor(t){super(),this.elements=t}}function YE(s,t){let i=XE(t);for(const a of s.elements)i=i.filter((l=>!Ci(l,a)));return{arrayValue:{values:i}}}class eh extends yh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function kv(s){return ge(s.integerValue||s.doubleValue)}function XE(s){return Mm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t,i){this.field=t,this.transform=i}}function S2(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Ml&&l instanceof Ml||a instanceof Vl&&l instanceof Vl?Ya(a.elements,l.elements,Ci):a instanceof eh&&l instanceof eh?Ci(a.Ae,l.Ae):a instanceof Ol&&l instanceof Ol})(s.transform,t.transform)}class w2{constructor(t,i){this.version=t,this.transformResults=i}}class Si{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Si}static exists(t){return new Si(void 0,t)}static updateTime(t){return new Si(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class _h{}function $E(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Pm(s.key,Si.none()):new Fl(s.key,s.data,Si.none());{const i=s.data,a=Vn.empty();let l=new Me(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Gr(s.key,a,new $n(l.toArray()),Si.none())}}function R2(s,t,i){s instanceof Fl?(function(l,c,d){const g=l.value.clone(),_=Pv(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof Gr?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Pv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(ZE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Sl(s,t,i,a){return s instanceof Fl?(function(c,d,g,_){if(!Pc(c.precondition,d))return g;const y=c.value.clone(),A=zv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof Gr?(function(c,d,g,_){if(!Pc(c.precondition,d))return g;const y=zv(c.fieldTransforms,_,d),A=d.data;return A.setAll(ZE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,a):(function(c,d,g){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function I2(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=QE(a.transform,l||null);c!=null&&(i===null&&(i=Vn.empty()),i.set(a.field,c))}return i||null}function Lv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ya(a,l,((c,d)=>S2(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Fl extends _h{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Gr extends _h{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ZE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Pv(s,t,i){const a=new Map;Ht(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,A2(d,g,i[l]))}return a}function zv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,T2(c,d,t))}return a}class Pm extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C2 extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&R2(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Sl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Sl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=GE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=$E(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Ya(this.mutations,t.mutations,((i,a)=>Lv(i,a)))&&Ya(this.baseMutations,t.baseMutations,((i,a)=>Lv(i,a)))}}class zm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return p2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new zm(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,Ut;function O2(s){switch(s){case X.OK:return gt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function JE(s){if(s===void 0)return es("GRPC error has no .code"),X.UNKNOWN;switch(s){case we.OK:return X.OK;case we.CANCELLED:return X.CANCELLED;case we.UNKNOWN:return X.UNKNOWN;case we.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case we.INTERNAL:return X.INTERNAL;case we.UNAVAILABLE:return X.UNAVAILABLE;case we.UNAUTHENTICATED:return X.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case we.NOT_FOUND:return X.NOT_FOUND;case we.ALREADY_EXISTS:return X.ALREADY_EXISTS;case we.PERMISSION_DENIED:return X.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case we.ABORTED:return X.ABORTED;case we.OUT_OF_RANGE:return X.OUT_OF_RANGE;case we.UNIMPLEMENTED:return X.UNIMPLEMENTED;case we.DATA_LOSS:return X.DATA_LOSS;default:return gt(39323,{code:s})}}(Ut=we||(we={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new Qs([4294967295,4294967295],0);function jv(s){const t=M2().encode(s),i=new dE;return i.update(t),new Uint8Array(i.digest())}function Bv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Qs([i,a],0),new Qs([l,c],0)]}class jm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new yl(`Invalid padding: ${i}`);if(a<0)throw new yl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Qs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Qs.fromNumber(a)));return l.compare(V2)===1&&(l=new Qs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=jv(t),[a,l]=Bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new jm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=jv(t),[a,l]=Bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new vh(_t.min(),l,new le(xt),ns(),Ot())}}class Ql{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ql(a,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class WE{constructor(t,i){this.targetId=t,this.Ce=i}}class tT{constructor(t,i,a=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class qv{constructor(){this.ve=0,this.Fe=Hv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),a=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Hv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class U2{constructor(t){this.Ge=t,this.ze=new Map,this.je=ns(),this.Je=Cc(),this.He=Cc(),this.Ye=new le(xt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(nm(c))if(a===0){const d=new ht(c.path);this.et(i,d,$e.newNoDocument(d,_t.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Zs(a).toUint8Array()}catch(_){if(_ instanceof wE)return Ka("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new jm(d,l,c)}catch(_){return Ka(_ instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&nm(g.target)){const _=new ht(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,$e.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ot();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new vh(t,i,this.Ye,this.je,a);return this.je=ns(),this.Je=Cc(),this.He=Cc(),this.Ye=new le(xt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new qv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(xt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(xt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new qv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Cc(){return new le(ht.comparator)}function Hv(){return new le(ht.comparator)}const k2={asc:"ASCENDING",desc:"DESCENDING"},L2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P2={and:"AND",or:"OR"};class z2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function rm(s,t){return s.useProto3Json||dh(t)?t:{value:t}}function nh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function eT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function j2(s,t){return nh(s,t.toTimestamp())}function wi(s){return Ht(!!s,49232),_t.fromTimestamp((function(i){const a=$s(i);return new ie(a.seconds,a.nanos)})(s))}function Bm(s,t){return am(s,t).canonicalString()}function am(s,t){const i=(function(l){return new te(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function nT(s){const t=te.fromString(s);return Ht(oT(t),10190,{key:t.toString()}),t}function om(s,t){return Bm(s.databaseId,t.path)}function Pd(s,t){const i=nT(t);if(i.get(1)!==s.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(sT(i))}function iT(s,t){return Bm(s.databaseId,t)}function B2(s){const t=nT(s);return t.length===4?te.emptyPath():sT(t)}function lm(s){return new te(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function sT(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Gv(s,t,i){return{name:om(s,t),fields:i.value.mapValue.fields}}function q2(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const A=y.code===void 0?X.UNKNOWN:JE(y.code);return new at(A,y.message||"")})(d);i=new tT(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Pd(s,a.document.name),c=wi(a.document.updateTime),d=a.document.createTime?wi(a.document.createTime):_t.min(),g=new Vn({mapValue:{fields:a.document.fields}}),_=$e.newFoundDocument(l,c,d,g),y=a.targetIds||[],A=a.removedTargetIds||[];i=new zc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Pd(s,a.document),c=a.readTime?wi(a.readTime):_t.min(),d=$e.newNoDocument(l,c),g=a.removedTargetIds||[];i=new zc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Pd(s,a.document),c=a.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new x2(l,c),g=a.targetId;i=new WE(g,d)}}return i}function H2(s,t){let i;if(t instanceof Fl)i={update:Gv(s,t.key,t.value)};else if(t instanceof Pm)i={delete:om(s,t.key)};else if(t instanceof Gr)i={update:Gv(s,t.key,t.data),updateMask:J2(t.fieldMask)};else{if(!(t instanceof C2))return gt(16599,{Vt:t.type});i={verify:om(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Ol)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ml)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Vl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof eh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:j2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(s,t.precondition)),i}function G2(s,t){return s&&s.length>0?(Ht(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?wi(l.updateTime):wi(c);return d.isEqual(_t.min())&&(d=wi(c)),new w2(d,l.transformResults||[])})(i,t)))):[]}function F2(s,t){return{documents:[iT(s,t.path)]}}function Q2(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=iT(s,l);const c=(function(y){if(y.length!==0)return aT(Zn.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(N){return{field:Pa(N.field),direction:X2(N.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=rm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function K2(s){let t=B2(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ht(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const N=rT(b);return N instanceof Zn&&UE(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((N=>(function(W){return new th(za(W.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let N;return N=typeof b=="object"?b.value:b,dh(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(b){const N=!!b.before,H=b.values||[];return new Wc(H,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const N=!b.before,H=b.values||[];return new Wc(H,N)})(i.endAt)),h2(t,l,d,c,g,"F",_,y)}function Y2(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function rT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=za(i.unaryFilter.field);return Re.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=za(i.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=za(i.unaryFilter.field);return Re.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Re.create(za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Zn.create(i.compositeFilter.filters.map((a=>rT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function X2(s){return k2[s]}function $2(s){return L2[s]}function Z2(s){return P2[s]}function Pa(s){return{fieldPath:s.canonicalString()}}function za(s){return Fe.fromServerFormat(s.fieldPath)}function aT(s){return s instanceof Re?(function(i){if(i.op==="=="){if(xv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NAN"}};if(Dv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(xv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NAN"}};if(Dv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(i.field),op:$2(i.op),value:i.value}}})(s):s instanceof Zn?(function(i){const a=i.getFilters().map((l=>aT(l)));return a.length===1?a[0]:{compositeFilter:{op:Z2(i.op),filters:a}}})(s):gt(54877,{filter:s})}function J2(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function oT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t,i,a,l,c=_t.min(),d=_t.min(),g=Qe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(t){this.yt=t}}function tI(s){const t=K2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?sm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.Cn=new nI}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Xs.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Xs.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class nI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(te.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lT=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(lT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Za(0)}static cr(){return new Za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="LruGarbageCollector",iI=1048576;function Kv([s,t],[i,a]){const l=xt(s,i);return l===0?xt(t,a):l}class sI{constructor(t){this.Ir=t,this.buffer=new Me(Kv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Kv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class rI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(Qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ro(i)?st(Qv,"Ignoring IndexedDB error during garbage collection: ",i):await so(i)}await this.Vr(3e5)}))}}class aI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(fh.ce);const a=new sI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Fv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,g,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,g=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(y=Date.now(),ka()<=Dt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function oI(s,t){return new aI(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.changes=new Hr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Sl(a.mutation,l,$n.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ot()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ot()){const l=Mr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=pl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Mr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ot())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=ns();const d=bl(),g=(function(){return bl()})();return i.forEach(((_,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof Gr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Sl(A.mutation,y,A.mutation.getFieldMask(),ie.now())):d.set(y.key,$n.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>g.set(y,new uI(A,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=bl();let l=new le(((d,g)=>d-g)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=a.get(_)||$n.empty();A=g.applyToLocalView(y,A),a.set(_,A);const b=(l.get(g.batchId)||Ot()).add(_);l=l.insert(g.batchId,b)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,A=_.value,b=GE();A.forEach((N=>{if(!c.has(N)){const H=$E(i.get(N),a.get(N));H!==null&&b.set(N,H),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):zE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Mr());let g=Cl,_=c;return d.next((y=>$.forEach(y,((A,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((N=>{_=_.insert(A,N)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Ot()))).next((A=>({batchId:g,changes:HE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let l=pl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=pl();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(_=>{const y=(function(b,N){return new Gl(N,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((A=>{A.forEach(((b,N)=>{d=d.insert(b,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,$e.newInvalidDocument(A)))}));let g=pl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Sl(A.mutation,y,$n.empty(),ie.now()),ph(i,y)&&(g=g.insert(_,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:wi(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:tI(l.bundledQuery),readTime:wi(l.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.overlays=new le(ht.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Mr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Mr(),c=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=Mr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const g=Mr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>g.set(y,A))),!(g.size()>=l)););return $.resolve(g)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new D2(i,a));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ht(new te([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new te([])),a=new Le(i,t),l=new Le(i,t+1);let c=Ot();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||xt(t.Yr,i.Yr)}static Kr(t,i){return xt(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new N2(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Le(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?xm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(xt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ht(c),0);let g=new Me(xt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t){this.ri=t,this.docs=(function(){return new le(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let a=ns();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ns();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||HR(qR(A),a)<=0||(l.has(A.key)||ph(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new pI(this)}getSize(t){return $.resolve(this.size)}}class pI extends lI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t){this.persistence=t,this.si=new Hr((i=>Vm(i)),Um),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new qm,this.targetCount=0,this.ai=Za.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Za(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t,i){this.ui={},this.overlays={},this.ci=new fh(0),this.li=!1,this.li=!0,this.hi=new dI,this.referenceDelegate=t(this),this.Pi=new yI(this),this.indexManager=new eI,this.remoteDocumentCache=(function(l){return new gI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new W2(i),this.Ii=new hI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new fI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new mI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const l=new _I(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class _I extends FR{constructor(t){super(),this.currentSequenceNumber=t}}class Hm{constructor(t){this.persistence=t,this.Ri=new qm,this.Vi=null}static mi(t){return new Hm(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=ht.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ih{constructor(t,i){this.persistence=t,this.pi=new Hr((a=>YR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=oI(this,i)}static mi(t,i){return new ih(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=kc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Gm(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ob()?8:QR(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new vI;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(ka()<=Dt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",La(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(ka()<=Dt.DEBUG&&st("QueryEngine","Query:",La(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(ka()<=Dt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",La(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(i))):$.resolve())}ys(t,i){if(Uv(i))return $.resolve(null);let a=bi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=sm(i,null,"F"),a=bi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,sm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return Uv(i)||l.isEqual(_t.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(ka()<=Dt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),La(i)),this.vs(t,d,i,BR(l,Cl)).next((g=>g)))}))}Ds(t,i){let a=new Me(BE(t));return i.forEach(((l,c)=>{ph(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return ka()<=Dt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",La(i)),this.ps.getDocumentsMatchingQuery(t,i,Xs.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="LocalStore",TI=3e8;class AI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(xt),this.xs=new Hr((c=>Vm(c)),Um),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function bI(s,t,i,a){return new AI(s,t,i,a)}async function cT(s,t){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Ot();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){g.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function SI(s,t){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,A){const b=y.batch,N=b.keys();let H=$.resolve();return N.forEach((W=>{H=H.next((()=>A.getEntry(_,W))).next((J=>{const Z=y.docVersions.get(W);Ht(Z!==null,48541),J.version.compareTo(Z)<0&&(b.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),A.addEntry(J)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(_,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Ot();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function hT(s){const t=Et(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function wI(s,t){const i=Et(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((A,b)=>{const N=l.get(b);if(!N)return;g.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let H=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?H=H.withResumeToken(Qe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,a)),l=l.insert(b,H),(function(J,Z,et){return J.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=TI?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(N,H,A)&&g.push(i.Pi.updateTargetData(c,H))}));let _=ns(),y=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(RI(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!a.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(A)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function RI(s,t,i){let a=Ot(),l=Ot();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=ns();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(_t.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):st(Fm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function II(s,t){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=xm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function CI(s,t){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new qs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function um(s,t,i){const a=Et(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ro(d))throw d;st(Fm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Yv(s,t,i){const a=Et(s);let l=_t.min(),c=Ot();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const b=Et(_),N=b.xs.get(A);return N!==void 0?$.resolve(b.Ms.get(N)):b.Pi.getTargetData(y,A)})(a,d,bi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Ot()))).next((g=>(NI(a,d2(t),g),{documents:g,Qs:c})))))}function NI(s,t,i){let a=s.Os.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class Xv{constructor(){this.activeTargetIds=v2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DI{constructor(){this.Mo=new Xv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Xv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="ConnectivityMonitor";class Zv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st($v,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st($v,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=null;function cm(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="RestConnection",OI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Zc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=cm(),g=this.zo(t,i.toUriEncodedString());st(zd,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),A=to(y);return this.Jo(t,g,_,a,A).then((b=>(st(zd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Ka(zd,`RPC '${t}' ${d} failed with error: `,b,"url: ",g,"request:",a),b}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+io})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=OI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class UI extends MI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=cm();return new Promise(((g,_)=>{const y=new mE;y.setWithCredentials(!0),y.listenOnce(gE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const b=y.getResponseJson();st(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),g(b);break;case Uc.TIMEOUT:st(Ye,`RPC '${t}' ${d} timed out`),_(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const N=y.getStatus();if(st(Ye,`RPC '${t}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const W=H?.error;if(W&&W.status&&W.message){const J=(function(et){const dt=et.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(dt)>=0?dt:X.UNKNOWN})(W.status);_(new at(J,W.message))}else _(new at(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new at(X.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(Ye,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);st(Ye,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=cm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=_E(),g=yE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=c.join("");st(Ye,`Creating RPC '${t}' stream ${l}: ${A}`,_);const b=d.createWebChannel(A,_);this.I_(b);let N=!1,H=!1;const W=new VI({Yo:Z=>{H?st(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(N||(st(Ye,`Opening RPC '${t}' stream ${l} transport.`),b.open(),N=!0),st(Ye,`RPC '${t}' stream ${l} sending:`,Z),b.send(Z))},Zo:()=>b.close()}),J=(Z,et,dt)=>{Z.listen(et,(lt=>{try{dt(lt)}catch(wt){setTimeout((()=>{throw wt}),0)}}))};return J(b,gl.EventType.OPEN,(()=>{H||(st(Ye,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),J(b,gl.EventType.CLOSE,(()=>{H||(H=!0,st(Ye,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(b))})),J(b,gl.EventType.ERROR,(Z=>{H||(H=!0,Ka(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),W.a_(new at(X.UNAVAILABLE,"The operation could not be completed")))})),J(b,gl.EventType.MESSAGE,(Z=>{if(!H){const et=Z.data[0];Ht(!!et,16349);const dt=et,lt=dt?.error||dt[0]?.error;if(lt){st(Ye,`RPC '${t}' stream ${l} received error:`,lt);const wt=lt.status;let Jt=(function(S){const I=we[S];if(I!==void 0)return JE(I)})(wt),kt=lt.message;Jt===void 0&&(Jt=X.INTERNAL,kt="Unknown error status: "+wt+" with message "+lt.message),H=!0,W.a_(new at(Jt,kt)),b.close()}else st(Ye,`RPC '${t}' stream ${l} received:`,et),W.u_(et)}})),J(g,pE.STAT_EVENT,(Z=>{Z.stat===Zd.PROXY?st(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Zd.NOPROXY&&st(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function jd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(s){return new z2(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="PersistentStream";class dT{constructor(t,i,a,l,c,d,g,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(es(i.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new at(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(Jv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(Jv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kI extends dT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=q2(this.serializer,t),a=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?wi(d.readTime):_t.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=lm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=nm(_)?{documents:F2(c,_)}:{query:Q2(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=eT(c,d.resumeToken);const y=rm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=nh(c,d.snapshotVersion.toTimestamp());const y=rm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=Y2(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=lm(this.serializer),i.removeTarget=t,this.q_(i)}}class LI extends dT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=G2(t.writeResults,t.commitTime),a=wi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=lm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>H2(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{}class zI extends PI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,am(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(X.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,am(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class jI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="RemoteStore";class BI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Fr(this)&&(st(Br,"Restarting streams for network reachability change."),await(async function(_){const y=Et(_);y.Ea.add(4),await Kl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Th(y)})(this))}))})),this.Ra=new jI(a,l)}}async function Th(s){if(Fr(s))for(const t of s.da)await t(!0)}async function Kl(s){for(const t of s.da)await t(!1)}function mT(s,t){const i=Et(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Xm(i)?Ym(i):ao(i).O_()&&Km(i,t))}function Qm(s,t){const i=Et(s),a=ao(i);i.Ia.delete(t),a.O_()&&gT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Fr(i)&&i.Ra.set("Unknown"))}function Km(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ao(s).Y_(t)}function gT(s,t){s.Va.Ue(t),ao(s).Z_(t)}function Ym(s){s.Va=new U2({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),ao(s).start(),s.Ra.ua()}function Xm(s){return Fr(s)&&!ao(s).x_()&&s.Ia.size>0}function Fr(s){return Et(s).Ea.size===0}function pT(s){s.Va=void 0}async function qI(s){s.Ra.set("Online")}async function HI(s){s.Ia.forEach(((t,i)=>{Km(s,t)}))}async function GI(s,t){pT(s),Xm(s)?(s.Ra.ha(t),Ym(s)):s.Ra.set("Unknown")}async function FI(s,t,i){if(s.Ra.set("Online"),t instanceof tT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(a){st(Br,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await sh(s,a)}else if(t instanceof zc?s.Va.Ze(t):t instanceof WE?s.Va.st(t):s.Va.tt(t),!i.isEqual(_t.min()))try{const a=await hT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),gT(c,_);const b=new qs(A.target,_,y,A.sequenceNumber);Km(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){st(Br,"Failed to raise snapshot:",a),await sh(s,a)}}async function sh(s,t,i){if(!ro(t))throw t;s.Ea.add(1),await Kl(s),s.Ra.set("Offline"),i||(i=()=>hT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(Br,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Th(s)}))}function yT(s,t){return t().catch((i=>sh(s,i,t)))}async function Ah(s){const t=Et(s),i=Ws(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:xm;for(;QI(t);)try{const l=await II(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,KI(t,l)}catch(l){await sh(t,l)}_T(t)&&vT(t)}function QI(s){return Fr(s)&&s.Ta.length<10}function KI(s,t){s.Ta.push(t);const i=Ws(s);i.O_()&&i.X_&&i.ea(t.mutations)}function _T(s){return Fr(s)&&!Ws(s).x_()&&s.Ta.length>0}function vT(s){Ws(s).start()}async function YI(s){Ws(s).ra()}async function XI(s){const t=Ws(s);for(const i of s.Ta)t.ea(i.mutations)}async function $I(s,t,i){const a=s.Ta.shift(),l=zm.from(a,t,i);await yT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ah(s)}async function ZI(s,t){t&&Ws(s).X_&&await(async function(a,l){if((function(d){return O2(d)&&d!==X.ABORTED})(l.code)){const c=a.Ta.shift();Ws(a).B_(),await yT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ah(a)}})(s,t),_T(s)&&vT(s)}async function Wv(s,t){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),st(Br,"RemoteStore received new credentials");const a=Fr(i);i.Ea.add(3),await Kl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Th(i)}async function JI(s,t){const i=Et(s);t?(i.Ea.delete(2),await Th(i)):t||(i.Ea.add(2),await Kl(i),i.Ra.set("Unknown"))}function ao(s){return s.ma||(s.ma=(function(i,a,l){const c=Et(i);return c.sa(),new kI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:qI.bind(null,s),t_:HI.bind(null,s),r_:GI.bind(null,s),H_:FI.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Xm(s)?Ym(s):s.Ra.set("Unknown")):(await s.ma.stop(),pT(s))}))),s.ma}function Ws(s){return s.fa||(s.fa=(function(i,a,l){const c=Et(i);return c.sa(),new LI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:YI.bind(null,s),r_:ZI.bind(null,s),ta:XI.bind(null,s),na:$I.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Ah(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Br,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new $m(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(s,t){if(es("AsyncQueue",`${t}: ${s}`),ro(s))return new at(X.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=pl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ga;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this.ga=new le(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Ja{constructor(t,i,a,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ja(t,i,Ga.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class tC{constructor(){this.queries=e0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Et(i),c=l.queries;l.queries=e0(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new at(X.ABORTED,"Firestore shutting down"))}}function e0(){return new Hr((s=>jE(s)),gh)}async function eC(s,t){const i=Et(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new WI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Zm(d,`Initialization of query '${La(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Jm(i)}async function nC(s,t){const i=Et(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function iC(s,t){const i=Et(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&Jm(i)}function sC(s,t,i){const a=Et(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Jm(s){s.Ca.forEach((t=>{t.next()}))}var hm,n0;(n0=hm||(hm={})).Ma="default",n0.Cache="cache";class rC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Ja(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ja.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(t){this.key=t}}class TT{constructor(t){this.key=t}}class aC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=BE(t),this.tu=new Ga(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new t0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const N=l.get(A),H=ph(this.query,b)?b:null,W=!!N&&this.mutatedKeys.has(N.key),J=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;N&&H?N.data.isEqual(H.data)?W!==J&&(a.track({type:3,doc:H}),Z=!0):this.su(N,H)||(a.track({type:2,doc:H}),Z=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(g=!0)):!N&&H?(a.track({type:0,doc:H}),Z=!0):N&&!H&&(a.track({type:1,doc:N}),Z=!0,(_||y)&&(g=!0)),Z&&(H?(d=d.add(H),c=J?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(H,W){const J=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:Z})}};return J(H)-J(W)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new Ja(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new t0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new TT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new ET(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ja.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wm="SyncEngine";class oC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class lC{constructor(t){this.key=t,this.hu=!1}}class uC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Hr((g=>jE(g)),gh),this.Iu=new Map,this.Eu=new Set,this.du=new le(ht.comparator),this.Au=new Map,this.Ru=new qm,this.Vu={},this.mu=new Map,this.fu=Za.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cC(s,t,i=!0){const a=IT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await AT(a,t,i,!0),l}async function hC(s,t){const i=IT(s);await AT(i,t,!0,!1)}async function AT(s,t,i,a){const l=await CI(s.localStore,bi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await fC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&mT(s.remoteStore,l),g}async function fC(s,t,i,a,l){s.pu=(b,N,H)=>(async function(J,Z,et,dt){let lt=Z.view.ru(et);lt.Cs&&(lt=await Yv(J.localStore,Z.query,!1).then((({documents:C})=>Z.view.ru(C,lt))));const wt=dt&&dt.targetChanges.get(Z.targetId),Jt=dt&&dt.targetMismatches.get(Z.targetId)!=null,kt=Z.view.applyChanges(lt,J.isPrimaryClient,wt,Jt);return s0(J,Z.targetId,kt.au),kt.snapshot})(s,b,N,H);const c=await Yv(s.localStore,t,!0),d=new aC(t,c.Qs),g=d.ru(c.documents),_=Ql.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);s0(s,i,y.au);const A=new oC(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function dC(s,t,i){const a=Et(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!gh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await um(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Qm(a.remoteStore,l.targetId),fm(a,l.targetId)})).catch(so)):(fm(a,l.targetId),await um(a.localStore,l.targetId,!0))}async function mC(s,t){const i=Et(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Qm(i.remoteStore,a.targetId))}async function gC(s,t,i){const a=AC(s);try{const l=await(function(d,g){const _=Et(d),y=ie.now(),A=g.reduce(((H,W)=>H.add(W.key)),Ot());let b,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let W=ns(),J=Ot();return _.Ns.getEntries(H,A).next((Z=>{W=Z,W.forEach(((et,dt)=>{dt.isValidDocument()||(J=J.add(et))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,W))).next((Z=>{b=Z;const et=[];for(const dt of g){const lt=I2(dt,b.get(dt.key).overlayedDocument);lt!=null&&et.push(new Gr(dt.key,lt,OE(lt.value.mapValue),Si.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,et,g)})).next((Z=>{N=Z;const et=Z.applyToLocalDocumentSet(b,J);return _.documentOverlayCache.saveOverlays(H,Z.batchId,et)}))})).then((()=>({batchId:N.batchId,changes:HE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new le(xt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Yl(a,l.changes),await Ah(a.remoteStore)}catch(l){const c=Zm(l,"Failed to persist write");i.reject(c)}}async function bT(s,t){const i=Et(s);try{const a=await wI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Yl(i,a,t)}catch(a){await so(a)}}function i0(s,t,i){const a=Et(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Et(d);_.onlineState=g;let y=!1;_.queries.forEach(((A,b)=>{for(const N of b.Sa)N.va(g)&&(y=!0)})),y&&Jm(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function pC(s,t,i){const a=Et(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(ht.comparator);d=d.insert(c,$e.newNoDocument(c,_t.min()));const g=Ot().add(c),_=new vh(_t.min(),new Map,new le(xt),d,g);await bT(a,_),a.du=a.du.remove(c),a.Au.delete(t),tg(a)}else await um(a.localStore,t,!1).then((()=>fm(a,t,i))).catch(so)}async function yC(s,t){const i=Et(s),a=t.batch.batchId;try{const l=await SI(i.localStore,t);wT(i,a,null),ST(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yl(i,l)}catch(l){await so(l)}}async function _C(s,t,i){const a=Et(s);try{const l=await(function(d,g){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,g).next((b=>(Ht(b!==null,37113),A=b.keys(),_.mutationQueue.removeMutationBatch(y,b)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);wT(a,t,i),ST(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Yl(a,l)}catch(l){await so(l)}}function ST(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function wT(s,t,i){const a=Et(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function fm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||RT(s,a)}))}function RT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Qm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),tg(s))}function s0(s,t,i){for(const a of i)a instanceof ET?(s.Ru.addReference(a.key,t),vC(s,a)):a instanceof TT?(st(Wm,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||RT(s,a.key)):gt(19791,{wu:a})}function vC(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(st(Wm,"New document in limbo: "+i),s.Eu.add(a),tg(s))}function tg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ht(te.fromString(t)),a=s.fu.next();s.Au.set(a,new lC(i)),s.du=s.du.insert(i,a),mT(s.remoteStore,new qs(bi(km(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function Yl(s,t,i){const a=Et(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Gm.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const A=Et(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>$.forEach(y,(N=>$.forEach(N.Es,(H=>A.persistence.referenceDelegate.addReference(b,N.targetId,H))).next((()=>$.forEach(N.ds,(H=>A.persistence.referenceDelegate.removeReference(b,N.targetId,H)))))))))}catch(b){if(!ro(b))throw b;st(Fm,"Failed to update sequence numbers: "+b)}for(const b of y){const N=b.targetId;if(!b.fromCache){const H=A.Ms.get(N),W=H.snapshotVersion,J=H.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(N,J)}}})(a.localStore,c))}async function EC(s,t){const i=Et(s);if(!i.currentUser.isEqual(t)){st(Wm,"User change. New user:",t.toKey());const a=await cT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new at(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Yl(i,a.Ls)}}function TC(s,t){const i=Et(s),a=i.Au.get(t);if(a&&a.hu)return Ot().add(a.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function IT(s){const t=Et(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=bT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pC.bind(null,t),t.Pu.H_=iC.bind(null,t.eventManager),t.Pu.yu=sC.bind(null,t.eventManager),t}function AC(s){const t=Et(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_C.bind(null,t),t}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return bI(this.persistence,new EI,t.initialUser,this.serializer)}Cu(t){return new uT(Hm.mi,this.serializer)}Du(t){return new DI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class bC extends rh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof ih,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new rI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new uT((a=>ih.mi(a,i)),this.serializer)}}class dm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>i0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=EC.bind(null,this.syncEngine),await JI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new tC})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),a=(function(c){return new UI(c)})(t.databaseInfo);return(function(c,d,g,_){return new zI(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new BI(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>i0(this.syncEngine,i,0)),(function(){return Zv.v()?new Zv:new xI})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,A){const b=new uC(l,c,d,g,_,y);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Et(i);st(Br,"RemoteStore shutting down."),a.Ea.add(5),await Kl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dm.provider={build:()=>new dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):es("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="FirestoreClient";class wC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=Dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Zm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Bd(s,t){s.asyncQueue.verifyOperationInProgress(),st(tr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await cT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function r0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await RC(s);st(tr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Wv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Wv(t.remoteStore,l))),s._onlineComponents=t}async function RC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(tr,"Using user provided OfflineComponentProvider");try{await Bd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ka("Error using user provided cache. Falling back to memory cache: "+i),await Bd(s,new rh)}}else st(tr,"Using default OfflineComponentProvider"),await Bd(s,new bC(void 0));return s._offlineComponents}async function CT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(tr,"Using user provided OnlineComponentProvider"),await r0(s,s._uninitializedComponentsProvider._online)):(st(tr,"Using default OnlineComponentProvider"),await r0(s,new dm))),s._onlineComponents}function IC(s){return CT(s).then((t=>t.syncEngine))}async function a0(s){const t=await CT(s),i=t.eventManager;return i.onListen=cC.bind(null,t.syncEngine),i.onUnlisten=dC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=hC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=mC.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="firestore.googleapis.com",l0=!0;class u0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DT,this.ssl=l0}else this.host=t.host,this.ssl=t.ssl??l0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=lT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<iI)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}jR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new DR;switch(a.type){case"firstParty":return new VR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=o0.get(i);a&&(st("ComponentProvider","Removing Datastore"),o0.delete(i),a.terminate())})(this),Promise.resolve()}}function CC(s,t,i,a={}){s=kr(s,bh);const l=to(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(C0(`https://${g}`),N0("Firestore",!0)),c.host!==DT&&c.host!==g&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!Pr(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=Xe.MOCK_USER;else{y=JA(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(b)}s._authCredentials=new xR(new EE(y,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new oo(this.firestore,t,this._query)}}class Ce{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Hl(i,Ce._jsonSchema))return new Ce(t,a||null,new ht(te.fromString(i.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Ie("string",Ce._jsonSchemaVersion),referencePath:Ie("string")};class Ks extends oo{constructor(t,i,a){super(t,i,km(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new ht(t))}withConverter(t){return new Ks(this.firestore,t,this._path)}}function ah(s,t,...i){if(s=en(s),TE("collection","path",t),s instanceof bh){const a=te.fromString(t,...i);return Tv(a),new Ks(s,null,a)}{if(!(s instanceof Ce||s instanceof Ks))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(t,...i));return Tv(a),new Ks(s.firestore,null,a)}}function mm(s,t,...i){if(s=en(s),arguments.length===1&&(t=Dm.newId()),TE("doc","path",t),s instanceof bh){const a=te.fromString(t,...i);return Ev(a),new Ce(s,null,new ht(a))}{if(!(s instanceof Ce||s instanceof Ks))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(t,...i));return Ev(a),new Ce(s.firestore,s instanceof Ks?s.converter:null,new ht(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="AsyncQueue";class h0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fT(this,"async_queue_retry"),this._c=()=>{const a=jd();a&&st(c0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ro(t))throw t;st(c0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",f0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=$m.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:f0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function f0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Ul extends bh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new h0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new h0(t),this._firestoreClient=void 0,await t}}}function NC(s,t){const i=typeof s=="object"?s:M0(),a=typeof s=="string"?s:Zc,l=Em(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=$A("firestore");c&&CC(l,...c)}return l}function xT(s){if(s._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||DC(s),s._firestoreClient}function DC(s){const t=s._freezeSettings(),i=(function(l,c,d,g){return new ZR(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,NT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new wC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Qe.fromBase64String(t))}catch(i){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ie("string",Un._jsonSchemaVersion),bytes:Ie("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(Hl(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Ie("string",Ri._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hl(t,Ii._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ii(t.vectorValues);throw new at(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:Ie("string",Ii._jsonSchemaVersion),vectorValues:Ie("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=/^__.*__$/;class OC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Gr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(t,this.data,i,this.fieldTransforms)}}function OT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:s})}}class ig{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ig({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return oh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(OT(this.Ac)&&xC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class MC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(t)}Cc(t,i,a,l=!1){return new ig({Ac:t,methodName:i,Dc:a,path:Fe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function MT(s){const t=s._freezeSettings(),i=Eh(s._databaseId);return new MC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function VC(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);kT("Data must be an object, but it was:",d,a);const g=VT(a,d);let _,y;if(c.merge)_=new $n(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const N=kC(t,b,i);if(!d.contains(N))throw new at(X.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);PC(A,N)||A.push(N)}_=new $n(A),y=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,y=d.fieldTransforms;return new OC(new Vn(g),_,y)}class sg extends ng{_toFieldTransform(t){return new b2(t.path,new Ol)}isEqual(t){return t instanceof sg}}function UC(s,t,i,a=!1){return rg(i,s.Cc(a?4:3,t))}function rg(s,t){if(UT(s=en(s)))return kT("Unsupported field value:",t,s),VT(s,t);if(s instanceof ng)return(function(a,l){if(!OT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=rg(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=en(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return E2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ie.fromDate(a);return{timestampValue:nh(l.serializer,c)}}if(a instanceof ie){const c=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:nh(l.serializer,c)}}if(a instanceof Ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:eT(l.serializer,a._byteString)};if(a instanceof Ce){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Bm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ii)return(function(d,g){return{mapValue:{fields:{[DE]:{stringValue:xE},[Jc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Lm(g.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${hh(a)}`)})(s,t)}function VT(s,t){const i={};return SE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qr(s,((a,l)=>{const c=rg(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function UT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ie||s instanceof Ri||s instanceof Un||s instanceof Ce||s instanceof ng||s instanceof Ii)}function kT(s,t,i){if(!UT(i)||!AE(i)){const a=hh(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function kC(s,t,i){if((t=en(t))instanceof eg)return t._internalPath;if(typeof t=="string")return LT(s,t);throw oh("Field path arguments must be of type string or ",s,!1,void 0,i)}const LC=new RegExp("[~\\*/\\[\\]]");function LT(s,t,i){if(t.search(LC)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new eg(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function oh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new at(X.INVALID_ARGUMENT,g+s+_)}function PC(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new zC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(zT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class zC extends PT{data(){return super.data()}}function zT(s,t){return typeof t=="string"?LT(s,t):t instanceof eg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ag{}class BC extends ag{}function m0(s,t,...i){let a=[];t instanceof ag&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((_=>_ instanceof lg)).length,g=c.filter((_=>_ instanceof og)).length;if(d>1||d>0&&g>0)throw new at(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class og extends BC{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new og(t,i,a)}_apply(t){const i=this._parse(t);return jT(t._query,i),new oo(t.firestore,t.converter,im(t._query,i))}_parse(t){const i=MT(t.firestore);return(function(c,d,g,_,y,A,b){let N;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){p0(b,A);const W=[];for(const J of b)W.push(g0(_,c,J));N={arrayValue:{values:W}}}else N=g0(_,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||p0(b,A),N=UC(g,d,b,A==="in"||A==="not-in");return Re.create(y,A,N)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class lg extends ag{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new lg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Zn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const _ of g)jT(d,_),d=im(d,_)})(t._query,i),new oo(t.firestore,t.converter,im(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function g0(s,t,i){if(typeof(i=en(i))=="string"){if(i==="")throw new at(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zE(t)&&i.indexOf("/")!==-1)throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(te.fromString(i));if(!ht.isDocumentKey(a))throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Nv(s,new ht(a))}if(i instanceof Ce)return Nv(s,i._key);throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(i)}.`)}function p0(s,t){if(!Array.isArray(s)||s.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jT(s,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class qC{convertValue(t,i="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return qr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Jc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new Ii(i)}convertGeoPoint(t){return new Ri(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Nl(t));default:return null}}convertTimestamp(t){const i=$s(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=te.fromString(t);Ht(oT(a),9688,{name:t});const l=new Dl(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return l.isEqual(i)||es(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class _l{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Lr extends PT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(zT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Lr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Lr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Lr._jsonSchema={type:Ie("string",Lr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class jc extends Lr{data(t={}){return super.data(t)}}class Fa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new _l(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new jc(this._firestore,this._userDataWriter,a.key,a,new _l(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new _l(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new _l(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:GC(g.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function GC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Ie("string",Fa._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class BT extends qC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,i)}}function FC(s,t,i){s=kr(s,Ce);const a=kr(s.firestore,Ul),l=HC(s.converter,t);return HT(a,[VC(MT(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Si.none())])}function qT(s){return HT(kr(s.firestore,Ul),[new Pm(s._key,Si.none())])}function y0(s,...t){s=en(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||d0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(d0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,g;if(s instanceof Ce)d=kr(s.firestore,Ul),g=km(s._key.path),c={next:_=>{t[a]&&t[a](QC(d,s,_))},error:t[a+1],complete:t[a+2]};else{const _=kr(s,oo);d=kr(_.firestore,Ul),g=_._query;const y=new BT(d);c={next:A=>{t[a]&&t[a](new Fa(d,y,_,A))},error:t[a+1],complete:t[a+2]},jC(s._query)}return(function(y,A,b,N){const H=new SC(N),W=new rC(A,H,b);return y.asyncQueue.enqueueAndForget((async()=>eC(await a0(y),W))),()=>{H.Nu(),y.asyncQueue.enqueueAndForget((async()=>nC(await a0(y),W)))}})(xT(d),g,l,c)}function HT(s,t){return(function(a,l){const c=new Ur;return a.asyncQueue.enqueueAndForget((async()=>gC(await IC(a),l,c))),c.promise})(xT(s),t)}function QC(s,t,i){const a=i.docs.get(t._key),l=new BT(s);return new Lr(s,l,t._key,a,new _l(i.hasPendingWrites,i.fromCache),t.converter)}function KC(){return new sg("serverTimestamp")}(function(t,i=!0){(function(l){io=l})(eo),Qa(new zr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Ul(new OR(a.getProvider("auth-internal")),new UR(d,a.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Fs(pv,yv,t),Fs(pv,yv,"esm2020")})();/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),_0=s=>{const t=XC(s);return t.charAt(0).toUpperCase()+t.slice(1)},GT=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),$C=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=jt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},_)=>jt.createElement("svg",{ref:_,...ZC,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:GT("lucide",l),...!c&&!$C(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,A])=>jt.createElement(y,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=(s,t)=>{const i=jt.forwardRef(({className:a,...l},c)=>jt.createElement(JC,{ref:c,iconNode:t,className:GT(`lucide-${YC(_0(s))}`,`lucide-${s}`,a),...l}));return i.displayName=_0(s),i};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],FT=kn("chart-column",WC);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],QT=kn("circle-check-big",tN);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],v0=kn("circle-x",eN);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],iN=kn("contact",nN);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],rN=kn("house",sN);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],KT=kn("loader",aN);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lN=kn("log-out",oN);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],YT=kn("shield",uN);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],XT=kn("trash-2",cN);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sh=kn("users",hN);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bc=kn("user",fN);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],mN=kn("zap",dN),gN={apiKey:"AIzaSyBy_3k0dPsPCN5b_iOfZl22eJoq8BWbaRo",authDomain:"elecmanager-6f50a.firebaseapp.com",projectId:"elecmanager-6f50a",storageBucket:"elecmanager-6f50a.appspot.com",messagingSenderId:"872950170067",appId:"1:872950170067:web:dc23cc105538d3e88baf26",measurementId:"G-GXP88CTD96"},$T=typeof __app_id<"u"?__app_id:"default-app-id",Dc=typeof __initial_auth_token<"u"?__initial_auth_token:null,qd=typeof __firebase_config<"u"&&Object.keys(__firebase_config).length>0?typeof __firebase_config=="string"?JSON.parse(__firebase_config):__firebase_config:gN,ZT="https://www.unenouvelleenergie.fr/app/uploads/2025/08/logo.svg",gm={a_contacter:0,a_convaincre:30,probable:50,acquis:100,a_voter:100,vote_valide:100},Wa={a_contacter:" Contacter (0%)",a_convaincre:" Convaincre (30%)",probable:"Probable (50%)",acquis:"Acquis (100%)",a_voter:" Voter (100% - Jour J)",vote_valide:"Vote Valid (100%)"},ug={a_contacter:"bg-gray-400 text-gray-800",a_convaincre:"bg-yellow-400 text-yellow-900",probable:"bg-blue-400 text-blue-900",acquis:"bg-green-500 text-white",a_voter:"bg-indigo-500 text-white",vote_valide:"bg-purple-600 text-white"},JT=s=>`artifacts/${$T}/users/${s}/contacts`,pm=()=>`artifacts/${$T}/public/data/staff_members`,pN=()=>(jt.useEffect(()=>{if(!document.querySelector("script[data-tailwind-cdn]")){const s=document.createElement("script");s.src="https://cdn.tailwindcss.com",s.setAttribute("data-tailwind-cdn","true"),document.head.appendChild(s)}},[]),V.jsx("style",{children:`
            /* --- Rinitialisation et Polices --- */
            * {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
            }
            @keyframes spin {
                from { transform: rotate(0deg); }
                to { transform: rotate(360deg); }
            }
            .animate-spin { animation: spin 1s linear infinite; }
            .font-sans { font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif; }
            
            /* --- Layout Gnral --- */
            .h-screen { height: 100vh; }
            .flex { display: flex; }
            .flex-col { flex-direction: column; }
            .flex-grow { flex-grow: 1; }
            .flex-shrink-0 { flex-shrink: 0; }
            .items-center { align-items: center; }
            .justify-center { justify-content: center; }
            .justify-end { justify-content: flex-end; }
            .justify-between { justify-content: space-between; }
            .justify-start { justify-content: flex-start; }
            .overflow-y-auto { overflow-y: auto; }
            .p-4 { padding: 1rem; }
            .p-6 { padding: 1.5rem; }
            .mb-8 { margin-bottom: 2rem; }
            .mb-6 { margin-bottom: 1.5rem; }
            .space-x-4 > * + *, .space-y-4 > * + * { margin: 0; }
            .space-x-4 > * + * { margin-left: 1rem; }
            .space-y-4 > * + * { margin-top: 1rem; }
            .gap-4 { gap: 1rem; }
            .gap-6 { gap: 1.5rem; }

            /* --- Couleurs et Ombres de Base --- */
            .bg-gray-100 { background-color: #f3f4f6; }
            .bg-white { background-color: #fff; }
            .bg-indigo-800 { background-color: #3730a3; } /* Navigation */
            .text-indigo-200 { color: #a5b4fc; }
            .text-indigo-300 { color: #818cf8; }
            .text-white { color: #fff; }
            .text-gray-800 { color: #1f2937; }
            .text-gray-600 { color: #4b5563; }
            .shadow-2xl { box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }
            .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }

            /* --- Conteneurs et Cartes --- */
            .rounded-xl { border-radius: 0.75rem; }
            .rounded-lg { border-radius: 0.5rem; }
            .border { border: 1px solid #e5e7eb; }
            .border-t-4 { border-top-width: 4px; }
            .border-indigo-500 { border-color: #6366f1; }
            .grid { display: grid; }
            
            /* --- Navigation Sidebar --- */
            .w-20 { width: 5rem; }
            @media (min-width: 1024px) { /* lg:w-64 */
                .lg\\:w-64 { width: 16rem; }
                .hidden.lg\\:block { display: block; }
                .hidden.lg\\:inline { display: inline; }
            }
            .lg\\:justify-start { justify-content: flex-start; }

            /* --- Navigation Item (Boutons) --- */
            .nav-item-base {
                display: flex;
                align-items: center;
                transition-duration: 200ms;
                width: 100%;
                font-weight: 500;
                border-radius: 0.75rem;
                padding: 0.75rem;
                cursor: pointer;
            }
            .nav-item-inactive {
                color: #a5b4fc;
                background-color: transparent;
            }
            .nav-item-inactive:hover {
                background-color: #4f46e5; /* indigo-700 */
                color: #fff;
            }
            .nav-item-active {
                background-color: #4f46e5; /* indigo-600 */
                color: #fff;
                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
            }

            /* --- Boutons Gnraux --- */
            .btn-base {
                padding: 0.5rem 1rem;
                font-weight: 500;
                border-radius: 0.5rem;
                transition-duration: 150ms;
                box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
            }
            .btn-indigo {
                background-color: #4f46e5; /* indigo-600 */
                color: #fff;
            }
            .btn-indigo:hover {
                background-color: #4338ca; /* indigo-700 */
            }
            .btn-gray {
                background-color: #e5e7eb; /* gray-200 */
                color: #4b5563; /* gray-700 */
            }
            .btn-gray:hover {
                background-color: #d1d5db; /* gray-300 */
            }

            /* Bouton Deconnexion Spcifique */
            .btn-logout {
                background-color: #fca5a5; /* Red-300 */
                color: #991b1b; /* Red-800 */
            }
            .btn-logout:hover {
                background-color: #f87171; /* Red-400 */
                color: #fff;
            }
            
            /* --- Responsive pour les Cartes/Grille (Dashboard) --- */
            @media (min-width: 768px) { /* md:grid-cols-3 */
                .md\\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
                .md\\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
            }
            @media (min-width: 1024px) { /* lg:grid-cols-3 */
                .lg\\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
            }
            @media (min-width: 1280px) { /* xl:grid-cols-4 */
                .xl\\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
            }
            
            /* --- Override spcifique des icnes pour la navigation --- */
            .nav-item-base .lucide-icon { margin-right: 0; }
            @media (min-width: 1024px) {
                .nav-item-base .lucide-icon { margin-right: 0.5rem; }
            }

            /* --- Couleurs de Statut et Texte --- */
            .bg-gray-400 { background-color: #9ca3af; }
            .bg-yellow-400 { background-color: #facc15; }
            .bg-blue-400 { background-color: #60a5fa; }
            .bg-green-500 { background-color: #10b981; }
            .bg-indigo-500 { background-color: #6366f1; }
            .bg-purple-600 { background-color: #7c3aed; }
            .text-gray-900 { color: #111827; }
            .text-gray-500 { color: #6b7280; }
            .text-yellow-900 { color: #78350f; }
            .text-blue-900 { color: #1e3a8a; }
            .text-red-600 { color: #dc2626; }
            .text-indigo-600 { color: #4f46e5; }
            .text-teal-600 { color: #0d9488; }
            .text-green-600 { color: #059669; }
            .rounded-full { border-radius: 9999px; }
            .py-1 { padding-top: 0.25rem; padding-bottom: 0.25rem; }
            .px-3 { padding-left: 0.75rem; padding-right: 0.75rem; }
            .text-xs { font-size: 0.75rem; }
            .leading-5 { line-height: 1.25rem; }
            .font-semibold { font-weight: 600; }
            .font-bold { font-weight: 700; }
            .text-xl { font-size: 1.25rem; }
            .text-3xl { font-size: 1.875rem; line-height: 2.25rem; }
        `})),yN=()=>{const[s,t]=jt.useState(null),[i,a]=jt.useState(null),[l,c]=jt.useState(null),[d,g]=jt.useState(!0),[_,y]=jt.useState(!1),[A,b]=jt.useState(!1),N=jt.useMemo(()=>Object.keys(qd).length>0&&!!qd.apiKey,[]),H=jt.useMemo(()=>{if(!N)return console.warn("Firebase config is missing or incomplete. Application will run in simulated/unauthenticated mode."),null;try{return NR("debug"),O0(qd)}catch(Z){return console.error("Erreur d'initialisation Firebase:",Z),null}},[N]);jt.useEffect(()=>{if(!N||!H){const wt=Dc||crypto.randomUUID();c(wt),g(!1),y(!0);return}const Z=NC(H),et=IR(H);t(Z),a(et);const dt=gw(et,async wt=>{if(wt){const Jt=wt.uid==="mock_admin_uid";c(wt.uid),b(Jt)}else c(null),b(!1);g(!1),y(!0)});return(async()=>{if(et)try{Dc?(await fw(et,Dc),console.log("Authenticated with custom token.")):et.currentUser||(await rv(et),console.log("Authenticated anonymously."))}catch(wt){console.error("Erreur lors de l'authentification initiale:",wt),y(!0),g(!1)}})(),()=>dt()},[H,Dc,N]);const W=jt.useCallback(async Z=>{if(g(!0),!N||!i){const et=Z==="admin"?"mock_admin_uid":crypto.randomUUID();c(et),b(Z==="admin"),g(!1),console.log(`Connexion ${Z} simule en mode dmo.`);return}try{let et=i.currentUser;if(et||(et=(await rv(i)).user),et){let dt=et.uid,lt=!1;Z==="admin"&&(dt="mock_admin_uid",lt=!0),c(dt),b(lt),console.log(`Connexion russie via Firebase. Rle simul: ${Z}`)}}catch(et){console.error("Erreur lors de la connexion:",et),c(null),b(!1)}finally{g(!1)}},[i,N]),J=jt.useCallback(async()=>{i&&await pw(i),c(null),b(!1)},[i]);return{db:s,auth:i,userId:l,loading:d,login:W,logout:J,authReady:_,isAdmin:A,isFirebaseConfigured:N}},E0=({icon:s,label:t,name:i,type:a="text",value:l,onChange:c,required:d=!1})=>V.jsxs("div",{className:"flex flex-col",children:[V.jsxs("label",{htmlFor:i,className:"text-sm font-medium text-gray-700 mb-1 flex items-center",children:[s,V.jsxs("span",{className:"ml-2",children:[t," ",d&&V.jsx("span",{className:"text-red-500",children:"*"})]})]}),V.jsx("input",{type:a,id:i,name:i,value:l,onChange:c,required:d,className:"p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150"})]}),wl=({title:s,value:t,icon:i,color:a})=>V.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg flex items-center justify-between transition duration-300 hover:shadow-xl border-t-4 border-indigo-500",children:[V.jsxs("div",{children:[V.jsx("p",{className:"text-sm font-medium text-gray-500",children:s}),V.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:t})]}),V.jsx("div",{className:`p-3 rounded-full ${a}`,children:V.jsx(i,{className:"w-8 h-8 text-white"})})]}),WT=({message:s,type:t,onClose:i})=>{const a=t==="error"?V.jsx(v0,{className:"w-5 h-5"}):V.jsx(QT,{className:"w-5 h-5"}),l=t==="error"?"bg-red-500":"bg-green-500";return V.jsxs("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg text-white shadow-xl flex items-center space-x-3 ${l} transition-opacity duration-300`,children:[a,V.jsx("p",{className:"font-medium",children:s}),V.jsx("button",{onClick:i,className:"ml-4 p-1 rounded-full hover:bg-white hover:bg-opacity-20 transition",children:V.jsx(v0,{className:"w-4 h-4"})})]})},_N=({currentPage:s,setCurrentPage:t,userId:i,logout:a,isAdmin:l,isFirebaseConfigured:c})=>{const d=({page:g,icon:_,label:y})=>V.jsxs("button",{onClick:()=>t(g),className:`nav-item-base ${s===g?"nav-item-active":"nav-item-inactive"}
                /* Fallback pour le petit cran: centrage des icnes */
                justify-center lg:justify-start
            `,children:[V.jsx(_,{className:"w-5 h-5 lucide-icon"}),V.jsx("span",{className:"hidden lg:inline ml-2",children:y})]});return V.jsxs("div",{className:"flex flex-col h-full bg-indigo-800 p-4 shadow-2xl",children:[V.jsx("div",{className:"flex items-center justify-center lg:justify-start mb-8",children:V.jsx("img",{src:ZT,alt:"Logo de Campagne",className:"h-10 w-auto"})}),V.jsxs("div",{className:"space-y-3 flex flex-col items-center lg:items-stretch",children:[V.jsx(d,{page:"dashboard",icon:rN,label:"Tableau de Bord"}),V.jsx(d,{page:"contacts",icon:iN,label:"Gestion des Contacts"}),V.jsx(d,{page:"projections",icon:FT,label:"Projections"}),V.jsx(d,{page:"team",icon:Sh,label:"quipe"})]}),V.jsxs("div",{className:"mt-auto pt-4 border-t border-indigo-700 text-sm text-indigo-300",children:[V.jsxs("p",{className:"hidden lg:block mb-2",children:["Connect en tant que: ",V.jsx("span",{className:"font-semibold",children:l?"Admin":"Staff"})]}),V.jsxs("p",{className:"hidden lg:block",children:["Statut: ",V.jsx("span",{className:"font-semibold",children:c?"Firebase Actif":"Mode Dmo/Simul"})]}),V.jsx("p",{className:"hidden lg:block",children:"Membre ID (UID):"}),V.jsx("p",{className:"font-mono text-xs break-all mt-1",children:i||"N/A"}),V.jsxs("button",{onClick:a,className:"flex items-center justify-center lg:justify-start px-3 py-2 mt-4 btn-base btn-logout font-medium rounded-lg hover:bg-red-400 hover:text-white w-full shadow-md",children:[V.jsx(lN,{className:"w-5 h-5 mr-0 lg:mr-2"}),V.jsx("span",{className:"hidden lg:inline",children:"Dconnexion"})]})]})]})};let Vr={};const T0=({contacts:s,userId:t,isAdmin:i,isFirebaseConfigured:a})=>{const l=s.length,c=s.filter(y=>y.status==="acquis"||y.status==="vote_valide").length,d=s.reduce((y,A)=>{const b=gm[A.status]/100||0;return y+b},0),g=s.reduce((y,A)=>(y[A.status]=(y[A.status]||0)+1,y),{}),_=({statusKey:y,count:A})=>{const b=Wa[y],N=ug[y],W=["acquis","a_voter","vote_valide"].includes(y)?"text-white":"text-gray-900";return V.jsxs("div",{className:`p-4 rounded-xl shadow-md ${N} transition duration-200 transform hover:scale-[1.02] border border-gray-100`,children:[V.jsx("p",{className:`text-sm font-medium ${W} opacity-90`,children:b}),V.jsx("p",{className:`text-2xl font-bold mt-1 ${W}`,children:A||0})]})};return V.jsxs("div",{className:"p-6",children:[V.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-3",children:"Tableau de Bord"}),!a&&V.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6 rounded-lg shadow-sm",role:"alert",children:[V.jsx("p",{className:"font-bold",children:"Mode Dmo Actif:"}),V.jsx("p",{className:"text-sm",children:"La configuration Firebase est incomplte ou a chou. Les donnes ne sont pas persistantes."})]}),V.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["Connect en tant que: ",V.jsx("span",{className:"font-semibold",children:i?"Admin":"Membre du Staff"}),"(ID: ",V.jsx("span",{className:"text-xs font-mono break-all",children:t||"N/A"}),")"]}),V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[V.jsx(wl,{title:"Total Contacts Grs",value:l,icon:Sh,color:"bg-indigo-600"}),V.jsx(wl,{title:"Projection de Votes (Potentiel)",value:d.toFixed(2),icon:mN,color:"bg-teal-600"}),V.jsx(wl,{title:"Contacts Acquis (100%)",value:c,icon:QT,color:"bg-green-600"})]}),V.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[V.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Statuts Dtaills"}),V.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:Object.keys(Wa).map(y=>V.jsx(_,{statusKey:y,count:g[y]},y))})]})]})},vN=({db:s,userId:t,contacts:i,setContacts:a,isFirebaseConfigured:l})=>{const[c,d]=jt.useState(""),[g,_]=jt.useState(null),y=(N,H="success")=>{_({message:N,type:H}),setTimeout(()=>_(null),3e3)},A=jt.useCallback(async N=>{console.log("CONFIRMATION REQUISE: tes-vous sr de vouloir supprimer ce contact ? (Simul)");try{if(l&&s){const H=ah(s,JT(t)),W=mm(H,N);await qT(W),y("Contact supprim (Firebase).")}else if(Vr[t]&&Vr[t][N]){delete Vr[t][N];const H=Object.values(Vr[t]||{}).sort((W,J)=>(W.name||"").localeCompare(J.name||""));a(H),y("Contact supprim (Mmoire).")}}catch(H){console.error("Erreur lors de la suppression du contact: ",H),y("Erreur lors de la suppression du contact.","error")}},[s,t,l,a]),b=i.filter(N=>(N.name||"").toLowerCase().includes(c.toLowerCase())||(N.phone||"").includes(c)||(Wa[N.status]||"").toLowerCase().includes(c.toLowerCase())||(N.region||"").toLowerCase().includes(c.toLowerCase()));return V.jsxs("div",{className:"p-6",children:[V.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-3",children:["Gestion des Contacts (",i.length," Total)"]}),V.jsx("p",{className:"text-gray-600 mb-6 border-l-4 border-indigo-400 pl-3 py-1 bg-indigo-50 rounded-lg",children:"Les contacts sont grs et imports directement depuis la base de donnes Firebase. Cette interface est ddie  la consultation et au nettoyage des donnes."}),V.jsx("div",{className:"flex justify-end items-center mb-6 flex-wrap gap-4",children:V.jsx("input",{type:"text",placeholder:"Filtrer par nom, tlphone, statut, rgion...",value:c,onChange:N=>d(N.target.value),className:"p-3 border border-gray-300 rounded-lg w-full md:w-80 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150"})}),V.jsx("div",{className:"overflow-x-auto bg-white rounded-xl shadow-lg",children:V.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[V.jsx("thead",{className:"bg-gray-50",children:V.jsxs("tr",{children:[V.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),V.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tlphone"}),V.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rgion"}),V.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),V.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supprimer"})]})}),V.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.length>0?b.map(N=>V.jsxs("tr",{className:"hover:bg-indigo-50 transition duration-100",children:[V.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:N.name}),V.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:N.phone}),V.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:N.region||"-"}),V.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:V.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${ug[N.status]}`,children:Wa[N.status]})}),V.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:V.jsx("button",{onClick:()=>A(N.id),className:"text-red-600 hover:text-red-900 transition duration-150 p-1 rounded-full hover:bg-red-100",title:"Supprimer le contact (Nettoyage des donnes)",children:V.jsx(XT,{className:"w-5 h-5"})})})]},N.id)):V.jsx("tr",{children:V.jsx("td",{colSpan:"5",className:"px-6 py-10 text-center text-gray-500",children:"Aucun contact trouv. Les contacts sont chargs depuis Firebase."})})})]})}),g&&V.jsx(WT,{message:g.message,type:g.type,onClose:()=>_(null)})]})},EN=({contacts:s})=>{const t=jt.useMemo(()=>{let i=0,a=0;const l={};Object.keys(Wa).forEach(d=>{l[d]={count:0,projection:0,weight:gm[d],label:Wa[d]}}),s.forEach(d=>{i++;const g=d.status,_=gm[g]/100||0;l[g].count++,l[g].projection+=_,a+=_});const c=Object.entries(l).sort(([,d],[,g])=>g.weight-d.weight).map(([d,g])=>({key:d,...g,projection:g.projection.toFixed(2),percentage:i>0?(g.count/i*100).toFixed(1):0,color:ug[d]}));return{totalContacts:i,totalProjection:a.toFixed(2),projectionArray:c}},[s]);return V.jsxs("div",{className:"p-6",children:[V.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Projections de Votes"}),V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[V.jsx(wl,{title:"Total Contacts Analyss",value:t.totalContacts,icon:Sh,color:"bg-indigo-600"}),V.jsx(wl,{title:"Projection Totale (Votes)",value:t.totalProjection,icon:FT,color:"bg-purple-600"}),V.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-yellow-500",children:[V.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Projection Base sur:"}),V.jsxs("ul",{className:"text-sm mt-1 space-y-1",children:[V.jsx("li",{children:"Acquis / Valid: 100%"}),V.jsx("li",{children:"Probable: 50%"}),V.jsx("li",{children:" Convaincre: 30%"}),V.jsx("li",{children:" Contacter: 0%"})]})]})]}),V.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[V.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Dtails par Statut"}),V.jsx("div",{className:"space-y-4",children:t.projectionArray.map(i=>V.jsxs("div",{className:"relative p-4 rounded-lg border border-gray-100 shadow-sm transition duration-200 hover:shadow-md",children:[V.jsxs("div",{className:"flex justify-between items-center mb-2",children:[V.jsx("p",{className:`font-semibold text-sm ${i.color.includes("text-white"),"text-gray-800"}`,children:i.label}),V.jsxs("div",{className:"text-right",children:[V.jsx("span",{className:"text-2xl font-bold text-indigo-600",children:i.count}),V.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:["(",i.percentage,"%)"]})]})]}),V.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:V.jsx("div",{className:`${i.color} h-2.5 rounded-full`,style:{width:`${i.percentage}%`}})}),V.jsxs("p",{className:"text-sm mt-2 text-gray-600",children:["Projection de votes: ",V.jsx("span",{className:"font-bold text-green-600",children:i.projection})]})]},i.key))})]})]})},TN=({db:s,isAdmin:t,staffMembers:i,isFirebaseConfigured:a})=>{const[l,c]=jt.useState(""),[d,g]=jt.useState(""),[_,y]=jt.useState(!1),[A,b]=jt.useState(null),N=(J,Z="success")=>{b({message:J,type:Z}),setTimeout(()=>b(null),3e3)},H=async J=>{if(J.preventDefault(),!l.trim()||!d.trim()){N("Le nom et l'ID du staff sont obligatoires.","error");return}if(!a||!s){N("Action impossible: Firebase non configur.","error");return}try{const Z=ah(s,pm());await FC(mm(Z,d),{name:l.trim(),staffId:d.trim(),role:"staff",createdAt:KC()}),N(`Membre du staff '${l}' ajout avec succs!`,"success"),c(""),g(""),y(!1)}catch(Z){console.error("Erreur lors de l'ajout du staff: ",Z),N("Erreur lors de l'ajout du membre du staff.","error")}},W=async(J,Z)=>{if(console.log(`CONFIRMATION REQUISE: Supprimer le staff ${Z}? (Simul)`),!a||!s){N("Action impossible: Firebase non configur.","error");return}try{const et=mm(s,pm(),J);await qT(et),N(`Membre '${Z}' supprim.`,"success")}catch(et){console.error("Erreur lors de la suppression du staff: ",et),N("Erreur lors de la suppression du membre du staff.","error")}};return V.jsxs("div",{className:"p-6",children:[V.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-6 flex items-center",children:[V.jsx(Sh,{className:"w-8 h-8 mr-3 text-indigo-600"}),"Gestion de l'quipe"]}),!a&&V.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6 rounded-lg shadow-sm",role:"alert",children:[V.jsx("p",{className:"font-bold",children:"Mode Dmo Actif:"}),V.jsx("p",{className:"text-sm",children:"La gestion d'quipe ncessite une configuration **Firebase** et n'est pas disponible en mode dmo in-memory."})]}),t&&a&&V.jsxs("div",{className:"mb-6",children:[V.jsxs("button",{onClick:()=>y(J=>!J),className:`flex items-center px-6 py-3 font-semibold rounded-xl shadow-lg transition duration-150 transform hover:scale-[1.02] btn-base ${_?"btn-gray":"btn-indigo"}`,children:[V.jsx(Bc,{className:"w-5 h-5 mr-2"}),_?"Annuler Ajout":"Ajouter un Membre Staff"]}),_&&V.jsxs("div",{className:"mt-4 p-4 bg-white rounded-xl shadow-lg border border-indigo-100",children:[V.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Nouveau Membre du Staff"}),V.jsxs("form",{onSubmit:H,className:"space-y-4",children:[V.jsx(E0,{icon:V.jsx(Bc,{className:"w-5 h-5 text-indigo-500"}),label:"Nom du Staff",name:"name",value:l,onChange:J=>c(J.target.value),required:!0}),V.jsx(E0,{icon:V.jsx(YT,{className:"w-5 h-5 text-indigo-500"}),label:"Identifiant (UID)",name:"staffId",value:d,onChange:J=>g(J.target.value),required:!0}),V.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center px-4 py-2 btn-base btn-indigo",children:[V.jsx(Bc,{className:"w-5 h-5 mr-2"}),"Ajouter l'Utilisateur"]})]})]})]}),t&&!a&&V.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded-lg shadow-sm",role:"alert",children:[V.jsx("p",{className:"font-bold",children:"Accs Admin (Simul) - Action Impossible:"}),V.jsx("p",{className:"text-sm",children:"La gestion d'quipe ncessite la persistance Firebase (public data) pour fonctionner correctement."})]}),V.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[V.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:["Membres Actuels (",i.length,")"]}),i.length===0?V.jsx("p",{className:"text-gray-500",children:"Aucun membre du staff n'a t ajout  cette quipe."}):V.jsx("div",{className:"space-y-3",children:i.map(J=>V.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-gray-100 last:border-b-0 hover:bg-indigo-50 rounded-lg",children:[V.jsxs("div",{children:[V.jsx("p",{className:"font-medium text-gray-800",children:J.name}),V.jsxs("p",{className:"text-xs font-mono text-gray-500 break-all",children:["ID: ",J.staffId]}),V.jsx("p",{className:"text-xs text-indigo-600 font-semibold",children:J.role==="admin"?"Administrateur":"Membre Staff"})]}),t&&a&&J.staffId!=="mock_admin_uid"&&V.jsx("button",{onClick:()=>W(J.staffId,J.name),className:"text-red-600 hover:text-red-800 p-2 rounded-full transition duration-150 hover:bg-red-100",title:"Supprimer le membre",children:V.jsx(XT,{className:"w-5 h-5"})})]},J.staffId))})]}),A&&V.jsx(WT,{message:A.message,type:A.type,onClose:()=>b(null)})]})},AN=({login:s,loading:t,isFirebaseConfigured:i})=>V.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-indigo-600 to-purple-800 p-6",children:V.jsxs("div",{className:"bg-white p-10 rounded-2xl shadow-2xl text-center max-w-md w-full animate-fade-in",children:[V.jsx("img",{src:ZT,alt:"Logo",className:"h-14 w-auto mx-auto mb-6"}),V.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 mb-3",children:"lections Consulaires 2026"}),V.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Connectez-vous pour accder  votre espace de gestion des contacts."}),!i&&V.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg mb-6",role:"alert",children:[V.jsx("strong",{className:"font-bold",children:"Mode Dmo Actif:"}),V.jsx("span",{className:"block sm:inline",children:" La configuration Firebase est absente. Les donnes ne sont pas persistantes."})]}),t?V.jsxs("div",{className:"flex items-center justify-center py-4",children:[V.jsx(KT,{className:"w-7 h-7 animate-spin text-indigo-600 mr-3"}),V.jsx("span",{className:"text-indigo-700 font-medium",children:"Connexion en cours..."})]}):V.jsxs("div",{className:"space-y-4",children:[V.jsxs("button",{onClick:()=>s("admin"),className:"w-full flex items-center justify-center px-6 py-3 font-semibold rounded-xl shadow-lg transition duration-200 transform bg-red-600 text-white hover:bg-red-700 hover:scale-[1.02]",children:[V.jsx(YT,{className:"w-5 h-5 mr-3"}),"Connexion Administrateur (Mock)"]}),V.jsxs("button",{onClick:()=>s("staff"),className:"w-full flex items-center justify-center px-6 py-3 font-semibold rounded-xl shadow-lg transition duration-200 transform bg-indigo-600 text-white hover:bg-indigo-700 hover:scale-[1.02]",children:[V.jsx(Bc,{className:"w-5 h-5 mr-3"}),"Connexion Membre du Staff"]})]})]})}),bN=({db:s,userId:t,logout:i,isAdmin:a,isFirebaseConfigured:l})=>{const[c,d]=jt.useState("dashboard"),[g,_]=jt.useState([]),[y,A]=jt.useState([]);jt.useEffect(()=>{if(!t)return;if(!l||!s){console.log("Using in-memory storage for contacts (demo mode)."),Vr[t]||(Vr[t]={});const J=Object.values(Vr[t]).sort((Z,et)=>(Z.name||"").localeCompare(et.name||""));_(J);return}console.log(`Setting up snapshot listener for user contacts: ${t}`);const N=ah(s,JT(t)),H=m0(N),W=y0(H,J=>{const Z=J.docs.map(et=>({id:et.id,...et.data()}));Z.sort((et,dt)=>(et.name||"").localeCompare(dt.name||"")),_(Z),console.log(`Fetched ${Z.length} contacts from Firebase.`)},J=>{console.error("Erreur lors de la rcupration des contacts (onSnapshot):",J)});return()=>W()},[s,t,l]),jt.useEffect(()=>{if(!l||!s){A([]);return}console.log("Setting up snapshot listener for staff members.");const N=ah(s,pm()),H=m0(N),W=y0(H,J=>{const Z=J.docs.map(lt=>({id:lt.id,...lt.data()}));Z.sort((lt,wt)=>(lt.name||"").localeCompare(wt.name||""));const et=[{staffId:"mock_admin_uid",name:"Administrateur (Mock)",role:"admin"},...Z],dt=Array.from(new Set(et.map(lt=>lt.staffId))).map(lt=>et.find(wt=>wt.staffId===lt));A(dt.filter(lt=>lt.staffId)),console.log(`Fetched ${Z.length} staff members from Firebase.`)},J=>{console.error("Erreur lors de la rcupration des membres du staff (onSnapshot):",J)});return()=>W()},[s,l]);const b=()=>{switch(c){case"dashboard":return V.jsx(T0,{contacts:g,userId:t,isAdmin:a,isFirebaseConfigured:l});case"contacts":return V.jsx(vN,{db:s,userId:t,contacts:g,setContacts:_,isFirebaseConfigured:l});case"projections":return V.jsx(EN,{contacts:g});case"team":return V.jsx(TN,{db:s,isAdmin:a,staffMembers:y,isFirebaseConfigured:l});default:return V.jsx(T0,{contacts:g,userId:t,isAdmin:a,isFirebaseConfigured:l})}};return V.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans",children:[V.jsx("div",{className:"w-20 lg:w-64 flex-shrink-0",children:V.jsx(_N,{currentPage:c,setCurrentPage:d,userId:t,logout:i,isAdmin:a,isFirebaseConfigured:l})}),V.jsx("main",{className:"flex-grow overflow-y-auto",children:b()})]})},SN=()=>{const{db:s,userId:t,loading:i,login:a,logout:l,authReady:c,isAdmin:d,isFirebaseConfigured:g}=yN();return V.jsxs(VA.Fragment,{children:[V.jsx(pN,{}),i&&!t&&V.jsxs("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:[V.jsx(KT,{className:"w-8 h-8 animate-spin text-indigo-600 mr-3"}),V.jsx("p",{className:"text-lg font-medium text-indigo-700",children:"Initialisation de l'application..."})]}),c&&!t&&V.jsx(AN,{login:a,loading:i,isFirebaseConfigured:g}),t&&V.jsx(bN,{db:s,userId:t,logout:l,isAdmin:d,isFirebaseConfigured:g}),!i&&!t&&!c&&V.jsxs("div",{className:"flex items-center justify-center h-screen bg-red-900 text-white p-6",children:[V.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Erreur Inattendue"}),V.jsx("p",{className:"text-lg text-red-300 text-center max-w-lg",children:"Veuillez recharger l'application ou vrifier la configuration Firebase."})]})]})};BA.createRoot(document.getElementById("root")).render(V.jsx(jt.StrictMode,{children:V.jsx(SN,{})}));
