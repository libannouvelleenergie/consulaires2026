(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var nd={exports:{}},il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function dS(){if(Yy)return il;Yy=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var y in l)y!=="key"&&(h[y]=l[y])}else h=l;return l=h.ref,{$$typeof:a,type:r,key:d,ref:l!==void 0?l:null,props:h}}return il.Fragment=t,il.jsx=i,il.jsxs=i,il}var Ky;function mS(){return Ky||(Ky=1,nd.exports=dS()),nd.exports}var st=mS(),id={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function gS(){if(Xy)return pt;Xy=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),U=Symbol.iterator;function K(M){return M===null||typeof M!="object"?null:(M=U&&M[U]||M["@@iterator"],typeof M=="function"?M:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rt=Object.assign,W={};function gt(M,Q,$){this.props=M,this.context=Q,this.refs=W,this.updater=$||tt}gt.prototype.isReactComponent={},gt.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},gt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function At(){}At.prototype=gt.prototype;function dt(M,Q,$){this.props=M,this.context=Q,this.refs=W,this.updater=$||tt}var Bt=dt.prototype=new At;Bt.constructor=dt,rt(Bt,gt.prototype),Bt.isPureReactComponent=!0;var Yt=Array.isArray;function Dt(){}var D={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(M,Q,$){var et=$.ref;return{$$typeof:a,type:M,key:Q,ref:et!==void 0?et:null,props:$}}function N(M,Q){return R(M.type,Q,M.props)}function w(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function V(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function($){return Q[$]})}var b=/\/+/g;function Nt(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):Q.toString(36)}function ae(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Dt,Dt):(M.status="pending",M.then(function(Q){M.status==="pending"&&(M.status="fulfilled",M.value=Q)},function(Q){M.status==="pending"&&(M.status="rejected",M.reason=Q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,Q,$,et,mt){var Tt=typeof M;(Tt==="undefined"||Tt==="boolean")&&(M=null);var Vt=!1;if(M===null)Vt=!0;else switch(Tt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(M.$$typeof){case a:case t:Vt=!0;break;case A:return Vt=M._init,H(Vt(M._payload),Q,$,et,mt)}}if(Vt)return mt=mt(M),Vt=et===""?"."+Nt(M,0):et,Yt(mt)?($="",Vt!=null&&($=Vt.replace(b,"$&/")+"/"),H(mt,Q,$,"",function($s){return $s})):mt!=null&&(w(mt)&&(mt=N(mt,$+(mt.key==null||M&&M.key===mt.key?"":(""+mt.key).replace(b,"$&/")+"/")+Vt)),Q.push(mt)),1;Vt=0;var Ce=et===""?".":et+":";if(Yt(M))for(var ne=0;ne<M.length;ne++)et=M[ne],Tt=Ce+Nt(et,ne),Vt+=H(et,Q,$,Tt,mt);else if(ne=K(M),typeof ne=="function")for(M=ne.call(M),ne=0;!(et=M.next()).done;)et=et.value,Tt=Ce+Nt(et,ne++),Vt+=H(et,Q,$,Tt,mt);else if(Tt==="object"){if(typeof M.then=="function")return H(ae(M),Q,$,et,mt);throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function J(M,Q,$){if(M==null)return M;var et=[],mt=0;return H(M,et,"","",function(Tt){return Q.call($,Tt,mt++)}),et}function ut(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function($){(M._status===0||M._status===-1)&&(M._status=1,M._result=$)},function($){(M._status===0||M._status===-1)&&(M._status=2,M._result=$)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var Lt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ht={map:J,forEach:function(M,Q,$){J(M,function(){Q.apply(this,arguments)},$)},count:function(M){var Q=0;return J(M,function(){Q++}),Q},toArray:function(M){return J(M,function(Q){return Q})||[]},only:function(M){if(!w(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return pt.Activity=I,pt.Children=Ht,pt.Component=gt,pt.Fragment=i,pt.Profiler=l,pt.PureComponent=dt,pt.StrictMode=r,pt.Suspense=v,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,pt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},pt.cache=function(M){return function(){return M.apply(null,arguments)}},pt.cacheSignal=function(){return null},pt.cloneElement=function(M,Q,$){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var et=rt({},M.props),mt=M.key;if(Q!=null)for(Tt in Q.key!==void 0&&(mt=""+Q.key),Q)!S.call(Q,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&Q.ref===void 0||(et[Tt]=Q[Tt]);var Tt=arguments.length-2;if(Tt===1)et.children=$;else if(1<Tt){for(var Vt=Array(Tt),Ce=0;Ce<Tt;Ce++)Vt[Ce]=arguments[Ce+2];et.children=Vt}return R(M.type,mt,et)},pt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},pt.createElement=function(M,Q,$){var et,mt={},Tt=null;if(Q!=null)for(et in Q.key!==void 0&&(Tt=""+Q.key),Q)S.call(Q,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(mt[et]=Q[et]);var Vt=arguments.length-2;if(Vt===1)mt.children=$;else if(1<Vt){for(var Ce=Array(Vt),ne=0;ne<Vt;ne++)Ce[ne]=arguments[ne+2];mt.children=Ce}if(M&&M.defaultProps)for(et in Vt=M.defaultProps,Vt)mt[et]===void 0&&(mt[et]=Vt[et]);return R(M,Tt,mt)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(M){return{$$typeof:y,render:M}},pt.isValidElement=w,pt.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:ut}},pt.memo=function(M,Q){return{$$typeof:_,type:M,compare:Q===void 0?null:Q}},pt.startTransition=function(M){var Q=D.T,$={};D.T=$;try{var et=M(),mt=D.S;mt!==null&&mt($,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Dt,Lt)}catch(Tt){Lt(Tt)}finally{Q!==null&&$.types!==null&&(Q.types=$.types),D.T=Q}},pt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},pt.use=function(M){return D.H.use(M)},pt.useActionState=function(M,Q,$){return D.H.useActionState(M,Q,$)},pt.useCallback=function(M,Q){return D.H.useCallback(M,Q)},pt.useContext=function(M){return D.H.useContext(M)},pt.useDebugValue=function(){},pt.useDeferredValue=function(M,Q){return D.H.useDeferredValue(M,Q)},pt.useEffect=function(M,Q){return D.H.useEffect(M,Q)},pt.useEffectEvent=function(M){return D.H.useEffectEvent(M)},pt.useId=function(){return D.H.useId()},pt.useImperativeHandle=function(M,Q,$){return D.H.useImperativeHandle(M,Q,$)},pt.useInsertionEffect=function(M,Q){return D.H.useInsertionEffect(M,Q)},pt.useLayoutEffect=function(M,Q){return D.H.useLayoutEffect(M,Q)},pt.useMemo=function(M,Q){return D.H.useMemo(M,Q)},pt.useOptimistic=function(M,Q){return D.H.useOptimistic(M,Q)},pt.useReducer=function(M,Q,$){return D.H.useReducer(M,Q,$)},pt.useRef=function(M){return D.H.useRef(M)},pt.useState=function(M){return D.H.useState(M)},pt.useSyncExternalStore=function(M,Q,$){return D.H.useSyncExternalStore(M,Q,$)},pt.useTransition=function(){return D.H.useTransition()},pt.version="19.2.0",pt}var Zy;function Yd(){return Zy||(Zy=1,id.exports=gS()),id.exports}var We=Yd(),sd={exports:{}},sl={},rd={exports:{}},ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function pS(){return Jy||(Jy=1,(function(a){function t(H,J){var ut=H.length;H.push(J);t:for(;0<ut;){var Lt=ut-1>>>1,Ht=H[Lt];if(0<l(Ht,J))H[Lt]=J,H[ut]=Ht,ut=Lt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var J=H[0],ut=H.pop();if(ut!==J){H[0]=ut;t:for(var Lt=0,Ht=H.length,M=Ht>>>1;Lt<M;){var Q=2*(Lt+1)-1,$=H[Q],et=Q+1,mt=H[et];if(0>l($,ut))et<Ht&&0>l(mt,$)?(H[Lt]=mt,H[et]=ut,Lt=et):(H[Lt]=$,H[Q]=ut,Lt=Q);else if(et<Ht&&0>l(mt,ut))H[Lt]=mt,H[et]=ut,Lt=et;else break t}}return J}function l(H,J){var ut=H.sortIndex-J.sortIndex;return ut!==0?ut:H.id-J.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();a.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,I=null,U=3,K=!1,tt=!1,rt=!1,W=!1,gt=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Bt(H){for(var J=i(_);J!==null;){if(J.callback===null)r(_);else if(J.startTime<=H)r(_),J.sortIndex=J.expirationTime,t(v,J);else break;J=i(_)}}function Yt(H){if(rt=!1,Bt(H),!tt)if(i(v)!==null)tt=!0,Dt||(Dt=!0,V());else{var J=i(_);J!==null&&ae(Yt,J.startTime-H)}}var Dt=!1,D=-1,S=5,R=-1;function N(){return W?!0:!(a.unstable_now()-R<S)}function w(){if(W=!1,Dt){var H=a.unstable_now();R=H;var J=!0;try{t:{tt=!1,rt&&(rt=!1,At(D),D=-1),K=!0;var ut=U;try{e:{for(Bt(H),I=i(v);I!==null&&!(I.expirationTime>H&&N());){var Lt=I.callback;if(typeof Lt=="function"){I.callback=null,U=I.priorityLevel;var Ht=Lt(I.expirationTime<=H);if(H=a.unstable_now(),typeof Ht=="function"){I.callback=Ht,Bt(H),J=!0;break e}I===i(v)&&r(v),Bt(H)}else r(v);I=i(v)}if(I!==null)J=!0;else{var M=i(_);M!==null&&ae(Yt,M.startTime-H),J=!1}}break t}finally{I=null,U=ut,K=!1}J=void 0}}finally{J?V():Dt=!1}}}var V;if(typeof dt=="function")V=function(){dt(w)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,Nt=b.port2;b.port1.onmessage=w,V=function(){Nt.postMessage(null)}}else V=function(){gt(w,0)};function ae(H,J){D=gt(function(){H(a.unstable_now())},J)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return U},a.unstable_next=function(H){switch(U){case 1:case 2:case 3:var J=3;break;default:J=U}var ut=U;U=J;try{return H()}finally{U=ut}},a.unstable_requestPaint=function(){W=!0},a.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=U;U=H;try{return J()}finally{U=ut}},a.unstable_scheduleCallback=function(H,J,ut){var Lt=a.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Lt+ut:Lt):ut=Lt,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ut+Ht,H={id:A++,callback:J,priorityLevel:H,startTime:ut,expirationTime:Ht,sortIndex:-1},ut>Lt?(H.sortIndex=ut,t(_,H),i(v)===null&&H===i(_)&&(rt?(At(D),D=-1):rt=!0,ae(Yt,ut-Lt))):(H.sortIndex=Ht,t(v,H),tt||K||(tt=!0,Dt||(Dt=!0,V()))),H},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(H){var J=U;return function(){var ut=U;U=J;try{return H.apply(this,arguments)}finally{U=ut}}}})(ad)),ad}var $y;function yS(){return $y||($y=1,rd.exports=pS()),rd.exports}var od={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function _S(){if(Wy)return Ge;Wy=1;var a=Yd();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,_,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:v,containerInfo:_,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ge.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return h(v,_,null,A)},Ge.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},Ge.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Ge.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Ge.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,I=y(A,_.crossOrigin),U=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:U,fetchPriority:K}):A==="script"&&r.d.X(v,{crossOrigin:I,integrity:U,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Ge.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,I=y(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Ge.requestFormReset=function(v){r.d.r(v)},Ge.unstable_batchedUpdates=function(v,_){return v(_)},Ge.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.2.0",Ge}var t_;function vS(){if(t_)return od.exports;t_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),od.exports=_S(),od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function ES(){if(e_)return sl;e_=1;var a=yS(),t=Yd(),i=vS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,o=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return v(c),e;if(f===o)return v(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=c,o=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,o=f;break}if(E===o){g=!0,o=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=c;break}if(E===o){g=!0,o=f,s=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var I=Object.assign,U=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),rt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),At=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),Yt=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=w&&e[w]||e["@@iterator"],typeof e=="function"?e:null)}var b=Symbol.for("react.client.reference");function Nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===b?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rt:return"Fragment";case gt:return"Profiler";case W:return"StrictMode";case Yt:return"Suspense";case Dt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case dt:return e.displayName||"Context";case At:return(e._context.displayName||"Context")+".Consumer";case Bt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:Nt(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Nt(e(n))}catch{}}return null}var ae=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function M(e){return{current:e}}function Q(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function $(e,n){Ht++,Lt[Ht]=e.current,e.current=n}var et=M(null),mt=M(null),Tt=M(null),Vt=M(null);function Ce(e,n){switch($(Tt,n),$(mt,e),$(et,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?py(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=py(n),e=yy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(et),$(et,e)}function ne(){Q(et),Q(mt),Q(Tt)}function $s(e){e.memoizedState!==null&&$(Vt,e);var n=et.current,s=yy(n,e.type);n!==s&&($(mt,e),$(et,s))}function zr(e){mt.current===e&&(Q(et),Q(mt)),Vt.current===e&&(Q(Vt),Wo._currentValue=ut)}var kr,Pr;function Qn(e){if(kr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);kr=n&&n[1]||"",Pr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kr+e+Pr}var $a=!1;function Ws(e,n){if(!e||$a)return"";$a=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(j){var P=j}Reflect.construct(e,[],F)}else{try{F.call()}catch(j){P=j}e.call(F.prototype)}}else{try{throw Error()}catch(j){P=j}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(j){if(j&&P&&typeof j.stack=="string")return[j.stack,P.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),k=E.split(`
`);for(c=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(o===C.length||c===k.length)for(o=C.length-1,c=k.length-1;1<=o&&0<=c&&C[o]!==k[c];)c--;for(;1<=o&&0<=c;o--,c--)if(C[o]!==k[c]){if(o!==1||c!==1)do if(o--,c--,0>c||C[o]!==k[c]){var q=`
`+C[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=c);break}}}finally{$a=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Qn(s):""}function Wa(e,n){switch(e.tag){case 26:case 27:case 5:return Qn(e.type);case 16:return Qn("Lazy");case 13:return e.child!==n&&n!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return Ws(e.type,!1);case 11:return Ws(e.type.render,!1);case 1:return Ws(e.type,!0);case 31:return Qn("Activity");default:return""}}function to(e){try{var n="",s=null;do n+=Wa(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,Ie=a.unstable_scheduleCallback,Xi=a.unstable_cancelCallback,ih=a.unstable_shouldYield,xl=a.unstable_requestPaint,Ze=a.unstable_now,tr=a.unstable_getCurrentPriorityLevel,eo=a.unstable_ImmediatePriority,no=a.unstable_UserBlockingPriority,Zi=a.unstable_NormalPriority,sh=a.unstable_LowPriority,Ul=a.unstable_IdlePriority,Ll=a.log,zl=a.unstable_setDisableYieldValue,Mn=null,Le=null;function vn(e){if(typeof Ll=="function"&&zl(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Mn,e)}catch{}}var ue=Math.clz32?Math.clz32:Pl,kl=Math.log,Br=Math.LN2;function Pl(e){return e>>>=0,e===0?32:31-(kl(e)/Br|0)|0}var Yn=256,er=262144,pe=4194304;function Kn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xn(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=Kn(o):(g&=E,g!==0?c=Kn(g):s||(s=E&~e,s!==0&&(c=Kn(s))))):(E=o&~f,E!==0?c=Kn(E):g!==0?c=Kn(g):s||(s=o&~e,s!==0&&(c=Kn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Vn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function rh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bl(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function Zn(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function nr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ah(e,n,s,o,c,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,k=e.hiddenUpdates;for(s=g&~s;0<s;){var q=31-ue(s),F=1<<q;E[q]=0,C[q]=-1;var P=k[q];if(P!==null)for(k[q]=null,q=0;q<P.length;q++){var j=P[q];j!==null&&(j.lane&=-536870913)}s&=~F}o!==0&&ir(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ir(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ue(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function io(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ue(s),c=1<<o;c&n|e[o]&n&&(e[o]|=n),s&=~c}}function so(e,n){var s=n&-n;return s=(s&42)!==0?1:sr(s),(s&(e.suspendedLanes|n))!==0?0:s}function sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Si(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function jl(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:By(e.type))}function xn(e,n){var s=J.p;try{return J.p=e,n()}finally{J.p=s}}var Un=Math.random().toString(36).slice(2),ye="__reactFiber$"+Un,Me="__reactProps$"+Un,Jn="__reactContainer$"+Un,jr="__reactEvents$"+Un,oh="__reactListeners$"+Un,ql="__reactHandles$"+Un,Hl="__reactResources$"+Un,$n="__reactMarker$"+Un;function qr(e){delete e[ye],delete e[Me],delete e[jr],delete e[oh],delete e[ql]}function Wn(e){var n=e[ye];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Jn]||s[ye]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=by(e);e!==null;){if(s=e[ye])return s;e=by(e)}return n}e=s,s=e.parentNode}return null}function En(e){if(e=e[ye]||e[Jn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ti(e){var n=e[Hl];return n||(n=e[Hl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[$n]=!0}var ro=new Set,ao={};function ei(e,n){ni(e,n),ni(e+"Capture",n)}function ni(e,n){for(ao[e]=n,e=0;e<n.length;e++)ro.add(n[e])}var oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lo={},uo={};function Gl(e){return ge.call(uo,e)?!0:ge.call(lo,e)?!1:oo.test(e)?uo[e]=!0:(lo[e]=!0,!1)}function Hr(e,n,s){if(Gl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function hn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function ve(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ve(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ji(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function co(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=Ji(e)?"checked":"value";e._valueTracker=co(e,n,""+e[n])}}function rr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Ji(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ar=/[\n"\\]/g;function en(e){return e.replace(ar,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Gr(e,n,s,o,c,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ve(n)):e.value!==""+Ve(n)&&(e.value=""+Ve(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?ho(e,g,Ve(n)):s!=null?ho(e,g,Ve(s)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ve(E):e.removeAttribute("name")}function Fl(e,n,s,o,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+Ve(s):"",n=n!=null?""+Ve(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function ho(e,n,s){n==="number"&&ii(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function $i(e,n,s,o){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ve(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Ql(e,n,s){if(n!=null&&(n=""+Ve(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ve(s):""}function Wi(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(ae(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ve(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Gt(e)}function nn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Yl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Yl.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function mo(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&s[c]!==o&&fo(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&fo(e,f,n[f])}function Fr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qr(e){return ts.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ln(){}var go=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var es=null,si=null;function or(e){var n=En(e);if(n&&(e=n.stateNode)){var s=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(Gr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var c=o[Me]||null;if(!c)throw Error(r(90));Gr(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&rr(o)}break t;case"textarea":Ql(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&$i(e,!!s.multiple,n,!1)}}}var Yr=!1;function ns(e,n,s){if(Yr)return e(n,s);Yr=!0;try{var o=e(n);return o}finally{if(Yr=!1,(es!==null||si!==null)&&(ju(),es&&(n=es,e=si,si=es=null,or(n),e)))for(n=0;n<e.length;n++)or(e[n])}}function zn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Me]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lr=!1;if(Sn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){lr=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{lr=!1}var ri=null,po=null,ur=null;function yo(){if(ur)return ur;var e,n=po,s=n.length,o,c="value"in ri?ri.value:ri.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===c[f-o];o++);return ur=c.slice(e,1<o?1-o:void 0)}function cr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function kn(){return!1}function ze(e){function n(s,o,c,f,g){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ai:kn,this.isPropagationStopped=kn,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),n}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ai=ze(bi),is=I({},bi,{view:0,detail:0}),_o=ze(is),ss,Kr,oi,Xr=I({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(ss=e.screenX-oi.screenX,Kr=e.screenY-oi.screenY):Kr=ss=0,oi=e),ss)},movementY:function(e){return"movementY"in e?e.movementY:Kr}}),vo=ze(Xr),hr=I({},Xr,{dataTransfer:0}),Xl=ze(hr),Zl=I({},is,{relatedTarget:0}),fr=ze(Zl),Eo=I({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Jl=ze(Eo),Zr=I({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$l=ze(Zr),Wl=I({},bi,{data:0}),li=ze(Wl),tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=nu[e])?!!n[e]:!1}function rs(){return iu}var Je=I({},is,{key:function(e){if(e.key){var n=tu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(e){return e.type==="keypress"?cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),su=ze(Je),ru=I({},Xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ri=ze(ru),u=I({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),m=ze(u),p=I({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(p),L=I({},Xr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(L),Z=I({},bi,{newState:0,oldState:0}),vt=ze(Z),ce=[9,13,27,32],jt=Sn&&"CompositionEvent"in window,ie=null;Sn&&"documentMode"in document&&(ie=document.documentMode);var An=Sn&&"TextEvent"in window&&!ie,ui=Sn&&(!jt||ie&&8<ie&&11>=ie),Pn=" ",Bn=!1;function dr(e,n){switch(e){case"keyup":return ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $r=!1;function z0(e,n){switch(e){case"compositionend":return Jr(n);case"keypress":return n.which!==32?null:(Bn=!0,Pn);case"textInput":return e=n.data,e===Pn&&Bn?null:e;default:return null}}function k0(e,n){if($r)return e==="compositionend"||!jt&&dr(e,n)?(e=yo(),ur=po=ri=null,$r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ui&&n.locale!=="ko"?null:n.data;default:return null}}var P0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!P0[e.type]:n==="textarea"}function Im(e,n,s,o){es?si?si.push(o):si=[o]:es=o,n=Ku(n,"onChange"),0<n.length&&(s=new ai("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var To=null,So=null;function B0(e){cy(e,0)}function au(e){var n=cn(e);if(rr(n))return e}function Dm(e,n){if(e==="change")return n}var Nm=!1;if(Sn){var lh;if(Sn){var uh="oninput"in document;if(!uh){var Om=document.createElement("div");Om.setAttribute("oninput","return;"),uh=typeof Om.oninput=="function"}lh=uh}else lh=!1;Nm=lh&&(!document.documentMode||9<document.documentMode)}function Mm(){To&&(To.detachEvent("onpropertychange",Vm),So=To=null)}function Vm(e){if(e.propertyName==="value"&&au(So)){var n=[];Im(n,So,e,Tn(e)),ns(B0,n)}}function j0(e,n,s){e==="focusin"?(Mm(),To=n,So=s,To.attachEvent("onpropertychange",Vm)):e==="focusout"&&Mm()}function q0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return au(So)}function H0(e,n){if(e==="click")return au(n)}function G0(e,n){if(e==="input"||e==="change")return au(n)}function F0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:F0;function Ao(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!ge.call(n,c)||!fn(e[c],n[c]))return!1}return!0}function xm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Um(e,n){var s=xm(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=xm(s)}}function Lm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Lm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function zm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ii(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ii(e.document)}return n}function ch(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Q0=Sn&&"documentMode"in document&&11>=document.documentMode,Wr=null,hh=null,bo=null,fh=!1;function km(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;fh||Wr==null||Wr!==ii(o)||(o=Wr,"selectionStart"in o&&ch(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),bo&&Ao(bo,o)||(bo=o,o=Ku(hh,"onSelect"),0<o.length&&(n=new ai("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=Wr)))}function mr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ta={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionrun:mr("Transition","TransitionRun"),transitionstart:mr("Transition","TransitionStart"),transitioncancel:mr("Transition","TransitionCancel"),transitionend:mr("Transition","TransitionEnd")},dh={},Pm={};Sn&&(Pm=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function gr(e){if(dh[e])return dh[e];if(!ta[e])return e;var n=ta[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Pm)return dh[e]=n[s];return e}var Bm=gr("animationend"),jm=gr("animationiteration"),qm=gr("animationstart"),Y0=gr("transitionrun"),K0=gr("transitionstart"),X0=gr("transitioncancel"),Hm=gr("transitionend"),Gm=new Map,mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mh.push("scrollEnd");function jn(e,n){Gm.set(e,n),ei(n,[e])}var ou=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},bn=[],ea=0,gh=0;function lu(){for(var e=ea,n=gh=ea=0;n<e;){var s=bn[n];bn[n++]=null;var o=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}f!==0&&Fm(s,c,f)}}function uu(e,n,s,o){bn[ea++]=e,bn[ea++]=n,bn[ea++]=s,bn[ea++]=o,gh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function ph(e,n,s,o){return uu(e,n,s,o),cu(e)}function pr(e,n){return uu(e,null,null,n),cu(e)}function Fm(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-ue(s),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=s|536870912),f):null}function cu(e){if(50<Qo)throw Qo=0,wf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var na={};function Z0(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,s,o){return new Z0(e,n,s,o)}function yh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wi(e,n){var s=e.alternate;return s===null?(s=dn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Qm(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function hu(e,n,s,o,c,f){var g=0;if(o=e,typeof e=="function")yh(e)&&(g=1);else if(typeof e=="string")g=eS(e,s,et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=dn(31,s,n,c),e.elementType=R,e.lanes=f,e;case rt:return yr(s.children,c,f,n);case W:g=8,c|=24;break;case gt:return e=dn(12,s,n,c|2),e.elementType=gt,e.lanes=f,e;case Yt:return e=dn(13,s,n,c),e.elementType=Yt,e.lanes=f,e;case Dt:return e=dn(19,s,n,c),e.elementType=Dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case At:g=9;break t;case Bt:g=11;break t;case D:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=dn(g,s,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function yr(e,n,s,o){return e=dn(7,e,o,n),e.lanes=s,e}function _h(e,n,s){return e=dn(6,e,null,n),e.lanes=s,e}function Ym(e){var n=dn(18,null,null,0);return n.stateNode=e,n}function vh(e,n,s){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Km=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var s=Km.get(e);return s!==void 0?s:(n={value:e,source:n,stack:to(n)},Km.set(e,n),n)}return{value:e,source:n,stack:to(n)}}var ia=[],sa=0,fu=null,Ro=0,wn=[],Cn=0,as=null,ci=1,hi="";function Ci(e,n){ia[sa++]=Ro,ia[sa++]=fu,fu=e,Ro=n}function Xm(e,n,s){wn[Cn++]=ci,wn[Cn++]=hi,wn[Cn++]=as,as=e;var o=ci;e=hi;var c=32-ue(o)-1;o&=~(1<<c),s+=1;var f=32-ue(n)+c;if(30<f){var g=c-c%5;f=(o&(1<<g)-1).toString(32),o>>=g,c-=g,ci=1<<32-ue(n)+c|s<<c|o,hi=f+e}else ci=1<<f|s<<c|o,hi=e}function Eh(e){e.return!==null&&(Ci(e,1),Xm(e,1,0))}function Th(e){for(;e===fu;)fu=ia[--sa],ia[sa]=null,Ro=ia[--sa],ia[sa]=null;for(;e===as;)as=wn[--Cn],wn[Cn]=null,hi=wn[--Cn],wn[Cn]=null,ci=wn[--Cn],wn[Cn]=null}function Zm(e,n){wn[Cn++]=ci,wn[Cn++]=hi,wn[Cn++]=as,ci=n.id,hi=n.overflow,as=e}var ke=null,Wt=null,Ot=!1,os=null,In=!1,Sh=Error(r(519));function ls(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wo(Rn(n,e)),Sh}function Jm(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Me]=o,s){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(s=0;s<Ko.length;s++)Rt(Ko[s],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),Fl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),Wi(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||my(n.textContent,s)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=Ln),n=!0):n=!1,n||ls(e,!0)}function $m(e){for(ke=e.return;ke;)switch(ke.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:ke=ke.return}}function ra(e){if(e!==ke)return!1;if(!Ot)return $m(e),Ot=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||jf(e.type,e.memoizedProps)),s=!s),s&&Wt&&ls(e),$m(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Wt=Ay(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Wt=Ay(e)}else n===27?(n=Wt,Ss(e.type)?(e=Qf,Qf=null,Wt=e):Wt=n):Wt=ke?Nn(e.stateNode.nextSibling):null;return!0}function _r(){Wt=ke=null,Ot=!1}function Ah(){var e=os;return e!==null&&(on===null?on=e:on.push.apply(on,e),os=null),e}function wo(e){os===null?os=[e]:os.push(e)}var bh=M(null),vr=null,Ii=null;function us(e,n,s){$(bh,n._currentValue),n._currentValue=s}function Di(e){e._currentValue=bh.current,Q(bh)}function Rh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function wh(e,n,s,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Rh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Rh(g,s,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function aa(e,n,s,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;fn(c.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(c===Vt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Wo):e=[Wo])}c=c.return}e!==null&&wh(n,e,s,o),n.flags|=262144}function du(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Er(e){vr=e,Ii=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pe(e){return Wm(vr,e)}function mu(e,n){return vr===null&&Er(e),Wm(e,n)}function Wm(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ii===null){if(e===null)throw Error(r(308));Ii=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ii=Ii.next=n;return s}var J0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},$0=a.unstable_scheduleCallback,W0=a.unstable_NormalPriority,Ee={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ch(){return{controller:new J0,data:new Map,refCount:0}}function Co(e){e.refCount--,e.refCount===0&&$0(W0,function(){e.controller.abort()})}var Io=null,Ih=0,oa=0,la=null;function tT(e,n){if(Io===null){var s=Io=[];Ih=0,oa=Mf(),la={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Ih++,n.then(tg,tg),n}function tg(){if(--Ih===0&&Io!==null){la!==null&&(la.status="fulfilled");var e=Io;Io=null,oa=0,la=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function eT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var eg=H.S;H.S=function(e,n){kp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&tT(e,n),eg!==null&&eg(e,n)};var Tr=M(null);function Dh(){var e=Tr.current;return e!==null?e:$t.pooledCache}function gu(e,n){n===null?$(Tr,Tr.current):$(Tr,n.pool)}function ng(){var e=Dh();return e===null?null:{parent:Ee._currentValue,pool:e}}var ua=Error(r(460)),Nh=Error(r(474)),pu=Error(r(542)),yu={then:function(){}};function ig(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Ln,Ln),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ag(e),e;default:if(typeof n.status=="string")n.then(Ln,Ln);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ag(e),e}throw Ar=n,ua}}function Sr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ar=s,ua):s}}var Ar=null;function rg(){if(Ar===null)throw Error(r(459));var e=Ar;return Ar=null,e}function ag(e){if(e===ua||e===pu)throw Error(r(483))}var ca=null,Do=0;function _u(e){var n=Do;return Do+=1,ca===null&&(ca=[]),sg(ca,e,n)}function No(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function vu(e,n){throw n.$$typeof===U?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function og(e){function n(x,O){if(e){var z=x.deletions;z===null?(x.deletions=[O],x.flags|=16):z.push(O)}}function s(x,O){if(!e)return null;for(;O!==null;)n(x,O),O=O.sibling;return null}function o(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function c(x,O){return x=wi(x,O),x.index=0,x.sibling=null,x}function f(x,O,z){return x.index=z,e?(z=x.alternate,z!==null?(z=z.index,z<O?(x.flags|=67108866,O):z):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,O,z,G){return O===null||O.tag!==6?(O=_h(z,x.mode,G),O.return=x,O):(O=c(O,z),O.return=x,O)}function C(x,O,z,G){var lt=z.type;return lt===rt?q(x,O,z.props.children,G,z.key):O!==null&&(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&Sr(lt)===O.type)?(O=c(O,z.props),No(O,z),O.return=x,O):(O=hu(z.type,z.key,z.props,null,x.mode,G),No(O,z),O.return=x,O)}function k(x,O,z,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=vh(z,x.mode,G),O.return=x,O):(O=c(O,z.children||[]),O.return=x,O)}function q(x,O,z,G,lt){return O===null||O.tag!==7?(O=yr(z,x.mode,G,lt),O.return=x,O):(O=c(O,z),O.return=x,O)}function F(x,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=_h(""+O,x.mode,z),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case K:return z=hu(O.type,O.key,O.props,null,x.mode,z),No(z,O),z.return=x,z;case tt:return O=vh(O,x.mode,z),O.return=x,O;case S:return O=Sr(O),F(x,O,z)}if(ae(O)||V(O))return O=yr(O,x.mode,z,null),O.return=x,O;if(typeof O.then=="function")return F(x,_u(O),z);if(O.$$typeof===dt)return F(x,mu(x,O),z);vu(x,O)}return null}function P(x,O,z,G){var lt=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return lt!==null?null:E(x,O,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case K:return z.key===lt?C(x,O,z,G):null;case tt:return z.key===lt?k(x,O,z,G):null;case S:return z=Sr(z),P(x,O,z,G)}if(ae(z)||V(z))return lt!==null?null:q(x,O,z,G,null);if(typeof z.then=="function")return P(x,O,_u(z),G);if(z.$$typeof===dt)return P(x,O,mu(x,z),G);vu(x,z)}return null}function j(x,O,z,G,lt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(z)||null,E(O,x,""+G,lt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case K:return x=x.get(G.key===null?z:G.key)||null,C(O,x,G,lt);case tt:return x=x.get(G.key===null?z:G.key)||null,k(O,x,G,lt);case S:return G=Sr(G),j(x,O,z,G,lt)}if(ae(G)||V(G))return x=x.get(z)||null,q(O,x,G,lt,null);if(typeof G.then=="function")return j(x,O,z,_u(G),lt);if(G.$$typeof===dt)return j(x,O,z,mu(O,G),lt);vu(O,G)}return null}function it(x,O,z,G){for(var lt=null,kt=null,at=O,St=O=0,Ct=null;at!==null&&St<z.length;St++){at.index>St?(Ct=at,at=null):Ct=at.sibling;var Pt=P(x,at,z[St],G);if(Pt===null){at===null&&(at=Ct);break}e&&at&&Pt.alternate===null&&n(x,at),O=f(Pt,O,St),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt,at=Ct}if(St===z.length)return s(x,at),Ot&&Ci(x,St),lt;if(at===null){for(;St<z.length;St++)at=F(x,z[St],G),at!==null&&(O=f(at,O,St),kt===null?lt=at:kt.sibling=at,kt=at);return Ot&&Ci(x,St),lt}for(at=o(at);St<z.length;St++)Ct=j(at,x,St,z[St],G),Ct!==null&&(e&&Ct.alternate!==null&&at.delete(Ct.key===null?St:Ct.key),O=f(Ct,O,St),kt===null?lt=Ct:kt.sibling=Ct,kt=Ct);return e&&at.forEach(function(Cs){return n(x,Cs)}),Ot&&Ci(x,St),lt}function ht(x,O,z,G){if(z==null)throw Error(r(151));for(var lt=null,kt=null,at=O,St=O=0,Ct=null,Pt=z.next();at!==null&&!Pt.done;St++,Pt=z.next()){at.index>St?(Ct=at,at=null):Ct=at.sibling;var Cs=P(x,at,Pt.value,G);if(Cs===null){at===null&&(at=Ct);break}e&&at&&Cs.alternate===null&&n(x,at),O=f(Cs,O,St),kt===null?lt=Cs:kt.sibling=Cs,kt=Cs,at=Ct}if(Pt.done)return s(x,at),Ot&&Ci(x,St),lt;if(at===null){for(;!Pt.done;St++,Pt=z.next())Pt=F(x,Pt.value,G),Pt!==null&&(O=f(Pt,O,St),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt);return Ot&&Ci(x,St),lt}for(at=o(at);!Pt.done;St++,Pt=z.next())Pt=j(at,x,St,Pt.value,G),Pt!==null&&(e&&Pt.alternate!==null&&at.delete(Pt.key===null?St:Pt.key),O=f(Pt,O,St),kt===null?lt=Pt:kt.sibling=Pt,kt=Pt);return e&&at.forEach(function(fS){return n(x,fS)}),Ot&&Ci(x,St),lt}function Jt(x,O,z,G){if(typeof z=="object"&&z!==null&&z.type===rt&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case K:t:{for(var lt=z.key;O!==null;){if(O.key===lt){if(lt=z.type,lt===rt){if(O.tag===7){s(x,O.sibling),G=c(O,z.props.children),G.return=x,x=G;break t}}else if(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&Sr(lt)===O.type){s(x,O.sibling),G=c(O,z.props),No(G,z),G.return=x,x=G;break t}s(x,O);break}else n(x,O);O=O.sibling}z.type===rt?(G=yr(z.props.children,x.mode,G,z.key),G.return=x,x=G):(G=hu(z.type,z.key,z.props,null,x.mode,G),No(G,z),G.return=x,x=G)}return g(x);case tt:t:{for(lt=z.key;O!==null;){if(O.key===lt)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){s(x,O.sibling),G=c(O,z.children||[]),G.return=x,x=G;break t}else{s(x,O);break}else n(x,O);O=O.sibling}G=vh(z,x.mode,G),G.return=x,x=G}return g(x);case S:return z=Sr(z),Jt(x,O,z,G)}if(ae(z))return it(x,O,z,G);if(V(z)){if(lt=V(z),typeof lt!="function")throw Error(r(150));return z=lt.call(z),ht(x,O,z,G)}if(typeof z.then=="function")return Jt(x,O,_u(z),G);if(z.$$typeof===dt)return Jt(x,O,mu(x,z),G);vu(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(s(x,O.sibling),G=c(O,z),G.return=x,x=G):(s(x,O),G=_h(z,x.mode,G),G.return=x,x=G),g(x)):s(x,O)}return function(x,O,z,G){try{Do=0;var lt=Jt(x,O,z,G);return ca=null,lt}catch(at){if(at===ua||at===pu)throw at;var kt=dn(29,at,null,x.mode);return kt.lanes=G,kt.return=x,kt}finally{}}}var br=og(!0),lg=og(!1),cs=!1;function Oh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function hs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function fs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=cu(e),Fm(e,null,s),n}return uu(e,o,n,s),cu(e)}function Oo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,io(e,s)}}function Vh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var xh=!1;function Mo(){if(xh){var e=la;if(e!==null)throw e}}function Vo(e,n,s,o){xh=!1;var c=e.updateQueue;cs=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,k=C.next;C.next=null,g===null?f=k:g.next=k,g=C;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==g&&(E===null?q.firstBaseUpdate=k:E.next=k,q.lastBaseUpdate=C))}if(f!==null){var F=c.baseState;g=0,q=k=C=null,E=f;do{var P=E.lane&-536870913,j=P!==E.lane;if(j?(wt&P)===P:(o&P)===P){P!==0&&P===oa&&(xh=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var it=e,ht=E;P=n;var Jt=s;switch(ht.tag){case 1:if(it=ht.payload,typeof it=="function"){F=it.call(Jt,F,P);break t}F=it;break t;case 3:it.flags=it.flags&-65537|128;case 0:if(it=ht.payload,P=typeof it=="function"?it.call(Jt,F,P):it,P==null)break t;F=I({},F,P);break t;case 2:cs=!0}}P=E.callback,P!==null&&(e.flags|=64,j&&(e.flags|=8192),j=c.callbacks,j===null?c.callbacks=[P]:j.push(P))}else j={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(k=q=j,C=F):q=q.next=j,g|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);q===null&&(C=F),c.baseState=C,c.firstBaseUpdate=k,c.lastBaseUpdate=q,f===null&&(c.shared.lanes=0),ys|=g,e.lanes=g,e.memoizedState=F}}function ug(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function cg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)ug(s[e],n)}var ha=M(null),Eu=M(0);function hg(e,n){e=ki,$(Eu,e),$(ha,n),ki=e|n.baseLanes}function Uh(){$(Eu,ki),$(ha,ha.current)}function Lh(){ki=Eu.current,Q(ha),Q(Eu)}var mn=M(null),Dn=null;function ds(e){var n=e.alternate;$(he,he.current&1),$(mn,e),Dn===null&&(n===null||ha.current!==null||n.memoizedState!==null)&&(Dn=e)}function zh(e){$(he,he.current),$(mn,e),Dn===null&&(Dn=e)}function fg(e){e.tag===22?($(he,he.current),$(mn,e),Dn===null&&(Dn=e)):ms()}function ms(){$(he,he.current),$(mn,mn.current)}function gn(e){Q(mn),Dn===e&&(Dn=null),Q(he)}var he=M(0);function Tu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Gf(s)||Ff(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ni=0,Et=null,Xt=null,Te=null,Su=!1,fa=!1,Rr=!1,Au=0,xo=0,da=null,nT=0;function oe(){throw Error(r(321))}function kh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!fn(e[s],n[s]))return!1;return!0}function Ph(e,n,s,o,c,f){return Ni=f,Et=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Xg:tf,Rr=!1,f=s(o,c),Rr=!1,fa&&(f=mg(n,s,o,c)),dg(e),f}function dg(e){H.H=zo;var n=Xt!==null&&Xt.next!==null;if(Ni=0,Te=Xt=Et=null,Su=!1,xo=0,da=null,n)throw Error(r(300));e===null||Se||(e=e.dependencies,e!==null&&du(e)&&(Se=!0))}function mg(e,n,s,o){Et=e;var c=0;do{if(fa&&(da=null),xo=0,fa=!1,25<=c)throw Error(r(301));if(c+=1,Te=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Zg,f=n(s,o)}while(fa);return f}function iT(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Uo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(Et.flags|=1024),n}function Bh(){var e=Au!==0;return Au=0,e}function jh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function qh(e){if(Su){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Su=!1}Ni=0,Te=Xt=Et=null,fa=!1,xo=Au=0,da=null}function $e(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Et.memoizedState=Te=e:Te=Te.next=e,Te}function fe(){if(Xt===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Te===null?Et.memoizedState:Te.next;if(n!==null)Te=n,Xt=e;else{if(e===null)throw Et.alternate===null?Error(r(467)):Error(r(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?Et.memoizedState=Te=e:Te=Te.next=e}return Te}function bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uo(e){var n=xo;return xo+=1,da===null&&(da=[]),e=sg(da,e,n),n=Et,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Xg:tf),e}function Ru(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Uo(e);if(e.$$typeof===dt)return Pe(e)}throw Error(r(438,String(e)))}function Hh(e){var n=null,s=Et.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Et.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=bu(),Et.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=N;return n.index++,s}function Oi(e,n){return typeof n=="function"?n(e):n}function wu(e){var n=fe();return Gh(n,Xt,e)}function Gh(e,n,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=g=null,C=null,k=n,q=!1;do{var F=k.lane&-536870913;if(F!==k.lane?(wt&F)===F:(Ni&F)===F){var P=k.revertLane;if(P===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),F===oa&&(q=!0);else if((Ni&P)===P){k=k.next,P===oa&&(q=!0);continue}else F={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(E=C=F,g=f):C=C.next=F,Et.lanes|=P,ys|=P;F=k.action,Rr&&s(f,F),f=k.hasEagerState?k.eagerState:s(f,F)}else P={lane:F,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(E=C=P,g=f):C=C.next=P,Et.lanes|=F,ys|=F;k=k.next}while(k!==null&&k!==n);if(C===null?g=f:C.next=E,!fn(f,e.memoizedState)&&(Se=!0,q&&(s=la,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Fh(e){var n=fe(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);fn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function gg(e,n,s){var o=Et,c=fe(),f=Ot;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!fn((Xt||c).memoizedState,s);if(g&&(c.memoizedState=s,Se=!0),c=c.queue,Kh(_g.bind(null,o,c,e),[e]),c.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,ma(9,{destroy:void 0},yg.bind(null,o,c,s,n),null),$t===null)throw Error(r(349));f||(Ni&127)!==0||pg(o,n,s)}return s}function pg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Et.updateQueue,n===null?(n=bu(),Et.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function yg(e,n,s,o){n.value=s,n.getSnapshot=o,vg(n)&&Eg(e)}function _g(e,n,s){return s(function(){vg(n)&&Eg(e)})}function vg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!fn(e,s)}catch{return!0}}function Eg(e){var n=pr(e,2);n!==null&&ln(n,e,2)}function Qh(e){var n=$e();if(typeof e=="function"){var s=e;if(e=s(),Rr){vn(!0);try{s()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},n}function Tg(e,n,s,o){return e.baseState=s,Gh(e,Xt,typeof o=="function"?o:Oi)}function sT(e,n,s,o,c){if(Du(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Sg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Sg(e,n){var s=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=s(c,o),C=H.S;C!==null&&C(g,E),Ag(e,n,E)}catch(k){Yh(e,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(c,o),Ag(e,n,f)}catch(k){Yh(e,n,k)}}function Ag(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){bg(e,n,o)},function(o){return Yh(e,n,o)}):bg(e,n,s)}function bg(e,n,s){n.status="fulfilled",n.value=s,Rg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Sg(e,s)))}function Yh(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Rg(n),n=n.next;while(n!==o)}e.action=null}function Rg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function wg(e,n){return n}function Cg(e,n){if(Ot){var s=$t.formState;if(s!==null){t:{var o=Et;if(Ot){if(Wt){e:{for(var c=Wt,f=In;c.nodeType!==8;){if(!f){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Wt=Nn(c.nextSibling),o=c.data==="F!";break t}}ls(o)}o=!1}o&&(n=s[0])}}return s=$e(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:n},s.queue=o,s=Qg.bind(null,Et,o),o.dispatch=s,o=Qh(!1),f=Wh.bind(null,Et,!1,o.queue),o=$e(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,s=sT.bind(null,Et,c,f,s),c.dispatch=s,o.memoizedState=e,[n,s,!1]}function Ig(e){var n=fe();return Dg(n,Xt,e)}function Dg(e,n,s){if(n=Gh(e,n,wg)[0],e=wu(Oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Uo(n)}catch(g){throw g===ua?pu:g}else o=n;n=fe();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Et.flags|=2048,ma(9,{destroy:void 0},rT.bind(null,c,s),null)),[o,f,e]}function rT(e,n){e.action=n}function Ng(e){var n=fe(),s=Xt;if(s!==null)return Dg(n,s,e);fe(),n=n.memoizedState,s=fe();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function ma(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Et.updateQueue,n===null&&(n=bu(),Et.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Og(){return fe().memoizedState}function Cu(e,n,s,o){var c=$e();Et.flags|=e,c.memoizedState=ma(1|n,{destroy:void 0},s,o===void 0?null:o)}function Iu(e,n,s,o){var c=fe();o=o===void 0?null:o;var f=c.memoizedState.inst;Xt!==null&&o!==null&&kh(o,Xt.memoizedState.deps)?c.memoizedState=ma(n,f,s,o):(Et.flags|=e,c.memoizedState=ma(1|n,f,s,o))}function Mg(e,n){Cu(8390656,8,e,n)}function Kh(e,n){Iu(2048,8,e,n)}function aT(e){Et.flags|=4;var n=Et.updateQueue;if(n===null)n=bu(),Et.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Vg(e){var n=fe().memoizedState;return aT({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function xg(e,n){return Iu(4,2,e,n)}function Ug(e,n){return Iu(4,4,e,n)}function Lg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function zg(e,n,s){s=s!=null?s.concat([e]):null,Iu(4,4,Lg.bind(null,n,e),s)}function Xh(){}function kg(e,n){var s=fe();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&kh(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Pg(e,n){var s=fe();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&kh(n,o[1]))return o[0];if(o=e(),Rr){vn(!0);try{e()}finally{vn(!1)}}return s.memoizedState=[o,n],o}function Zh(e,n,s){return s===void 0||(Ni&1073741824)!==0&&(wt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Bp(),Et.lanes|=e,ys|=e,s)}function Bg(e,n,s,o){return fn(s,n)?s:ha.current!==null?(e=Zh(e,s,o),fn(e,n)||(Se=!0),e):(Ni&42)===0||(Ni&1073741824)!==0&&(wt&261930)===0?(Se=!0,e.memoizedState=s):(e=Bp(),Et.lanes|=e,ys|=e,n)}function jg(e,n,s,o,c){var f=J.p;J.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Wh(e,!1,n,s);try{var C=c(),k=H.S;if(k!==null&&k(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var q=eT(C,o);Lo(e,n,q,_n(e))}else Lo(e,n,o,_n(e))}catch(F){Lo(e,n,{then:function(){},status:"rejected",reason:F},_n())}finally{J.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function oT(){}function Jh(e,n,s,o){if(e.tag!==5)throw Error(r(476));var c=qg(e).queue;jg(e,c,n,ut,s===null?oT:function(){return Hg(e),s(o)})}function qg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Hg(e){var n=qg(e);n.next===null&&(n=e.alternate.memoizedState),Lo(e,n.next.queue,{},_n())}function $h(){return Pe(Wo)}function Gg(){return fe().memoizedState}function Fg(){return fe().memoizedState}function lT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=_n();e=hs(s);var o=fs(n,e,s);o!==null&&(ln(o,n,s),Oo(o,n,s)),n={cache:Ch()},e.payload=n;return}n=n.return}}function uT(e,n,s){var o=_n();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Du(e)?Yg(n,s):(s=ph(e,n,s,o),s!==null&&(ln(s,e,o),Kg(s,n,o)))}function Qg(e,n,s){var o=_n();Lo(e,n,s,o)}function Lo(e,n,s,o){var c={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Du(e))Yg(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,fn(E,g))return uu(e,n,c,0),$t===null&&lu(),!1}catch{}finally{}if(s=ph(e,n,c,o),s!==null)return ln(s,e,o),Kg(s,n,o),!0}return!1}function Wh(e,n,s,o){if(o={lane:2,revertLane:Mf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Du(e)){if(n)throw Error(r(479))}else n=ph(e,s,o,2),n!==null&&ln(n,e,2)}function Du(e){var n=e.alternate;return e===Et||n!==null&&n===Et}function Yg(e,n){fa=Su=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Kg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,io(e,s)}}var zo={readContext:Pe,use:Ru,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};zo.useEffectEvent=oe;var Xg={readContext:Pe,use:Ru,useCallback:function(e,n){return $e().memoizedState=[e,n===void 0?null:n],e},useContext:Pe,useEffect:Mg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Cu(4194308,4,Lg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Cu(4194308,4,e,n)},useInsertionEffect:function(e,n){Cu(4,2,e,n)},useMemo:function(e,n){var s=$e();n=n===void 0?null:n;var o=e();if(Rr){vn(!0);try{e()}finally{vn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=$e();if(s!==void 0){var c=s(n);if(Rr){vn(!0);try{s(n)}finally{vn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=uT.bind(null,Et,e),[o.memoizedState,e]},useRef:function(e){var n=$e();return e={current:e},n.memoizedState=e},useState:function(e){e=Qh(e);var n=e.queue,s=Qg.bind(null,Et,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Xh,useDeferredValue:function(e,n){var s=$e();return Zh(s,e,n)},useTransition:function(){var e=Qh(!1);return e=jg.bind(null,Et,e.queue,!0,!1),$e().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Et,c=$e();if(Ot){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),$t===null)throw Error(r(349));(wt&127)!==0||pg(o,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Mg(_g.bind(null,o,f,e),[e]),o.flags|=2048,ma(9,{destroy:void 0},yg.bind(null,o,f,s,n),null),s},useId:function(){var e=$e(),n=$t.identifierPrefix;if(Ot){var s=hi,o=ci;s=(o&~(1<<32-ue(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Au++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=nT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:$h,useFormState:Cg,useActionState:Cg,useOptimistic:function(e){var n=$e();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Wh.bind(null,Et,!0,s),s.dispatch=n,[e,n]},useMemoCache:Hh,useCacheRefresh:function(){return $e().memoizedState=lT.bind(null,Et)},useEffectEvent:function(e){var n=$e(),s={impl:e};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},tf={readContext:Pe,use:Ru,useCallback:kg,useContext:Pe,useEffect:Kh,useImperativeHandle:zg,useInsertionEffect:xg,useLayoutEffect:Ug,useMemo:Pg,useReducer:wu,useRef:Og,useState:function(){return wu(Oi)},useDebugValue:Xh,useDeferredValue:function(e,n){var s=fe();return Bg(s,Xt.memoizedState,e,n)},useTransition:function(){var e=wu(Oi)[0],n=fe().memoizedState;return[typeof e=="boolean"?e:Uo(e),n]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:$h,useFormState:Ig,useActionState:Ig,useOptimistic:function(e,n){var s=fe();return Tg(s,Xt,e,n)},useMemoCache:Hh,useCacheRefresh:Fg};tf.useEffectEvent=Vg;var Zg={readContext:Pe,use:Ru,useCallback:kg,useContext:Pe,useEffect:Kh,useImperativeHandle:zg,useInsertionEffect:xg,useLayoutEffect:Ug,useMemo:Pg,useReducer:Fh,useRef:Og,useState:function(){return Fh(Oi)},useDebugValue:Xh,useDeferredValue:function(e,n){var s=fe();return Xt===null?Zh(s,e,n):Bg(s,Xt.memoizedState,e,n)},useTransition:function(){var e=Fh(Oi)[0],n=fe().memoizedState;return[typeof e=="boolean"?e:Uo(e),n]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:$h,useFormState:Ng,useActionState:Ng,useOptimistic:function(e,n){var s=fe();return Xt!==null?Tg(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Hh,useCacheRefresh:Fg};Zg.useEffectEvent=Vg;function ef(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:I({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var nf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=_n(),c=hs(o);c.payload=n,s!=null&&(c.callback=s),n=fs(e,c,o),n!==null&&(ln(n,e,o),Oo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=_n(),c=hs(o);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=fs(e,c,o),n!==null&&(ln(n,e,o),Oo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=_n(),o=hs(s);o.tag=2,n!=null&&(o.callback=n),n=fs(e,o,s),n!==null&&(ln(n,e,s),Oo(n,e,s))}};function Jg(e,n,s,o,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ao(s,o)||!Ao(c,f):!0}function $g(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&nf.enqueueReplaceState(n,n.state,null)}function wr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=I({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function Wg(e){ou(e)}function tp(e){console.error(e)}function ep(e){ou(e)}function Nu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function np(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function sf(e,n,s){return s=hs(s),s.tag=3,s.payload={element:null},s.callback=function(){Nu(e,n)},s}function ip(e){return e=hs(e),e.tag=3,e}function sp(e,n,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){np(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){np(n,s,o),typeof c!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function cT(e,n,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&aa(n,s,c,!0),s=mn.current,s!==null){switch(s.tag){case 31:case 13:return Dn===null?qu():s.alternate===null&&le===0&&(le=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===yu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Df(e,o,c)),!1;case 22:return s.flags|=65536,o===yu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Df(e,o,c)),!1}throw Error(r(435,s.tag))}return Df(e,o,c),qu(),!1}if(Ot)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Sh&&(e=Error(r(422),{cause:o}),wo(Rn(e,s)))):(o!==Sh&&(n=Error(r(423),{cause:o}),wo(Rn(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=Rn(o,s),c=sf(e.stateNode,o,c),Vh(e,c),le!==4&&(le=2)),!1;var f=Error(r(520),{cause:o});if(f=Rn(f,s),Fo===null?Fo=[f]:Fo.push(f),le!==4&&(le=2),n===null)return!0;o=Rn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=sf(s.stateNode,o,e),Vh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_s===null||!_s.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=ip(c),sp(c,e,s,o),Vh(s,c),!1}s=s.return}while(s!==null);return!1}var rf=Error(r(461)),Se=!1;function Be(e,n,s,o){n.child=e===null?lg(n,null,s,o):br(n,e.child,s,o)}function rp(e,n,s,o,c){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Er(n),o=Ph(e,n,s,g,f,c),E=Bh(),e!==null&&!Se?(jh(e,n,c),Mi(e,n,c)):(Ot&&E&&Eh(n),n.flags|=1,Be(e,n,o,c),n.child)}function ap(e,n,s,o,c){if(e===null){var f=s.type;return typeof f=="function"&&!yh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,op(e,n,f,o,c)):(e=hu(s.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!df(e,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ao,s(g,o)&&e.ref===n.ref)return Mi(e,n,c)}return n.flags|=1,e=wi(f,o),e.ref=n.ref,e.return=n,n.child=e}function op(e,n,s,o,c){if(e!==null){var f=e.memoizedProps;if(Ao(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,df(e,c))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,Mi(e,n,c)}return af(e,n,s,o,c)}function lp(e,n,s,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,n.child=null;return up(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&gu(n,f!==null?f.cachePool:null),f!==null?hg(n,f):Uh(),fg(n);else return o=n.lanes=536870912,up(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(gu(n,f.cachePool),hg(n,f),ms(),n.memoizedState=null):(e!==null&&gu(n,null),Uh(),ms());return Be(e,n,c,s),n.child}function ko(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function up(e,n,s,o,c){var f=Dh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&gu(n,null),Uh(),fg(n),e!==null&&aa(e,n,o,!0),n.childLanes=c,null}function Ou(e,n){return n=Vu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function cp(e,n,s){return br(n,e.child,null,s),e=Ou(n,n.pendingProps),e.flags|=2,gn(n),n.memoizedState=null,e}function hT(e,n,s){var o=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ot){if(o.mode==="hidden")return e=Ou(n,o),n.lanes=536870912,ko(null,e);if(zh(n),(e=Wt)?(e=Sy(e,In),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:as!==null?{id:ci,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},s=Ym(e),s.return=n,n.child=s,ke=n,Wt=null)):e=null,e===null)throw ls(n);return n.lanes=536870912,null}return Ou(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(zh(n),c)if(n.flags&256)n.flags&=-257,n=cp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Se||aa(e,n,s,!1),c=(s&e.childLanes)!==0,Se||c){if(o=$t,o!==null&&(g=so(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,pr(e,g),ln(o,e,g),rf;qu(),n=cp(e,n,s)}else e=f.treeContext,Wt=Nn(g.nextSibling),ke=n,Ot=!0,os=null,In=!1,e!==null&&Zm(n,e),n=Ou(n,o),n.flags|=4096;return n}return e=wi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Mu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function af(e,n,s,o,c){return Er(n),s=Ph(e,n,s,o,void 0,c),o=Bh(),e!==null&&!Se?(jh(e,n,c),Mi(e,n,c)):(Ot&&o&&Eh(n),n.flags|=1,Be(e,n,s,c),n.child)}function hp(e,n,s,o,c,f){return Er(n),n.updateQueue=null,s=mg(n,o,s,c),dg(e),o=Bh(),e!==null&&!Se?(jh(e,n,f),Mi(e,n,f)):(Ot&&o&&Eh(n),n.flags|=1,Be(e,n,s,f),n.child)}function fp(e,n,s,o,c){if(Er(n),n.stateNode===null){var f=na,g=s.contextType;typeof g=="object"&&g!==null&&(f=Pe(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Oh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Pe(g):na,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(ef(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&nf.enqueueReplaceState(f,f.state,null),Vo(n,o,f,c),Mo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=wr(s,E);f.props=C;var k=f.context,q=s.contextType;g=na,typeof q=="object"&&q!==null&&(g=Pe(q));var F=s.getDerivedStateFromProps;q=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&$g(n,f,o,g),cs=!1;var P=n.memoizedState;f.state=P,Vo(n,o,f,c),Mo(),k=n.memoizedState,E||P!==k||cs?(typeof F=="function"&&(ef(n,s,F,o),k=n.memoizedState),(C=cs||Jg(n,s,C,o,P,k,g))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Mh(e,n),g=n.memoizedProps,q=wr(s,g),f.props=q,F=n.pendingProps,P=f.context,k=s.contextType,C=na,typeof k=="object"&&k!==null&&(C=Pe(k)),E=s.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||P!==C)&&$g(n,f,o,C),cs=!1,P=n.memoizedState,f.state=P,Vo(n,o,f,c),Mo();var j=n.memoizedState;g!==F||P!==j||cs||e!==null&&e.dependencies!==null&&du(e.dependencies)?(typeof E=="function"&&(ef(n,s,E,o),j=n.memoizedState),(q=cs||Jg(n,s,q,o,P,j,C)||e!==null&&e.dependencies!==null&&du(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=C,o=q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Mu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=br(n,e.child,null,c),n.child=br(n,null,s,c)):Be(e,n,s,c),n.memoizedState=f.state,e=n.child):e=Mi(e,n,c),e}function dp(e,n,s,o){return _r(),n.flags|=256,Be(e,n,s,o),n.child}var of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lf(e){return{baseLanes:e,cachePool:ng()}}function uf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=yn),e}function mp(e,n,s){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(he.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ot){if(c?ds(n):ms(),(e=Wt)?(e=Sy(e,In),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:as!==null?{id:ci,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},s=Ym(e),s.return=n,n.child=s,ke=n,Wt=null)):e=null,e===null)throw ls(n);return Ff(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,c?(ms(),c=n.mode,E=Vu({mode:"hidden",children:E},c),o=yr(o,c,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=lf(s),o.childLanes=uf(e,g,s),n.memoizedState=of,ko(null,o)):(ds(n),cf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(ds(n),n.flags&=-257,n=hf(e,n,s)):n.memoizedState!==null?(ms(),n.child=e.child,n.flags|=128,n=null):(ms(),E=o.fallback,c=n.mode,o=Vu({mode:"visible",children:o.children},c),E=yr(E,c,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,br(n,e.child,null,s),o=n.child,o.memoizedState=lf(s),o.childLanes=uf(e,g,s),n.memoizedState=of,n=ko(null,o));else if(ds(n),Ff(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,o=Error(r(419)),o.stack="",o.digest=g,wo({value:o,source:null,stack:null}),n=hf(e,n,s)}else if(Se||aa(e,n,s,!1),g=(s&e.childLanes)!==0,Se||g){if(g=$t,g!==null&&(o=so(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,pr(e,o),ln(g,e,o),rf;Gf(E)||qu(),n=hf(e,n,s)}else Gf(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,Wt=Nn(E.nextSibling),ke=n,Ot=!0,os=null,In=!1,e!==null&&Zm(n,e),n=cf(n,o.children),n.flags|=4096);return n}return c?(ms(),E=o.fallback,c=n.mode,C=e.child,k=C.sibling,o=wi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,k!==null?E=wi(k,E):(E=yr(E,c,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,ko(null,o),o=n.child,E=e.child.memoizedState,E===null?E=lf(s):(c=E.cachePool,c!==null?(C=Ee._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=ng(),E={baseLanes:E.baseLanes|s,cachePool:c}),o.memoizedState=E,o.childLanes=uf(e,g,s),n.memoizedState=of,ko(e.child,o)):(ds(n),s=e.child,e=s.sibling,s=wi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function cf(e,n){return n=Vu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Vu(e,n){return e=dn(22,e,null,n),e.lanes=0,e}function hf(e,n,s){return br(n,e.child,null,s),e=cf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Rh(e.return,n,s)}function ff(e,n,s,o,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function pp(e,n,s){var o=n.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var g=he.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,$(he,g),Be(e,n,o,s),o=Ot?Ro:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gp(e,s,n);else if(e.tag===19)gp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Tu(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),ff(n,!1,c,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Tu(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}ff(n,!0,s,null,f,o);break;case"together":ff(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Mi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ys|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(aa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=wi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=wi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function df(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&du(e)))}function fT(e,n,s){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),us(n,Ee,e.memoizedState.cache),_r();break;case 27:case 5:$s(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,zh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ds(n),n.flags|=128,null):(s&n.child.childLanes)!==0?mp(e,n,s):(ds(n),e=Mi(e,n,s),e!==null?e.sibling:null);ds(n);break;case 19:var c=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(aa(e,n,s,!1),o=(s&n.childLanes)!==0),c){if(o)return pp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(he,he.current),o)break;return null;case 22:return n.lanes=0,lp(e,n,s,n.pendingProps);case 24:us(n,Ee,e.memoizedState.cache)}return Mi(e,n,s)}function yp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!df(e,s)&&(n.flags&128)===0)return Se=!1,fT(e,n,s);Se=(e.flags&131072)!==0}else Se=!1,Ot&&(n.flags&1048576)!==0&&Xm(n,Ro,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Sr(n.elementType),n.type=e,typeof e=="function")yh(e)?(o=wr(e,o),n.tag=1,n=fp(null,n,e,o,s)):(n.tag=0,n=af(null,n,e,o,s));else{if(e!=null){var c=e.$$typeof;if(c===Bt){n.tag=11,n=rp(null,n,e,o,s);break t}else if(c===D){n.tag=14,n=ap(null,n,e,o,s);break t}}throw n=Nt(e)||e,Error(r(306,n,""))}}return n;case 0:return af(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,c=wr(o,n.pendingProps),fp(e,n,o,c,s);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Mh(e,n),Vo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,us(n,Ee,o),o!==f.cache&&wh(n,[Ee],s,!0),Mo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=dp(e,n,o,s);break t}else if(o!==c){c=Rn(Error(r(424)),n),wo(c),n=dp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Wt=Nn(e.firstChild),ke=n,Ot=!0,os=null,In=!0,s=lg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(_r(),o===c){n=Mi(e,n,s);break t}Be(e,n,o,s)}n=n.child}return n;case 26:return Mu(e,n),e===null?(s=Iy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ot||(s=n.type,e=n.pendingProps,o=Xu(Tt.current).createElement(s),o[ye]=n,o[Me]=e,je(o,s,e),_e(o),n.stateNode=o):n.memoizedState=Iy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return $s(n),e===null&&Ot&&(o=n.stateNode=Ry(n.type,n.pendingProps,Tt.current),ke=n,In=!0,c=Wt,Ss(n.type)?(Qf=c,Wt=Nn(o.firstChild)):Wt=c),Be(e,n,n.pendingProps.children,s),Mu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ot&&((c=o=Wt)&&(o=qT(o,n.type,n.pendingProps,In),o!==null?(n.stateNode=o,ke=n,Wt=Nn(o.firstChild),In=!1,c=!0):c=!1),c||ls(n)),$s(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,jf(c,f)?o=null:g!==null&&jf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Ph(e,n,iT,null,null,s),Wo._currentValue=c),Mu(e,n),Be(e,n,o,s),n.child;case 6:return e===null&&Ot&&((e=s=Wt)&&(s=HT(s,n.pendingProps,In),s!==null?(n.stateNode=s,ke=n,Wt=null,e=!0):e=!1),e||ls(n)),null;case 13:return mp(e,n,s);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=br(n,null,o,s):Be(e,n,o,s),n.child;case 11:return rp(e,n,n.type,n.pendingProps,s);case 7:return Be(e,n,n.pendingProps,s),n.child;case 8:return Be(e,n,n.pendingProps.children,s),n.child;case 12:return Be(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,us(n,n.type,o.value),Be(e,n,o.children,s),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Er(n),c=Pe(c),o=o(c),n.flags|=1,Be(e,n,o,s),n.child;case 14:return ap(e,n,n.type,n.pendingProps,s);case 15:return op(e,n,n.type,n.pendingProps,s);case 19:return pp(e,n,s);case 31:return hT(e,n,s);case 22:return lp(e,n,s,n.pendingProps);case 24:return Er(n),o=Pe(Ee),e===null?(c=Dh(),c===null&&(c=$t,f=Ch(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:o,cache:c},Oh(n),us(n,Ee,c)):((e.lanes&s)!==0&&(Mh(e,n),Vo(n,null,null,s),Mo()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),us(n,Ee,o)):(o=f.cache,us(n,Ee,o),o!==c.cache&&wh(n,[Ee],s,!0))),Be(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Vi(e){e.flags|=4}function mf(e,n,s,o,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Gp())e.flags|=8192;else throw Ar=yu,Nh}else e.flags&=-16777217}function _p(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vy(n))if(Gp())e.flags|=8192;else throw Ar=yu,Nh}function xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Bl():536870912,e.lanes|=n,_a|=n)}function Po(e,n){if(!Ot)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function dT(e,n,s){var o=n.pendingProps;switch(Th(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Di(Ee),ne(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ra(n)?Vi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ah())),te(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(Vi(n),f!==null?(te(n),_p(n,f)):(te(n),mf(n,c,null,o,s))):f?f!==e.memoizedState?(Vi(n),te(n),_p(n,f)):(te(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Vi(n),te(n),mf(n,c,e,o,s)),null;case 27:if(zr(n),s=Tt.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Vi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return te(n),null}e=et.current,ra(n)?Jm(n):(e=Ry(c,o,s),n.stateNode=e,Vi(n))}return te(n),null;case 5:if(zr(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Vi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return te(n),null}if(f=et.current,ra(n))Jm(n);else{var g=Xu(Tt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(c,{is:o.is}):g.createElement(c)}}f[ye]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(je(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Vi(n)}}return te(n),mf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Vi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=Tt.current,ra(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,c=ke,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[ye]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||my(e.nodeValue,s)),e||ls(n,!0)}else e=Xu(e).createTextNode(o),e[ye]=n,n.stateNode=e}return te(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ra(n),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ye]=n}else _r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),e=!1}else s=Ah(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return te(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ra(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ye]=n}else _r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else c=Ah(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),xu(n,n.updateQueue),te(n),null);case 4:return ne(),e===null&&Lf(n.stateNode.containerInfo),te(n),null;case 10:return Di(n.type),te(n),null;case 19:if(Q(he),o=n.memoizedState,o===null)return te(n),null;if(c=(n.flags&128)!==0,f=o.rendering,f===null)if(c)Po(o,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Tu(e),f!==null){for(n.flags|=128,Po(o,!1),e=f.updateQueue,n.updateQueue=e,xu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Qm(s,e),s=s.sibling;return $(he,he.current&1|2),Ot&&Ci(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ze()>Pu&&(n.flags|=128,c=!0,Po(o,!1),n.lanes=4194304)}else{if(!c)if(e=Tu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,xu(n,e),Po(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ot)return te(n),null}else 2*Ze()-o.renderingStartTime>Pu&&s!==536870912&&(n.flags|=128,c=!0,Po(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ze(),e.sibling=null,s=he.current,$(he,c?s&1|2:s&1),Ot&&Ci(n,o.treeForkCount),e):(te(n),null);case 22:case 23:return gn(n),Lh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),s=n.updateQueue,s!==null&&xu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Q(Tr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Di(Ee),te(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function mT(e,n){switch(Th(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Di(Ee),ne(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return zr(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(r(340));_r()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));_r()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(he),null;case 4:return ne(),null;case 10:return Di(n.type),null;case 22:case 23:return gn(n),Lh(),e!==null&&Q(Tr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Di(Ee),null;case 25:return null;default:return null}}function vp(e,n){switch(Th(n),n.tag){case 3:Di(Ee),ne();break;case 26:case 27:case 5:zr(n);break;case 4:ne();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:Q(he);break;case 10:Di(n.type);break;case 22:case 23:gn(n),Lh(),e!==null&&Q(Tr);break;case 24:Di(Ee)}}function Bo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==c)}}catch(E){Qt(n,n.return,E)}}function gs(e,n,s){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var C=s,k=E;try{k()}catch(q){Qt(c,C,q)}}}o=o.next}while(o!==f)}}catch(q){Qt(n,n.return,q)}}function Ep(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{cg(n,s)}catch(o){Qt(e,e.return,o)}}}function Tp(e,n,s){s.props=wr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Qt(e,n,o)}}function jo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(c){Qt(e,n,c)}}function fi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){Qt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Qt(e,n,c)}else s.current=null}function Sp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){Qt(e,e.return,c)}}function gf(e,n,s){try{var o=e.stateNode;LT(o,e.type,s,n),o[Me]=n}catch(c){Qt(e,e.return,c)}}function Ap(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ss(e.type)||e.tag===4}function pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ap(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ss(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ln));else if(o!==4&&(o===27&&Ss(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(yf(e,n,s),e=e.sibling;e!==null;)yf(e,n,s),e=e.sibling}function Uu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ss(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Uu(e,n,s),e=e.sibling;e!==null;)Uu(e,n,s),e=e.sibling}function bp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);je(n,o,s),n[ye]=e,n[Me]=s}catch(f){Qt(e,e.return,f)}}var xi=!1,Ae=!1,_f=!1,Rp=typeof WeakSet=="function"?WeakSet:Set,xe=null;function gT(e,n){if(e=e.containerInfo,Pf=nc,e=zm(e),ch(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,k=0,q=0,F=e,P=null;e:for(;;){for(var j;F!==s||c!==0&&F.nodeType!==3||(E=g+c),F!==f||o!==0&&F.nodeType!==3||(C=g+o),F.nodeType===3&&(g+=F.nodeValue.length),(j=F.firstChild)!==null;)P=F,F=j;for(;;){if(F===e)break e;if(P===s&&++k===c&&(E=g),P===f&&++q===o&&(C=g),(j=F.nextSibling)!==null)break;F=P,P=F.parentNode}F=j}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Bf={focusedElem:e,selectionRange:s},nc=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){switch(n=xe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var it=wr(s.type,c);e=o.getSnapshotBeforeUpdate(it,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){Qt(s,s.return,ht)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Hf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}}function wp(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Li(e,s),o&4&&Bo(5,s);break;case 1:if(Li(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(s,s.return,g)}else{var c=wr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(s,s.return,g)}}o&64&&Ep(s),o&512&&jo(s,s.return);break;case 3:if(Li(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{cg(e,n)}catch(g){Qt(s,s.return,g)}}break;case 27:n===null&&o&4&&bp(s);case 26:case 5:Li(e,s),n===null&&o&4&&Sp(s),o&512&&jo(s,s.return);break;case 12:Li(e,s);break;case 31:Li(e,s),o&4&&Dp(e,s);break;case 13:Li(e,s),o&4&&Np(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=bT.bind(null,s),GT(e,s))));break;case 22:if(o=s.memoizedState!==null||xi,!o){n=n!==null&&n.memoizedState!==null||Ae,c=xi;var f=Ae;xi=o,(Ae=n)&&!f?zi(e,s,(s.subtreeFlags&8772)!==0):Li(e,s),xi=c,Ae=f}break;case 30:break;default:Li(e,s)}}function Cp(e){var n=e.alternate;n!==null&&(e.alternate=null,Cp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&qr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,sn=!1;function Ui(e,n,s){for(s=s.child;s!==null;)Ip(e,n,s),s=s.sibling}function Ip(e,n,s){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Mn,s)}catch{}switch(s.tag){case 26:Ae||fi(s,n),Ui(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ae||fi(s,n);var o=se,c=sn;Ss(s.type)&&(se=s.stateNode,sn=!1),Ui(e,n,s),Zo(s.stateNode),se=o,sn=c;break;case 5:Ae||fi(s,n);case 6:if(o=se,c=sn,se=null,Ui(e,n,s),se=o,sn=c,se!==null)if(sn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{se.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:se!==null&&(sn?(e=se,Ey(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),wa(e)):Ey(se,s.stateNode));break;case 4:o=se,c=sn,se=s.stateNode.containerInfo,sn=!0,Ui(e,n,s),se=o,sn=c;break;case 0:case 11:case 14:case 15:gs(2,s,n),Ae||gs(4,s,n),Ui(e,n,s);break;case 1:Ae||(fi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Tp(s,n,o)),Ui(e,n,s);break;case 21:Ui(e,n,s);break;case 22:Ae=(o=Ae)||s.memoizedState!==null,Ui(e,n,s),Ae=o;break;default:Ui(e,n,s)}}function Dp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wa(e)}catch(s){Qt(n,n.return,s)}}}function Np(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wa(e)}catch(s){Qt(n,n.return,s)}}function pT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Rp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Rp),n;default:throw Error(r(435,e.tag))}}function Lu(e,n){var s=pT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var c=RT.bind(null,e,o);o.then(c,c)}})}function rn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ss(E.type)){se=E.stateNode,sn=!1;break t}break;case 5:se=E.stateNode,sn=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(se===null)throw Error(r(160));Ip(f,g,c),se=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Op(n,e),n=n.sibling}var qn=null;function Op(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(n,e),an(e),o&4&&(gs(3,e,e.return),Bo(3,e),gs(5,e,e.return));break;case 1:rn(n,e),an(e),o&512&&(Ae||s===null||fi(s,s.return)),o&64&&xi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=qn;if(rn(n,e),an(e),o&512&&(Ae||s===null||fi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[$n]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),je(f,o,s),f[ye]=e,_e(f),o=f;break t;case"link":var g=Oy("link","href",c).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(o),je(f,o,s),c.head.appendChild(f);break;case"meta":if(g=Oy("meta","content",c).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(o),je(f,o,s),c.head.appendChild(f);break;default:throw Error(r(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else My(c,e.type,e.stateNode);else e.stateNode=Ny(c,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?My(c,e.type,e.stateNode):Ny(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&gf(e,e.memoizedProps,s.memoizedProps)}break;case 27:rn(n,e),an(e),o&512&&(Ae||s===null||fi(s,s.return)),s!==null&&o&4&&gf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(rn(n,e),an(e),o&512&&(Ae||s===null||fi(s,s.return)),e.flags&32){c=e.stateNode;try{nn(c,"")}catch(it){Qt(e,e.return,it)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,gf(e,c,s!==null?s.memoizedProps:c)),o&1024&&(_f=!0);break;case 6:if(rn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(it){Qt(e,e.return,it)}}break;case 3:if($u=null,c=qn,qn=Zu(n.containerInfo),rn(n,e),qn=c,an(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{wa(n.containerInfo)}catch(it){Qt(e,e.return,it)}_f&&(_f=!1,Mp(e));break;case 4:o=qn,qn=Zu(e.stateNode.containerInfo),rn(n,e),an(e),qn=o;break;case 12:rn(n,e),an(e);break;case 31:rn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Lu(e,o)));break;case 13:rn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ku=Ze()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Lu(e,o)));break;case 22:c=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,k=xi,q=Ae;if(xi=k||c,Ae=q||C,rn(n,e),Ae=q,xi=k,an(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||C||xi||Ae||Cr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var F=C.memoizedProps.style,P=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(it){Qt(C,C.return,it)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(it){Qt(C,C.return,it)}}}else if(n.tag===18){if(s===null){C=n;try{var j=C.stateNode;c?Ty(j,!0):Ty(C.stateNode,!1)}catch(it){Qt(C,C.return,it)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Lu(e,s))));break;case 19:rn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Lu(e,o)));break;case 30:break;case 21:break;default:rn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Ap(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=pf(e);Uu(e,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(nn(g,""),s.flags&=-33);var E=pf(e);Uu(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,k=pf(e);yf(e,k,C);break;default:throw Error(r(161))}}catch(q){Qt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Mp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Mp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Li(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)wp(e,n.alternate,n),n=n.sibling}function Cr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:gs(4,n,n.return),Cr(n);break;case 1:fi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Tp(n,n.return,s),Cr(n);break;case 27:Zo(n.stateNode);case 26:case 5:fi(n,n.return),Cr(n);break;case 22:n.memoizedState===null&&Cr(n);break;case 30:Cr(n);break;default:Cr(n)}e=e.sibling}}function zi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:zi(c,f,s),Bo(4,f);break;case 1:if(zi(c,f,s),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Qt(o,o.return,k)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)ug(C[c],E)}catch(k){Qt(o,o.return,k)}}s&&g&64&&Ep(f),jo(f,f.return);break;case 27:bp(f);case 26:case 5:zi(c,f,s),s&&o===null&&g&4&&Sp(f),jo(f,f.return);break;case 12:zi(c,f,s);break;case 31:zi(c,f,s),s&&g&4&&Dp(c,f);break;case 13:zi(c,f,s),s&&g&4&&Np(c,f);break;case 22:f.memoizedState===null&&zi(c,f,s),jo(f,f.return);break;case 30:break;default:zi(c,f,s)}n=n.sibling}}function vf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Co(s))}function Ef(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Co(e))}function Hn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vp(e,n,s,o),n=n.sibling}function Vp(e,n,s,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Hn(e,n,s,o),c&2048&&Bo(9,n);break;case 1:Hn(e,n,s,o);break;case 3:Hn(e,n,s,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Co(e)));break;case 12:if(c&2048){Hn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Qt(n,n.return,C)}}else Hn(e,n,s,o);break;case 31:Hn(e,n,s,o);break;case 13:Hn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Hn(e,n,s,o):qo(e,n):f._visibility&2?Hn(e,n,s,o):(f._visibility|=2,ga(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),c&2048&&vf(g,n);break;case 24:Hn(e,n,s,o),c&2048&&Ef(n.alternate,n);break;default:Hn(e,n,s,o)}}function ga(e,n,s,o,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=o,k=g.flags;switch(g.tag){case 0:case 11:case 15:ga(f,g,E,C,c),Bo(8,g);break;case 23:break;case 22:var q=g.stateNode;g.memoizedState!==null?q._visibility&2?ga(f,g,E,C,c):qo(f,g):(q._visibility|=2,ga(f,g,E,C,c)),c&&k&2048&&vf(g.alternate,g);break;case 24:ga(f,g,E,C,c),c&&k&2048&&Ef(g.alternate,g);break;default:ga(f,g,E,C,c)}n=n.sibling}}function qo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,c=o.flags;switch(o.tag){case 22:qo(s,o),c&2048&&vf(o.alternate,o);break;case 24:qo(s,o),c&2048&&Ef(o.alternate,o);break;default:qo(s,o)}n=n.sibling}}var Ho=8192;function pa(e,n,s){if(e.subtreeFlags&Ho)for(e=e.child;e!==null;)xp(e,n,s),e=e.sibling}function xp(e,n,s){switch(e.tag){case 26:pa(e,n,s),e.flags&Ho&&e.memoizedState!==null&&nS(s,qn,e.memoizedState,e.memoizedProps);break;case 5:pa(e,n,s);break;case 3:case 4:var o=qn;qn=Zu(e.stateNode.containerInfo),pa(e,n,s),qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Ho,Ho=16777216,pa(e,n,s),Ho=o):pa(e,n,s));break;default:pa(e,n,s)}}function Up(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Go(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];xe=o,zp(o,e)}Up(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lp(e),e=e.sibling}function Lp(e){switch(e.tag){case 0:case 11:case 15:Go(e),e.flags&2048&&gs(9,e,e.return);break;case 3:Go(e);break;case 12:Go(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,zu(e)):Go(e);break;default:Go(e)}}function zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];xe=o,zp(o,e)}Up(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:gs(8,n,n.return),zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,zu(n));break;default:zu(n)}e=e.sibling}}function zp(e,n){for(;xe!==null;){var s=xe;switch(s.tag){case 0:case 11:case 15:gs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Co(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,xe=o;else t:for(s=e;xe!==null;){o=xe;var c=o.sibling,f=o.return;if(Cp(o),o===s){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}var yT={getCacheForType:function(e){var n=Pe(Ee),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Pe(Ee).controller.signal}},_T=typeof WeakMap=="function"?WeakMap:Map,qt=0,$t=null,bt=null,wt=0,Ft=0,pn=null,ps=!1,ya=!1,Tf=!1,ki=0,le=0,ys=0,Ir=0,Sf=0,yn=0,_a=0,Fo=null,on=null,Af=!1,ku=0,kp=0,Pu=1/0,Bu=null,_s=null,De=0,vs=null,va=null,Pi=0,bf=0,Rf=null,Pp=null,Qo=0,wf=null;function _n(){return(qt&2)!==0&&wt!==0?wt&-wt:H.T!==null?Mf():jl()}function Bp(){if(yn===0)if((wt&536870912)===0||Ot){var e=er;er<<=1,(er&3932160)===0&&(er=262144),yn=e}else yn=536870912;return e=mn.current,e!==null&&(e.flags|=32),yn}function ln(e,n,s){(e===$t&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ea(e,0),Es(e,wt,yn,!1)),nr(e,s),((qt&2)===0||e!==$t)&&(e===$t&&((qt&2)===0&&(Ir|=s),le===4&&Es(e,wt,yn,!1)),di(e))}function jp(e,n,s){if((qt&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Vn(e,n),c=o?TT(e,n):If(e,n,!0),f=o;do{if(c===0){ya&&!o&&Es(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!vT(s)){c=If(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;c=Fo;var C=E.current.memoizedState.isDehydrated;if(C&&(Ea(E,g).flags|=256),g=If(E,g,!1),g!==2){if(Tf&&!C){E.errorRecoveryDisabledLanes|=f,Ir|=f,c=4;break t}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){Ea(e,0),Es(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Es(o,n,yn,!ps);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=ku+300-Ze(),10<c)){if(Es(o,n,yn,!ps),Xn(o,0,!0)!==0)break t;Pi=n,o.timeoutHandle=_y(qp.bind(null,o,s,on,Bu,Af,n,yn,Ir,_a,ps,f,"Throttled",-0,0),c);break t}qp(o,s,on,Bu,Af,n,yn,Ir,_a,ps,f,null,-0,0)}}break}while(!0);di(e)}function qp(e,n,s,o,c,f,g,E,C,k,q,F,P,j){if(e.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},xp(n,f,F);var it=(f&62914560)===f?ku-Ze():(f&4194048)===f?kp-Ze():0;if(it=iS(F,it),it!==null){Pi=f,e.cancelPendingCommit=it(Zp.bind(null,e,n,f,s,o,c,g,E,C,q,F,null,P,j)),Es(e,f,g,!k);return}}Zp(e,n,f,s,o,c,g,E,C)}function vT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Es(e,n,s,o){n&=~Sf,n&=~Ir,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-ue(c),g=1<<f;o[f]=-1,c&=~g}s!==0&&ir(e,s,n)}function ju(){return(qt&6)===0?(Yo(0),!1):!0}function Cf(){if(bt!==null){if(Ft===0)var e=bt.return;else e=bt,Ii=vr=null,qh(e),ca=null,Do=0,e=bt;for(;e!==null;)vp(e.alternate,e),e=e.return;bt=null}}function Ea(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,PT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Pi=0,Cf(),$t=e,bt=s=wi(e.current,null),wt=n,Ft=0,pn=null,ps=!1,ya=Vn(e,n),Tf=!1,_a=yn=Sf=Ir=ys=le=0,on=Fo=null,Af=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-ue(o),f=1<<c;n|=e[c],o&=~f}return ki=n,lu(),s}function Hp(e,n){Et=null,H.H=zo,n===ua||n===pu?(n=rg(),Ft=3):n===Nh?(n=rg(),Ft=4):Ft=n===rf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,bt===null&&(le=1,Nu(e,Rn(n,e.current)))}function Gp(){var e=mn.current;return e===null?!0:(wt&4194048)===wt?Dn===null:(wt&62914560)===wt||(wt&536870912)!==0?e===Dn:!1}function Fp(){var e=H.H;return H.H=zo,e===null?zo:e}function Qp(){var e=H.A;return H.A=yT,e}function qu(){le=4,ps||(wt&4194048)!==wt&&mn.current!==null||(ya=!0),(ys&134217727)===0&&(Ir&134217727)===0||$t===null||Es($t,wt,yn,!1)}function If(e,n,s){var o=qt;qt|=2;var c=Fp(),f=Qp();($t!==e||wt!==n)&&(Bu=null,Ea(e,n)),n=!1;var g=le;t:do try{if(Ft!==0&&bt!==null){var E=bt,C=pn;switch(Ft){case 8:Cf(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var k=Ft;if(Ft=0,pn=null,Ta(e,E,C,k),s&&ya){g=0;break t}break;default:k=Ft,Ft=0,pn=null,Ta(e,E,C,k)}}ET(),g=le;break}catch(q){Hp(e,q)}while(!0);return n&&e.shellSuspendCounter++,Ii=vr=null,qt=o,H.H=c,H.A=f,bt===null&&($t=null,wt=0,lu()),g}function ET(){for(;bt!==null;)Yp(bt)}function TT(e,n){var s=qt;qt|=2;var o=Fp(),c=Qp();$t!==e||wt!==n?(Bu=null,Pu=Ze()+500,Ea(e,n)):ya=Vn(e,n);t:do try{if(Ft!==0&&bt!==null){n=bt;var f=pn;e:switch(Ft){case 1:Ft=0,pn=null,Ta(e,n,f,1);break;case 2:case 9:if(ig(f)){Ft=0,pn=null,Kp(n);break}n=function(){Ft!==2&&Ft!==9||$t!==e||(Ft=7),di(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:ig(f)?(Ft=0,pn=null,Kp(n)):(Ft=0,pn=null,Ta(e,n,f,7));break;case 5:var g=null;switch(bt.tag){case 26:g=bt.memoizedState;case 5:case 27:var E=bt;if(g?Vy(g):E.stateNode.complete){Ft=0,pn=null;var C=E.sibling;if(C!==null)bt=C;else{var k=E.return;k!==null?(bt=k,Hu(k)):bt=null}break e}}Ft=0,pn=null,Ta(e,n,f,5);break;case 6:Ft=0,pn=null,Ta(e,n,f,6);break;case 8:Cf(),le=6;break t;default:throw Error(r(462))}}ST();break}catch(q){Hp(e,q)}while(!0);return Ii=vr=null,H.H=o,H.A=c,qt=s,bt!==null?0:($t=null,wt=0,lu(),le)}function ST(){for(;bt!==null&&!ih();)Yp(bt)}function Yp(e){var n=yp(e.alternate,e,ki);e.memoizedProps=e.pendingProps,n===null?Hu(e):bt=n}function Kp(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=hp(s,n,n.pendingProps,n.type,void 0,wt);break;case 11:n=hp(s,n,n.pendingProps,n.type.render,n.ref,wt);break;case 5:qh(n);default:vp(s,n),n=bt=Qm(n,ki),n=yp(s,n,ki)}e.memoizedProps=e.pendingProps,n===null?Hu(e):bt=n}function Ta(e,n,s,o){Ii=vr=null,qh(n),ca=null,Do=0;var c=n.return;try{if(cT(e,c,n,s,wt)){le=1,Nu(e,Rn(s,e.current)),bt=null;return}}catch(f){if(c!==null)throw bt=c,f;le=1,Nu(e,Rn(s,e.current)),bt=null;return}n.flags&32768?(Ot||o===1?e=!0:ya||(wt&536870912)!==0?e=!1:(ps=e=!0,(o===2||o===9||o===3||o===6)&&(o=mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Xp(n,e)):Hu(n)}function Hu(e){var n=e;do{if((n.flags&32768)!==0){Xp(n,ps);return}e=n.return;var s=dT(n.alternate,n,ki);if(s!==null){bt=s;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=e}while(n!==null);le===0&&(le=5)}function Xp(e,n){do{var s=mT(e.alternate,e);if(s!==null){s.flags&=32767,bt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){bt=e;return}bt=e=s}while(e!==null);le=6,bt=null}function Zp(e,n,s,o,c,f,g,E,C){e.cancelPendingCommit=null;do Gu();while(De!==0);if((qt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=gh,ah(e,s,f,g,E,C),e===$t&&(bt=$t=null,wt=0),va=n,vs=e,Pi=s,bf=f,Rf=c,Pp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wT(Zi,function(){return ey(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,c=J.p,J.p=2,g=qt,qt|=4;try{gT(e,n,s)}finally{qt=g,J.p=c,H.T=o}}De=1,Jp(),$p(),Wp()}}function Jp(){if(De===1){De=0;var e=vs,n=va,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=J.p;J.p=2;var c=qt;qt|=4;try{Op(n,e);var f=Bf,g=zm(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Lm(E.ownerDocument.documentElement,E)){if(C!==null&&ch(E)){var k=C.start,q=C.end;if(q===void 0&&(q=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(q,E.value.length);else{var F=E.ownerDocument||document,P=F&&F.defaultView||window;if(P.getSelection){var j=P.getSelection(),it=E.textContent.length,ht=Math.min(C.start,it),Jt=C.end===void 0?ht:Math.min(C.end,it);!j.extend&&ht>Jt&&(g=Jt,Jt=ht,ht=g);var x=Um(E,ht),O=Um(E,Jt);if(x&&O&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var z=F.createRange();z.setStart(x.node,x.offset),j.removeAllRanges(),ht>Jt?(j.addRange(z),j.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),j.addRange(z))}}}}for(F=[],j=E;j=j.parentNode;)j.nodeType===1&&F.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}nc=!!Pf,Bf=Pf=null}finally{qt=c,J.p=o,H.T=s}}e.current=n,De=2}}function $p(){if(De===2){De=0;var e=vs,n=va,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=J.p;J.p=2;var c=qt;qt|=4;try{wp(e,n.alternate,n)}finally{qt=c,J.p=o,H.T=s}}De=3}}function Wp(){if(De===4||De===3){De=0,xl();var e=vs,n=va,s=Pi,o=Pp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,va=vs=null,ty(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(_s=null),Si(s),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,c=J.p,J.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,J.p=c}}(Pi&3)!==0&&Gu(),di(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===wf?Qo++:(Qo=0,wf=e):Qo=0,Yo(0)}}function ty(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Co(n)))}function Gu(){return Jp(),$p(),Wp(),ey()}function ey(){if(De!==5)return!1;var e=vs,n=bf;bf=0;var s=Si(Pi),o=H.T,c=J.p;try{J.p=32>s?32:s,H.T=null,s=Rf,Rf=null;var f=vs,g=Pi;if(De=0,va=vs=null,Pi=0,(qt&6)!==0)throw Error(r(331));var E=qt;if(qt|=4,Lp(f.current),Vp(f,f.current,g,s),qt=E,Yo(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{J.p=c,H.T=o,ty(e,n)}}function ny(e,n,s){n=Rn(s,n),n=sf(e.stateNode,n,2),e=fs(e,n,2),e!==null&&(nr(e,2),di(e))}function Qt(e,n,s){if(e.tag===3)ny(e,e,s);else for(;n!==null;){if(n.tag===3){ny(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(_s===null||!_s.has(o))){e=Rn(s,e),s=ip(2),o=fs(n,s,2),o!==null&&(sp(s,o,n,e),nr(o,2),di(o));break}}n=n.return}}function Df(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new _T;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(s)||(Tf=!0,c.add(s),e=AT.bind(null,e,n,s),n.then(e,e))}function AT(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,$t===e&&(wt&s)===s&&(le===4||le===3&&(wt&62914560)===wt&&300>Ze()-ku?(qt&2)===0&&Ea(e,0):Sf|=s,_a===wt&&(_a=0)),di(e)}function iy(e,n){n===0&&(n=Bl()),e=pr(e,n),e!==null&&(nr(e,n),di(e))}function bT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),iy(e,s)}function RT(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),iy(e,s)}function wT(e,n){return Ie(e,n)}var Fu=null,Sa=null,Nf=!1,Qu=!1,Of=!1,Ts=0;function di(e){e!==Sa&&e.next===null&&(Sa===null?Fu=Sa=e:Sa=Sa.next=e),Qu=!0,Nf||(Nf=!0,IT())}function Yo(e,n){if(!Of&&Qu){Of=!0;do for(var s=!1,o=Fu;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ue(42|e)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,oy(o,f))}else f=wt,f=Xn(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Vn(o,f)||(s=!0,oy(o,f));o=o.next}while(s);Of=!1}}function CT(){sy()}function sy(){Qu=Nf=!1;var e=0;Ts!==0&&kT()&&(e=Ts);for(var n=Ze(),s=null,o=Fu;o!==null;){var c=o.next,f=ry(o,n);f===0?(o.next=null,s===null?Fu=c:s.next=c,c===null&&(Sa=s)):(s=o,(e!==0||(f&3)!==0)&&(Qu=!0)),o=c}De!==0&&De!==5||Yo(e),Ts!==0&&(Ts=0)}function ry(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ue(f),E=1<<g,C=c[g];C===-1?((E&s)===0||(E&o)!==0)&&(c[g]=rh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,s=wt,s=Xn(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Xi(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Vn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Xi(o),Si(s)){case 2:case 8:s=no;break;case 32:s=Zi;break;case 268435456:s=Ul;break;default:s=Zi}return o=ay.bind(null,e),s=Ie(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Xi(o),e.callbackPriority=2,e.callbackNode=null,2}function ay(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Gu()&&e.callbackNode!==s)return null;var o=wt;return o=Xn(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(jp(e,o,n),ry(e,Ze()),e.callbackNode!=null&&e.callbackNode===s?ay.bind(null,e):null)}function oy(e,n){if(Gu())return null;jp(e,n,!0)}function IT(){BT(function(){(qt&6)!==0?Ie(eo,CT):sy()})}function Mf(){if(Ts===0){var e=oa;e===0&&(e=Yn,Yn<<=1,(Yn&261888)===0&&(Yn=256)),Ts=e}return Ts}function ly(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qr(""+e)}function uy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function DT(e,n,s,o,c){if(n==="submit"&&s&&s.stateNode===c){var f=ly((c[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?ly(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ai("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ts!==0){var C=g?uy(c,g):new FormData(c);Jh(s,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?uy(c,g):new FormData(c),Jh(s,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var Vf=0;Vf<mh.length;Vf++){var xf=mh[Vf],NT=xf.toLowerCase(),OT=xf[0].toUpperCase()+xf.slice(1);jn(NT,"on"+OT)}jn(Bm,"onAnimationEnd"),jn(jm,"onAnimationIteration"),jn(qm,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(Y0,"onTransitionRun"),jn(K0,"onTransitionStart"),jn(X0,"onTransitionCancel"),jn(Hm,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ko));function cy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,k=E.currentTarget;if(E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(q){ou(q)}c.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,k=E.currentTarget,E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(q){ou(q)}c.currentTarget=null,f=C}}}}function Rt(e,n){var s=n[jr];s===void 0&&(s=n[jr]=new Set);var o=e+"__bubble";s.has(o)||(hy(n,e,2,!1),s.add(o))}function Uf(e,n,s){var o=0;n&&(o|=4),hy(s,e,o,n)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function Lf(e){if(!e[Yu]){e[Yu]=!0,ro.forEach(function(s){s!=="selectionchange"&&(MT.has(s)||Uf(s,!1,e),Uf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Yu]||(n[Yu]=!0,Uf("selectionchange",!1,n))}}function hy(e,n,s,o){switch(By(n)){case 2:var c=aS;break;case 8:c=oS;break;default:c=Jf}s=c.bind(null,n,s,e),c=void 0,!lr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function zf(e,n,s,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=Wn(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ns(function(){var k=f,q=Tn(s),F=[];t:{var P=Gm.get(e);if(P!==void 0){var j=ai,it=e;switch(e){case"keypress":if(cr(s)===0)break t;case"keydown":case"keyup":j=su;break;case"focusin":it="focus",j=fr;break;case"focusout":it="blur",j=fr;break;case"beforeblur":case"afterblur":j=fr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Xl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case Bm:case jm:case qm:j=Jl;break;case Hm:j=T;break;case"scroll":case"scrollend":j=_o;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=$l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ri;break;case"toggle":case"beforetoggle":j=vt}var ht=(n&4)!==0,Jt=!ht&&(e==="scroll"||e==="scrollend"),x=ht?P!==null?P+"Capture":null:P;ht=[];for(var O=k,z;O!==null;){var G=O;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||x===null||(G=zn(O,x),G!=null&&ht.push(Xo(O,G,z))),Jt)break;O=O.return}0<ht.length&&(P=new j(P,it,null,s,q),F.push({event:P,listeners:ht}))}}if((n&7)===0){t:{if(P=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",P&&s!==go&&(it=s.relatedTarget||s.fromElement)&&(Wn(it)||it[Jn]))break t;if((j||P)&&(P=q.window===q?q:(P=q.ownerDocument)?P.defaultView||P.parentWindow:window,j?(it=s.relatedTarget||s.toElement,j=k,it=it?Wn(it):null,it!==null&&(Jt=h(it),ht=it.tag,it!==Jt||ht!==5&&ht!==27&&ht!==6)&&(it=null)):(j=null,it=k),j!==it)){if(ht=vo,G="onMouseLeave",x="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ht=Ri,G="onPointerLeave",x="onPointerEnter",O="pointer"),Jt=j==null?P:cn(j),z=it==null?P:cn(it),P=new ht(G,O+"leave",j,s,q),P.target=Jt,P.relatedTarget=z,G=null,Wn(q)===k&&(ht=new ht(x,O+"enter",it,s,q),ht.target=z,ht.relatedTarget=Jt,G=ht),Jt=G,j&&it)e:{for(ht=VT,x=j,O=it,z=0,G=x;G;G=ht(G))z++;G=0;for(var lt=O;lt;lt=ht(lt))G++;for(;0<z-G;)x=ht(x),z--;for(;0<G-z;)O=ht(O),G--;for(;z--;){if(x===O||O!==null&&x===O.alternate){ht=x;break e}x=ht(x),O=ht(O)}ht=null}else ht=null;j!==null&&fy(F,P,j,ht,!1),it!==null&&Jt!==null&&fy(F,Jt,it,ht,!0)}}t:{if(P=k?cn(k):window,j=P.nodeName&&P.nodeName.toLowerCase(),j==="select"||j==="input"&&P.type==="file")var kt=Dm;else if(Cm(P))if(Nm)kt=G0;else{kt=q0;var at=j0}else j=P.nodeName,!j||j.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?k&&Fr(k.elementType)&&(kt=Dm):kt=H0;if(kt&&(kt=kt(e,k))){Im(F,kt,s,q);break t}at&&at(e,P,k),e==="focusout"&&k&&P.type==="number"&&k.memoizedProps.value!=null&&ho(P,"number",P.value)}switch(at=k?cn(k):window,e){case"focusin":(Cm(at)||at.contentEditable==="true")&&(Wr=at,hh=k,bo=null);break;case"focusout":bo=hh=Wr=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,km(F,s,q);break;case"selectionchange":if(Q0)break;case"keydown":case"keyup":km(F,s,q)}var St;if(jt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else $r?dr(e,s)&&(Ct="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ct="onCompositionStart");Ct&&(ui&&s.locale!=="ko"&&($r||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&$r&&(St=yo()):(ri=q,po="value"in ri?ri.value:ri.textContent,$r=!0)),at=Ku(k,Ct),0<at.length&&(Ct=new li(Ct,e,null,s,q),F.push({event:Ct,listeners:at}),St?Ct.data=St:(St=Jr(s),St!==null&&(Ct.data=St)))),(St=An?z0(e,s):k0(e,s))&&(Ct=Ku(k,"onBeforeInput"),0<Ct.length&&(at=new li("onBeforeInput","beforeinput",null,s,q),F.push({event:at,listeners:Ct}),at.data=St)),DT(F,e,k,s,q)}cy(F,n)})}function Xo(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ku(e,n){for(var s=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=zn(e,s),c!=null&&o.unshift(Xo(e,c,f)),c=zn(e,n),c!=null&&o.push(Xo(e,c,f))),e.tag===3)return o;e=e.return}return[]}function VT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fy(e,n,s,o,c){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,C=E.alternate,k=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||k===null||(C=k,c?(k=zn(s,f),k!=null&&g.unshift(Xo(s,k,C))):c||(k=zn(s,f),k!=null&&g.push(Xo(s,k,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var xT=/\r\n?/g,UT=/\u0000|\uFFFD/g;function dy(e){return(typeof e=="string"?e:""+e).replace(xT,`
`).replace(UT,"")}function my(e,n){return n=dy(n),dy(e)===n}function Zt(e,n,s,o,c,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":hn(e,"class",o);break;case"tabIndex":hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,s,o);break;case"style":mo(e,o,f);break;case"data":if(n!=="object"){hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Qr(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Zt(e,n,"name",c.name,c,null),Zt(e,n,"formEncType",c.formEncType,c,null),Zt(e,n,"formMethod",c.formMethod,c,null),Zt(e,n,"formTarget",c.formTarget,c,null)):(Zt(e,n,"encType",c.encType,c,null),Zt(e,n,"method",c.method,c,null),Zt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Qr(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Ln);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Qr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),Hr(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Hr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Kl.get(s)||s,Hr(e,s,o))}}function kf(e,n,s,o,c,f){switch(s){case"style":mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ao.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[Me]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,c);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Hr(e,s,o)}}}function je(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,f,g,s,null)}}c&&Zt(e,n,"srcSet",s.srcSet,s,null),o&&Zt(e,n,"src",s.src,s,null);return;case"input":Rt("invalid",e);var E=f=g=c=null,C=null,k=null;for(o in s)if(s.hasOwnProperty(o)){var q=s[o];if(q!=null)switch(o){case"name":c=q;break;case"type":g=q;break;case"checked":C=q;break;case"defaultChecked":k=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:Zt(e,n,o,q,s,null)}}Fl(e,f,E,C,k,g,c,!1);return;case"select":Rt("invalid",e),o=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Zt(e,n,c,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?$i(e,!!o,n,!1):s!=null&&$i(e,!!o,s,!0);return;case"textarea":Rt("invalid",e),f=c=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Zt(e,n,g,E,s,null)}Wi(e,o,c,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,n,C,o,s,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<Ko.length;o++)Rt(Ko[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in s)if(s.hasOwnProperty(k)&&(o=s[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,k,o,s,null)}return;default:if(Fr(n)){for(q in s)s.hasOwnProperty(q)&&(o=s[q],o!==void 0&&kf(e,n,q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Zt(e,n,E,o,s,null))}function LT(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,C=null,k=null,q=null;for(j in s){var F=s[j];if(s.hasOwnProperty(j)&&F!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":C=F;default:o.hasOwnProperty(j)||Zt(e,n,j,null,o,F)}}for(var P in o){var j=o[P];if(F=s[P],o.hasOwnProperty(P)&&(j!=null||F!=null))switch(P){case"type":f=j;break;case"name":c=j;break;case"checked":k=j;break;case"defaultChecked":q=j;break;case"value":g=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:j!==F&&Zt(e,n,P,j,o,F)}}Gr(e,g,E,C,k,q,f,c);return;case"select":j=g=E=P=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":j=C;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,C)}for(c in o)if(f=o[c],C=s[c],o.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&Zt(e,n,c,f,o,C)}n=E,s=g,o=j,P!=null?$i(e,!!s,P,!1):!!o!=!!s&&(n!=null?$i(e,!!s,n,!0):$i(e,!!s,s?[]:"",!1));return;case"textarea":j=P=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,c)}for(g in o)if(c=o[g],f=s[g],o.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":P=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Zt(e,n,g,c,o,f)}Ql(e,P,j);return;case"option":for(var it in s)if(P=s[it],s.hasOwnProperty(it)&&P!=null&&!o.hasOwnProperty(it))switch(it){case"selected":e.selected=!1;break;default:Zt(e,n,it,null,o,P)}for(C in o)if(P=o[C],j=s[C],o.hasOwnProperty(C)&&P!==j&&(P!=null||j!=null))switch(C){case"selected":e.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Zt(e,n,C,P,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in s)P=s[ht],s.hasOwnProperty(ht)&&P!=null&&!o.hasOwnProperty(ht)&&Zt(e,n,ht,null,o,P);for(k in o)if(P=o[k],j=s[k],o.hasOwnProperty(k)&&P!==j&&(P!=null||j!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:Zt(e,n,k,P,o,j)}return;default:if(Fr(n)){for(var Jt in s)P=s[Jt],s.hasOwnProperty(Jt)&&P!==void 0&&!o.hasOwnProperty(Jt)&&kf(e,n,Jt,void 0,o,P);for(q in o)P=o[q],j=s[q],!o.hasOwnProperty(q)||P===j||P===void 0&&j===void 0||kf(e,n,q,P,o,j);return}}for(var x in s)P=s[x],s.hasOwnProperty(x)&&P!=null&&!o.hasOwnProperty(x)&&Zt(e,n,x,null,o,P);for(F in o)P=o[F],j=s[F],!o.hasOwnProperty(F)||P===j||P==null&&j==null||Zt(e,n,F,P,o,j)}function gy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var c=s[o],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&gy(g)){for(g=0,E=c.responseEnd,o+=1;o<s.length;o++){var C=s[o],k=C.startTime;if(k>E)break;var q=C.transferSize,F=C.initiatorType;q&&gy(F)&&(C=C.responseEnd,g+=q*(C<E?1:(E-k)/(C-k)))}if(--o,n+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Pf=null,Bf=null;function Xu(e){return e.nodeType===9?e:e.ownerDocument}function py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function jf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var qf=null;function kT(){var e=window.event;return e&&e.type==="popstate"?e===qf?!1:(qf=e,!0):(qf=null,!1)}var _y=typeof setTimeout=="function"?setTimeout:void 0,PT=typeof clearTimeout=="function"?clearTimeout:void 0,vy=typeof Promise=="function"?Promise:void 0,BT=typeof queueMicrotask=="function"?queueMicrotask:typeof vy<"u"?function(e){return vy.resolve(null).then(e).catch(jT)}:_y;function jT(e){setTimeout(function(){throw e})}function Ss(e){return e==="head"}function Ey(e,n){var s=n,o=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(c),wa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Zo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Zo(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[$n]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Zo(e.ownerDocument.body);s=c}while(s);wa(n)}function Ty(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Hf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Hf(s),qr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function qT(e,n,s,o){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[$n])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function HT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Nn(e.nextSibling),e===null))return null;return e}function Sy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function Gf(e){return e.data==="$?"||e.data==="$~"}function Ff(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function GT(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Qf=null;function Ay(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Nn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function by(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Ry(e,n,s){switch(n=Xu(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Zo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);qr(e)}var On=new Map,wy=new Set;function Zu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Bi=J.d;J.d={f:FT,r:QT,D:YT,C:KT,L:XT,m:ZT,X:$T,S:JT,M:WT};function FT(){var e=Bi.f(),n=ju();return e||n}function QT(e){var n=En(e);n!==null&&n.tag===5&&n.type==="form"?Hg(n):Bi.r(e)}var Aa=typeof document>"u"?null:document;function Cy(e,n,s){var o=Aa;if(o&&typeof n=="string"&&n){var c=en(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),wy.has(c)||(wy.add(c),e={rel:e,crossOrigin:s,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),je(n,"link",e),_e(n),o.head.appendChild(n)))}}function YT(e){Bi.D(e),Cy("dns-prefetch",e,null)}function KT(e,n){Bi.C(e,n),Cy("preconnect",e,n)}function XT(e,n,s){Bi.L(e,n,s);var o=Aa;if(o&&e&&n){var c='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+en(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+en(s.imageSizes)+'"]')):c+='[href="'+en(e)+'"]';var f=c;switch(n){case"style":f=ba(e);break;case"script":f=Ra(e)}On.has(f)||(e=I({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),On.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(Jo(f))||n==="script"&&o.querySelector($o(f))||(n=o.createElement("link"),je(n,"link",e),_e(n),o.head.appendChild(n)))}}function ZT(e,n){Bi.m(e,n);var s=Aa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ra(e)}if(!On.has(f)&&(e=I({rel:"modulepreload",href:e},n),On.set(f,e),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector($o(f)))return}o=s.createElement("link"),je(o,"link",e),_e(o),s.head.appendChild(o)}}}function JT(e,n,s){Bi.S(e,n,s);var o=Aa;if(o&&e){var c=ti(o).hoistableStyles,f=ba(e);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(Jo(f)))E.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":n},s),(s=On.get(f))&&Yf(e,s);var C=g=o.createElement("link");_e(C),je(C,"link",e),C._p=new Promise(function(k,q){C.onload=k,C.onerror=q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ju(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function $T(e,n){Bi.X(e,n);var s=Aa;if(s&&e){var o=ti(s).hoistableScripts,c=Ra(e),f=o.get(c);f||(f=s.querySelector($o(c)),f||(e=I({src:e,async:!0},n),(n=On.get(c))&&Kf(e,n),f=s.createElement("script"),_e(f),je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function WT(e,n){Bi.M(e,n);var s=Aa;if(s&&e){var o=ti(s).hoistableScripts,c=Ra(e),f=o.get(c);f||(f=s.querySelector($o(c)),f||(e=I({src:e,async:!0,type:"module"},n),(n=On.get(c))&&Kf(e,n),f=s.createElement("script"),_e(f),je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Iy(e,n,s,o){var c=(c=Tt.current)?Zu(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ba(s.href),s=ti(c).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ba(s.href);var f=ti(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(Jo(e)))&&!f._p&&(g.instance=f,g.state.loading=5),On.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},On.set(e,s),f||tS(c,e,s,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ra(s),s=ti(c).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ba(e){return'href="'+en(e)+'"'}function Jo(e){return'link[rel="stylesheet"]['+e+"]"}function Dy(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function tS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),je(n,"link",s),_e(n),e.head.appendChild(n))}function Ra(e){return'[src="'+en(e)+'"]'}function $o(e){return"script[async]"+e}function Ny(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(s.href)+'"]');if(o)return n.instance=o,_e(o),o;var c=I({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),je(o,"style",c),Ju(o,s.precedence,e),n.instance=o;case"stylesheet":c=ba(s.href);var f=e.querySelector(Jo(c));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=Dy(s),(c=On.get(c))&&Yf(o,c),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),je(f,"link",o),n.state.loading|=4,Ju(f,s.precedence,e),n.instance=f;case"script":return f=Ra(s.src),(c=e.querySelector($o(f)))?(n.instance=c,_e(c),c):(o=s,(c=On.get(f))&&(o=I({},s),Kf(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),_e(c),je(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ju(o,s.precedence,e));return n.instance}function Ju(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Yf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Kf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var $u=null;function Oy(e,n,s){if($u===null){var o=new Map,c=$u=new Map;c.set(s,o)}else c=$u,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[$n]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function My(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function eS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function nS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=ba(o.href),f=n.querySelector(Jo(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Wu.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,_e(f);return}f=n.ownerDocument||n,o=Dy(o),(c=On.get(c))&&Yf(o,c),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),je(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Wu.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Xf=0;function iS(e,n){return e.stylesheets&&e.count===0&&ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Xf===0&&(Xf=62500*zT());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Xf?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function Wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tc=null;function ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tc=new Map,n.forEach(sS,e),tc=null,Wu.call(e))}function sS(e,n){if(!(n.state.loading&4)){var s=tc.get(e);if(s)var o=s.get(null);else{s=new Map,tc.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,c),s.set(g,c),this.count++,o=Wu.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Wo={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function rS(e,n,s,o,c,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function xy(e,n,s,o,c,f,g,E,C,k,q,F){return e=new rS(e,n,s,g,C,k,q,F,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),e.current=f,f.stateNode=e,n=Ch(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Oh(f),e}function Uy(e){return e?(e=na,e):na}function Ly(e,n,s,o,c,f){c=Uy(c),o.context===null?o.context=c:o.pendingContext=c,o=hs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=fs(e,o,n),s!==null&&(ln(s,e,n),Oo(s,e,n))}function zy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Zf(e,n){zy(e,n),(e=e.alternate)&&zy(e,n)}function ky(e){if(e.tag===13||e.tag===31){var n=pr(e,67108864);n!==null&&ln(n,e,67108864),Zf(e,67108864)}}function Py(e){if(e.tag===13||e.tag===31){var n=_n();n=sr(n);var s=pr(e,n);s!==null&&ln(s,e,n),Zf(e,n)}}var nc=!0;function aS(e,n,s,o){var c=H.T;H.T=null;var f=J.p;try{J.p=2,Jf(e,n,s,o)}finally{J.p=f,H.T=c}}function oS(e,n,s,o){var c=H.T;H.T=null;var f=J.p;try{J.p=8,Jf(e,n,s,o)}finally{J.p=f,H.T=c}}function Jf(e,n,s,o){if(nc){var c=$f(o);if(c===null)zf(e,n,o,ic,s),jy(e,o);else if(uS(c,e,n,s,o))o.stopPropagation();else if(jy(e,o),n&4&&-1<lS.indexOf(e)){for(;c!==null;){var f=En(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Kn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-ue(g);E.entanglements[1]|=C,g&=~C}di(f),(qt&6)===0&&(Pu=Ze()+500,Yo(0))}}break;case 31:case 13:E=pr(f,2),E!==null&&ln(E,f,2),ju(),Zf(f,2)}if(f=$f(o),f===null&&zf(e,n,o,ic,s),f===c)break;c=f}c!==null&&o.stopPropagation()}else zf(e,n,o,null,s)}}function $f(e){return e=Tn(e),Wf(e)}var ic=null;function Wf(e){if(ic=null,e=Wn(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=y(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ic=e,null}function By(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tr()){case eo:return 2;case no:return 8;case Zi:case sh:return 32;case Ul:return 268435456;default:return 32}default:return 32}}var td=!1,As=null,bs=null,Rs=null,tl=new Map,el=new Map,ws=[],lS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jy(e,n){switch(e){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":tl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(n.pointerId)}}function nl(e,n,s,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=En(n),n!==null&&ky(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function uS(e,n,s,o,c){switch(n){case"focusin":return As=nl(As,e,n,s,o,c),!0;case"dragenter":return bs=nl(bs,e,n,s,o,c),!0;case"mouseover":return Rs=nl(Rs,e,n,s,o,c),!0;case"pointerover":var f=c.pointerId;return tl.set(f,nl(tl.get(f)||null,e,n,s,o,c)),!0;case"gotpointercapture":return f=c.pointerId,el.set(f,nl(el.get(f)||null,e,n,s,o,c)),!0}return!1}function qy(e){var n=Wn(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,xn(e.priority,function(){Py(s)});return}}else if(n===31){if(n=y(s),n!==null){e.blockedOn=n,xn(e.priority,function(){Py(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=$f(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);go=o,s.target.dispatchEvent(o),go=null}else return n=En(s),n!==null&&ky(n),e.blockedOn=s,!1;n.shift()}return!0}function Hy(e,n,s){sc(e)&&s.delete(n)}function cS(){td=!1,As!==null&&sc(As)&&(As=null),bs!==null&&sc(bs)&&(bs=null),Rs!==null&&sc(Rs)&&(Rs=null),tl.forEach(Hy),el.forEach(Hy)}function rc(e,n){e.blockedOn===n&&(e.blockedOn=null,td||(td=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,cS)))}var ac=null;function Gy(e){ac!==e&&(ac=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ac===e&&(ac=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(Wf(o||s)===null)continue;break}var f=En(s);f!==null&&(e.splice(n,3),n-=3,Jh(f,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function wa(e){function n(C){return rc(C,e)}As!==null&&rc(As,e),bs!==null&&rc(bs,e),Rs!==null&&rc(Rs,e),tl.forEach(n),el.forEach(n);for(var s=0;s<ws.length;s++){var o=ws[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ws.length&&(s=ws[0],s.blockedOn===null);)qy(s),s.blockedOn===null&&ws.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],g=c[Me]||null;if(typeof f=="function")g||Gy(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Me]||null)E=g.formAction;else if(Wf(c)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),Gy(s)}}}function Fy(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function ed(e){this._internalRoot=e}oc.prototype.render=ed.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=_n();Ly(s,o,e,n,null,null)},oc.prototype.unmount=ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ly(e.current,2,null,e,null,null),ju(),n[Jn]=null}};function oc(e){this._internalRoot=e}oc.prototype.unstable_scheduleHydration=function(e){if(e){var n=jl();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ws.length&&n!==0&&n<ws[s].priority;s++);ws.splice(s,0,e),s===0&&qy(e)}};var Qy=t.version;if(Qy!=="19.2.0")throw Error(r(527,Qy,"19.2.0"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var hS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Mn=lc.inject(hS),Le=lc}catch{}}return sl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var s=!1,o="",c=Wg,f=tp,g=ep;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=xy(e,1,!1,null,null,s,o,null,c,f,g,Fy),e[Jn]=n.current,Lf(e),new ed(n)},sl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(r(299));var o=!1,c="",f=Wg,g=tp,E=ep,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=xy(e,1,!0,n,s??null,o,c,C,f,g,E,Fy),n.context=Uy(null),s=n.current,o=_n(),o=sr(o),c=hs(o),c.callback=null,fs(s,c,o),s=o,n.current.lanes=s,nr(n,s),di(n),e[Jn]=n.current,Lf(e),new oc(n)},sl.version="19.2.0",sl}var n_;function TS(){if(n_)return sd.exports;n_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),sd.exports=ES(),sd.exports}var SS=TS();const AS=()=>{};var i_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},bS=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const h=a[i++];t[r++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=a[i++],d=a[i++],y=a[i++],v=((l&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;t[r++]=String.fromCharCode(55296+(v>>10)),t[r++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];t[r++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},Mv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const h=a[l],d=l+1<a.length,y=d?a[l+1]:0,v=l+2<a.length,_=v?a[l+2]:0,A=h>>2,I=(h&3)<<4|y>>4;let U=(y&15)<<2|_>>6,K=_&63;v||(K=64,d||(U=64)),r.push(i[A],i[I],i[U],i[K])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Ov(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):bS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const h=i[a.charAt(l++)],y=l<a.length?i[a.charAt(l)]:0;++l;const _=l<a.length?i[a.charAt(l)]:64;++l;const I=l<a.length?i[a.charAt(l)]:64;if(++l,h==null||y==null||_==null||I==null)throw new RS;const U=h<<2|y>>4;if(r.push(U),_!==64){const K=y<<4&240|_>>2;if(r.push(K),I!==64){const tt=_<<6&192|I;r.push(tt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class RS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wS=function(a){const t=Ov(a);return Mv.encodeByteArray(t,!0)},bc=function(a){return wS(a).replace(/\./g,"")},Vv=function(a){try{return Mv.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=()=>CS().__FIREBASE_DEFAULTS__,DS=()=>{if(typeof process>"u"||typeof i_>"u")return;const a=i_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},NS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Vv(a[1]);return t&&JSON.parse(t)},Pc=()=>{try{return AS()||IS()||DS()||NS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},xv=a=>Pc()?.emulatorHosts?.[a],OS=a=>{const t=xv(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Uv=()=>Pc()?.config,Lv=a=>Pc()?.[`_${a}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zv(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[bc(JSON.stringify(i)),bc(JSON.stringify(d)),""].join(".")}const hl={};function xS(){const a={prod:[],emulator:[]};for(const t of Object.keys(hl))hl[t]?a.emulator.push(t):a.prod.push(t);return a}function US(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let s_=!1;function kv(a,t){if(typeof window>"u"||typeof document>"u"||!Qa(window.location.host)||hl[a]===t||hl[a]||s_)return;hl[a]=t;function i(U){return`__firebase__banner__${U}`}const r="__firebase__banner",h=xS().prod.length>0;function d(){const U=document.getElementById(r);U&&U.remove()}function y(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function v(U,K){U.setAttribute("width","24"),U.setAttribute("id",K),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function _(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{s_=!0,d()},U}function A(U,K){U.setAttribute("id",K),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function I(){const U=US(r),K=i("text"),tt=document.getElementById(K)||document.createElement("span"),rt=i("learnmore"),W=document.getElementById(rt)||document.createElement("a"),gt=i("preprendIcon"),At=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const dt=U.element;y(dt),A(W,rt);const Bt=_();v(At,gt),dt.append(At,tt,W,Bt),document.body.appendChild(dt)}h?(tt.innerText="Preview backend disconnected.",At.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(At.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function zS(){const a=Pc()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function BS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jS(){const a=Xe();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function qS(){return!zS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HS(){try{return typeof indexedDB=="object"}catch{return!1}}function GS(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="FirebaseError";class Yi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=FS,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bl.prototype.create)}}class bl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?QS(h,r):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new Yi(l,y,r)}}function QS(a,t){return a.replace(YS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const YS=/\{\$([^}]+)}/g;function KS(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Vr(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const h=a[l],d=t[l];if(r_(h)&&r_(d)){if(!Vr(h,d))return!1}else if(h!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function r_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function XS(a,t){const i=new ZS(a,t);return i.subscribe.bind(i)}class ZS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");JS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=ld),l.error===void 0&&(l.error=ld),l.complete===void 0&&(l.complete=ld);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JS(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function ld(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(a){return a&&a._delegate?a._delegate:a}class xr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new MS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tA(t))try{this.getOrInitializeService({instanceIdentifier:Dr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});r.resolve(h)}catch{}}}}clearInstance(t=Dr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Dr){return this.instances.has(t)}getOptions(t=Dr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const h=this.instances.get(r);return h&&t(h,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Dr){return this.component?this.component.multipleInstances?t:Dr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WS(a){return a===Dr?void 0:a}function tA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new $S(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(It||(It={}));const nA={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},iA=It.INFO,sA={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},rA=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=sA[t];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Kd{constructor(t){this.name=t,this._logLevel=iA,this._logHandler=rA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in It))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...t),this._logHandler(this,It.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...t),this._logHandler(this,It.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,It.INFO,...t),this._logHandler(this,It.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,It.WARN,...t),this._logHandler(this,It.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...t),this._logHandler(this,It.ERROR,...t)}}const aA=(a,t)=>t.some(i=>a instanceof i);let a_,o_;function oA(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lA(){return o_||(o_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pv=new WeakMap,Td=new WeakMap,Bv=new WeakMap,ud=new WeakMap,Xd=new WeakMap;function uA(a){const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Us(a.result)),l()},d=()=>{r(a.error),l()};a.addEventListener("success",h),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Pv.set(i,a)}).catch(()=>{}),Xd.set(t,a),t}function cA(a){if(Td.has(a))return;const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Td.set(a,t)}let Sd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Td.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Bv.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Us(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function hA(a){Sd=a(Sd)}function fA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(cd(this),t,...i);return Bv.set(r,t.sort?t.sort():[t]),Us(r)}:lA().includes(a)?function(...t){return a.apply(cd(this),t),Us(Pv.get(this))}:function(...t){return Us(a.apply(cd(this),t))}}function dA(a){return typeof a=="function"?fA(a):(a instanceof IDBTransaction&&cA(a),aA(a,oA())?new Proxy(a,Sd):a)}function Us(a){if(a instanceof IDBRequest)return uA(a);if(ud.has(a))return ud.get(a);const t=dA(a);return t!==a&&(ud.set(a,t),Xd.set(t,a)),t}const cd=a=>Xd.get(a);function mA(a,t,{blocked:i,upgrade:r,blocking:l,terminated:h}={}){const d=indexedDB.open(a,t),y=Us(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Us(d.result),v.oldVersion,v.newVersion,Us(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const gA=["get","getKey","getAll","getAllKeys","count"],pA=["put","add","delete","clear"],hd=new Map;function l_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(hd.get(t))return hd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=pA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||gA.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&v.done]))[0]};return hd.set(t,h),h}hA(a=>({...a,get:(t,i,r)=>l_(t,i)||a.get(t,i,r),has:(t,i)=>!!l_(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_A(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function _A(a){return a.getComponent()?.type==="VERSION"}const Ad="@firebase/app",u_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Kd("@firebase/app"),vA="@firebase/app-compat",EA="@firebase/analytics-compat",TA="@firebase/analytics",SA="@firebase/app-check-compat",AA="@firebase/app-check",bA="@firebase/auth",RA="@firebase/auth-compat",wA="@firebase/database",CA="@firebase/data-connect",IA="@firebase/database-compat",DA="@firebase/functions",NA="@firebase/functions-compat",OA="@firebase/installations",MA="@firebase/installations-compat",VA="@firebase/messaging",xA="@firebase/messaging-compat",UA="@firebase/performance",LA="@firebase/performance-compat",zA="@firebase/remote-config",kA="@firebase/remote-config-compat",PA="@firebase/storage",BA="@firebase/storage-compat",jA="@firebase/firestore",qA="@firebase/ai",HA="@firebase/firestore-compat",GA="firebase",FA="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="[DEFAULT]",QA={[Ad]:"fire-core",[vA]:"fire-core-compat",[TA]:"fire-analytics",[EA]:"fire-analytics-compat",[AA]:"fire-app-check",[SA]:"fire-app-check-compat",[bA]:"fire-auth",[RA]:"fire-auth-compat",[wA]:"fire-rtdb",[CA]:"fire-data-connect",[IA]:"fire-rtdb-compat",[DA]:"fire-fn",[NA]:"fire-fn-compat",[OA]:"fire-iid",[MA]:"fire-iid-compat",[VA]:"fire-fcm",[xA]:"fire-fcm-compat",[UA]:"fire-perf",[LA]:"fire-perf-compat",[zA]:"fire-rc",[kA]:"fire-rc-compat",[PA]:"fire-gcs",[BA]:"fire-gcs-compat",[jA]:"fire-fst",[HA]:"fire-fst-compat",[qA]:"fire-vertex","fire-js":"fire-js",[GA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new Map,YA=new Map,Rd=new Map;function c_(a,t){try{a.container.addComponent(t)}catch(i){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function ka(a){const t=a.name;if(Rd.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;Rd.set(t,a);for(const i of Rc.values())c_(i,a);for(const i of YA.values())c_(i,a);return!0}function Zd(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Gn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new bl("app","Firebase",KA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=FA;function jv(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:bd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Ls.create("bad-app-name",{appName:String(l)});if(i||(i=Uv()),!i)throw Ls.create("no-options");const h=Rc.get(l);if(h){if(Vr(i,h.options)&&Vr(r,h.config))return h;throw Ls.create("duplicate-app",{appName:l})}const d=new eA(l);for(const v of Rd.values())d.addComponent(v);const y=new XA(i,r,d);return Rc.set(l,y),y}function qv(a=bd){const t=Rc.get(a);if(!t&&a===bd&&Uv())return jv();if(!t)throw Ls.create("no-app",{appName:a});return t}function zs(a,t,i){let r=QA[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(d.join(" "));return}ka(new xr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="firebase-heartbeat-database",JA=1,yl="firebase-heartbeat-store";let fd=null;function Hv(){return fd||(fd=mA(ZA,JA,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(yl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ls.create("idb-open",{originalErrorMessage:a.message})})),fd}async function $A(a){try{const i=(await Hv()).transaction(yl),r=await i.objectStore(yl).get(Gv(a));return await i.done,r}catch(t){if(t instanceof Yi)Hi.warn(t.message);else{const i=Ls.create("idb-get",{originalErrorMessage:t?.message});Hi.warn(i.message)}}}async function h_(a,t){try{const r=(await Hv()).transaction(yl,"readwrite");await r.objectStore(yl).put(t,Gv(a)),await r.done}catch(i){if(i instanceof Yi)Hi.warn(i.message);else{const r=Ls.create("idb-set",{originalErrorMessage:i?.message});Hi.warn(r.message)}}}function Gv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=1024,t1=30;class e1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new i1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=f_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>t1){const l=s1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=f_(),{heartbeatsToSend:i,unsentEntries:r}=n1(this._heartbeatsCache.heartbeats),l=bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Hi.warn(t),""}}}function f_(){return new Date().toISOString().substring(0,10)}function n1(a,t=WA){const i=[];let r=a.slice();for(const l of a){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),d_(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),d_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class i1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HS()?GS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await $A(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return h_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return h_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function d_(a){return bc(JSON.stringify({version:2,heartbeats:a})).length}function s1(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(a){ka(new xr("platform-logger",t=>new yA(t),"PRIVATE")),ka(new xr("heartbeat",t=>new e1(t),"PRIVATE")),zs(Ad,u_,a),zs(Ad,u_,"esm2020"),zs("fire-js","")}r1("");var a1="firebase",o1="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zs(a1,o1,"app");function Fv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l1=Fv,Qv=new bl("auth","Firebase",Fv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Kd("@firebase/auth");function u1(a,...t){wc.logLevel<=It.WARN&&wc.warn(`Auth (${Ya}): ${a}`,...t)}function gc(a,...t){wc.logLevel<=It.ERROR&&wc.error(`Auth (${Ya}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(a,...t){throw Jd(a,...t)}function yi(a,...t){return Jd(a,...t)}function Yv(a,t,i){const r={...l1(),[t]:i};return new bl("auth","Firebase",r).create(t,{appName:a.name})}function ks(a){return Yv(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jd(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return Qv.create(a,...t)}function ft(a,t,...i){if(!a)throw Jd(t,...i)}function ji(a){const t="INTERNAL ASSERTION FAILED: "+a;throw gc(t),new Error(t)}function Fi(a,t){a||ji(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(){return typeof self<"u"&&self.location?.href||""}function c1(){return m_()==="http:"||m_()==="https:"}function m_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c1()||PS()||"connection"in navigator)?navigator.onLine:!0}function f1(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Fi(i>t,"Short delay should be less than long delay!"),this.isMobile=LS()||BS()}get(){return h1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(a,t){Fi(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g1=new wl(3e4,6e4);function Bc(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function Ka(a,t,i,r,l={}){return Xv(a,l,async()=>{let h={},d={};r&&(t==="GET"?d=r:h={body:JSON.stringify(r)});const y=Rl({key:a.config.apiKey,...d}).slice(1),v=await a._getAdditionalHeaders();v["Content-Type"]="application/json",a.languageCode&&(v["X-Firebase-Locale"]=a.languageCode);const _={method:t,headers:v,...h};return kS()||(_.referrerPolicy="no-referrer"),a.emulatorConfig&&Qa(a.emulatorConfig.host)&&(_.credentials="include"),Kv.fetch()(await Jv(a,a.config.apiHost,i,y),_)})}async function Xv(a,t,i){a._canInitEmulator=!1;const r={...d1,...t};try{const l=new p1(a),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw uc(a,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const y=h.ok?d.errorMessage:d.error.message,[v,_]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(a,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw uc(a,"email-already-in-use",d);if(v==="USER_DISABLED")throw uc(a,"user-disabled",d);const A=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Yv(a,A,_);Gi(a,A)}}catch(l){if(l instanceof Yi)throw l;Gi(a,"network-request-failed",{message:String(l)})}}async function Zv(a,t,i,r,l={}){const h=await Ka(a,t,i,r,l);return"mfaPendingCredential"in h&&Gi(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function Jv(a,t,i,r){const l=`${t}${i}?${r}`,h=a,d=h.config.emulator?$d(a.config,l):`${a.config.apiScheme}://${l}`;return m1.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class p1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),g1.get())})}}function uc(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=yi(a,t,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(a,t){return Ka(a,"POST","/v1/accounts:delete",t)}async function Cc(a,t){return Ka(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function _1(a,t=!1){const i=Ki(a),r=await i.getIdToken(t),l=Wd(r);ft(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:r,authTime:fl(dd(l.auth_time)),issuedAtTime:fl(dd(l.iat)),expirationTime:fl(dd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function dd(a){return Number(a)*1e3}function Wd(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Vv(i);return l?JSON.parse(l):(gc("Failed to decode base64 JWT payload"),null)}catch(l){return gc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function g_(a){const t=Wd(a);return ft(t,"internal-error"),ft(typeof t.exp<"u","internal-error"),ft(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Yi&&v1(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function v1({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(a){const t=a.auth,i=await a.getIdToken(),r=await _l(a,Cc(t,{idToken:i}));ft(r?.users.length,t,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const h=l.providerUserInfo?.length?$v(l.providerUserInfo):[],d=S1(a.providerData,h),y=a.isAnonymous,v=!(a.email&&l.passwordHash)&&!d?.length,_=y?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Cd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(a,A)}async function T1(a){const t=Ki(a);await Ic(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function S1(a,t){return[...a.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function $v(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(a,t){const i=await Xv(a,{},async()=>{const r=Rl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=a.config,d=await Jv(a,l,"/v1/token",`key=${h}`),y=await a._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:r};return a.emulatorConfig&&Qa(a.emulatorConfig.host)&&(v.credentials="include"),Kv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function b1(a,t){return Ka(a,"POST","/v2/accounts:revokeToken",Bc(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ft(t.idToken,"internal-error"),ft(typeof t.idToken<"u","internal-error"),ft(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):g_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){ft(t.length!==0,"internal-error");const i=g_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ft(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:h}=await A1(t,i);this.updateTokensAndExpiration(r,l,Number(h))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:h}=i,d=new Ma;return r&&(ft(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(ft(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(ft(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ma,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(a,t){ft(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Fn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new E1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Cd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await _l(this,this.stsTokenManager.getToken(this.auth,t));return ft(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return _1(this,t)}reload(){return T1(this)}_assign(t){this!==t&&(ft(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Fn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Ic(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(ks(this.auth));const t=await this.getIdToken();return await _l(this,y1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:I,emailVerified:U,isAnonymous:K,providerData:tt,stsTokenManager:rt}=i;ft(I&&rt,t,"internal-error");const W=Ma.fromJSON(this.name,rt);ft(typeof I=="string",t,"internal-error"),Is(r,t.name),Is(l,t.name),ft(typeof U=="boolean",t,"internal-error"),ft(typeof K=="boolean",t,"internal-error"),Is(h,t.name),Is(d,t.name),Is(y,t.name),Is(v,t.name),Is(_,t.name),Is(A,t.name);const gt=new Fn({uid:I,auth:t,email:l,emailVerified:U,displayName:r,isAnonymous:K,photoURL:d,phoneNumber:h,tenantId:y,stsTokenManager:W,createdAt:_,lastLoginAt:A});return tt&&Array.isArray(tt)&&(gt.providerData=tt.map(At=>({...At}))),v&&(gt._redirectEventId=v),gt}static async _fromIdTokenResponse(t,i,r=!1){const l=new Ma;l.updateFromServerResponse(i);const h=new Fn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Ic(h),h}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];ft(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?$v(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,y=new Ma;y.updateFromIdToken(r);const v=new Fn({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Cd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,_),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=new Map;function qi(a){Fi(a instanceof Function,"Expected a class definition");let t=p_.get(a);return t?(Fi(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,p_.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Wv.type="NONE";const y_=Wv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(a,t,i){return`firebase:${a}:${t}:${i}`}class Va{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:h}=this.auth;this.fullUserKey=pc(this.userKey,l.apiKey,h),this.fullPersistenceKey=pc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Cc(this.auth,{idToken:t}).catch(()=>{});return i?Fn._fromGetAccountInfoResponse(this.auth,i,t):null}return Fn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Va(qi(y_),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=l[0]||qi(y_);const d=pc(r,t.config.apiKey,t.name);let y=null;for(const _ of i)try{const A=await _._get(d);if(A){let I;if(typeof A=="string"){const U=await Cc(t,{idToken:A}).catch(()=>{});if(!U)break;I=await Fn._fromGetAccountInfoResponse(t,U,A)}else I=Fn._fromJSON(t,A);_!==h&&(y=I),h=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new Va(h,t,r):(h=v[0],y&&await h._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new Va(h,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(iE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(tE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rE(t))return"Blackberry";if(aE(t))return"Webos";if(eE(t))return"Safari";if((t.includes("chrome/")||nE(t))&&!t.includes("edge/"))return"Chrome";if(sE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function tE(a=Xe()){return/firefox\//i.test(a)}function eE(a=Xe()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function nE(a=Xe()){return/crios\//i.test(a)}function iE(a=Xe()){return/iemobile/i.test(a)}function sE(a=Xe()){return/android/i.test(a)}function rE(a=Xe()){return/blackberry/i.test(a)}function aE(a=Xe()){return/webos/i.test(a)}function tm(a=Xe()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function R1(a=Xe()){return tm(a)&&!!window.navigator?.standalone}function w1(){return jS()&&document.documentMode===10}function oE(a=Xe()){return tm(a)||sE(a)||aE(a)||rE(a)||/windows phone/i.test(a)||iE(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(a,t=[]){let i;switch(a){case"Browser":i=__(Xe());break;case"Worker":i=`${__(Xe())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ya}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=h=>new Promise((d,y)=>{try{const v=t(h);d(v)}catch(v){y(v)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(a,t={}){return Ka(a,"GET","/v2/passwordPolicy",Bc(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=6;class N1{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??D1,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v_(this),this.idTokenSubscription=new v_(this),this.beforeStateQueue=new C1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=qi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Va.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Cc(this,{idToken:t}),r=await Fn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Gn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=r?._redirectEventId,y=await this.tryRedirectSignIn(t);(!h||h===d)&&y?.user&&(r=y.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(h){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Ic(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=f1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Gn(this.app))return Promise.reject(ks(this));const i=t?Ki(t):null;return i&&ft(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&ft(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Gn(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await I1(this),i=new N1(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new bl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await b1(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&qi(t)||this._popupRedirectResolver;ft(i,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[qi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(ft(y,this,"internal-error"),y.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,r,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=lE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&u1(`Error while retrieving App Check token: ${t.error}`),t?.token}}function jc(a){return Ki(a)}class v_{constructor(t){this.auth=t,this.observer=null,this.addObserver=XS(i=>this.observer=i)}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M1(a){em=a}function V1(a){return em.loadJS(a)}function x1(){return em.gapiScript}function U1(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(a,t){const i=Zd(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Vr(h,t??{}))return l;Gi(l,"already-initialized")}return i.initialize({options:t})}function z1(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(qi);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function k1(a,t,i){const r=jc(a);ft(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,h=uE(t),{host:d,port:y}=P1(t),v=y===null?"":`:${y}`,_={url:`${h}//${d}${v}/`},A=Object.freeze({host:d,port:y,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ft(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ft(Vr(_,r.config.emulator)&&Vr(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Qa(d)?(zv(`${h}//${d}${v}`),kv("Auth",!0)):B1()}function uE(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function P1(a){const t=uE(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const h=l[1];return{host:h,port:E_(r.substr(h.length+1))}}else{const[h,d]=r.split(":");return{host:h,port:E_(d)}}}function E_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function B1(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ji("not implemented")}_getIdTokenResponse(t){return ji("not implemented")}_linkToIdToken(t,i){return ji("not implemented")}_getReauthenticationResolver(t){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(a,t){return Zv(a,"POST","/v1/accounts:signInWithIdp",Bc(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="http://localhost";class Ur extends cE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ur(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Gi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...h}=i;if(!r||!l)return null;const d=new Ur(r,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return xa(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,xa(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,xa(t,i)}buildRequest(){const t={requestUri:j1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Rl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends hE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Cl{constructor(){super("facebook.com")}static credential(t){return Ur._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ds.credentialFromTaggedObject(t)}static credentialFromError(t){return Ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ds.credential(t.oauthAccessToken)}catch{return null}}}Ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Cl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ur._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ns.credentialFromTaggedObject(t)}static credentialFromError(t){return Ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Ns.credential(i,r)}catch{return null}}}Ns.GOOGLE_SIGN_IN_METHOD="google.com";Ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Cl{constructor(){super("github.com")}static credential(t){return Ur._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Os.credentialFromTaggedObject(t)}static credentialFromError(t){return Os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Os.credential(t.oauthAccessToken)}catch{return null}}}Os.GITHUB_SIGN_IN_METHOD="github.com";Os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Cl{constructor(){super("twitter.com")}static credential(t,i){return Ur._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ms.credentialFromTaggedObject(t)}static credentialFromError(t){return Ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Ms.credential(i,r)}catch{return null}}}Ms.TWITTER_SIGN_IN_METHOD="twitter.com";Ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1(a,t){return Zv(a,"POST","/v1/accounts:signUp",Bc(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const h=await Fn._fromIdTokenResponse(t,r,l),d=T_(r);return new Gs({user:h,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=T_(r);return new Gs({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function T_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(a){if(Gn(a.app))return Promise.reject(ks(a));const t=jc(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Gs({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await q1(t,{returnSecureToken:!0}),r=await Gs._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends Yi{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Dc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new Dc(t,i,r,l)}}function fE(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Dc._fromErrorAndOperation(a,h,t,r):h})}async function G1(a,t,i=!1){const r=await _l(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Gs._forOperation(a,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(a,t,i=!1){const{auth:r}=a;if(Gn(r.app))return Promise.reject(ks(r));const l="reauthenticate";try{const h=await _l(a,fE(r,l,t,a),i);ft(h.idToken,r,"internal-error");const d=Wd(h.idToken);ft(d,r,"internal-error");const{sub:y}=d;return ft(a.uid===y,r,"user-mismatch"),Gs._forOperation(a,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Gi(r,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(a,t,i=!1){if(Gn(a.app))return Promise.reject(ks(a));const r="signIn",l=await fE(a,r,t),h=await Gs._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(h.user),h}function Y1(a,t,i,r){return Ki(a).onIdTokenChanged(t,i,r)}function K1(a,t,i){return Ki(a).beforeAuthStateChanged(t,i)}function X1(a,t,i,r){return Ki(a).onAuthStateChanged(t,i,r)}const Nc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Nc,"1"),this.storage.removeItem(Nc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=1e3,J1=10;class mE extends dE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},h=this.storage.getItem(r);w1()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,J1):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Z1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}mE.type="LOCAL";const $1=mE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE extends dE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}gE.type="SESSION";const pE=gE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new qc(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,h)),v=await W1(y);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((y,v)=>{const _=nm("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(I){const U=I;if(U.data.eventId===_)switch(U.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),y(U.data.response);break;default:clearTimeout(A),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function eb(a){_i().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function nb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ib(){return navigator?.serviceWorker?.controller||null}function sb(){return yE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="firebaseLocalStorageDb",rb=1,Oc="firebaseLocalStorage",vE="fbase_key";class Il{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Hc(a,t){return a.transaction([Oc],t?"readwrite":"readonly").objectStore(Oc)}function ab(){const a=indexedDB.deleteDatabase(_E);return new Il(a).toPromise()}function Id(){const a=indexedDB.open(_E,rb);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(Oc,{keyPath:vE})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(Oc)?t(r):(r.close(),await ab(),t(await Id()))})})}async function S_(a,t,i){const r=Hc(a,!0).put({[vE]:t,value:i});return new Il(r).toPromise()}async function ob(a,t){const i=Hc(a,!1).get(t),r=await new Il(i).toPromise();return r===void 0?null:r.value}function A_(a,t){const i=Hc(a,!0).delete(t);return new Il(i).toPromise()}const lb=800,ub=3;class EE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Id(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>ub)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qc._getInstance(sb()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nb(),!this.activeServiceWorker)return;this.sender=new tb(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ib()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Id();return await S_(t,Nc,"1"),await A_(t,Nc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>S_(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>ob(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>A_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Hc(l,!1).getAll();return new Il(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EE.type="LOCAL";const cb=EE;new wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(a,t){return t?qi(t):(ft(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends cE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return xa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function fb(a){return Q1(a.auth,new im(a),a.bypassAuthState)}function db(a){const{auth:t,user:i}=a;return ft(i,t,"internal-error"),F1(i,new im(a),a.bypassAuthState)}async function mb(a){const{auth:t,user:i}=a;return ft(i,t,"internal-error"),G1(i,new im(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(t,i,r,l,h=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:h,error:d,type:y}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:r,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fb;case"linkViaPopup":case"linkViaRedirect":return mb;case"reauthViaPopup":case"reauthViaRedirect":return db;default:Gi(this.auth,"internal-error")}}resolve(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=new wl(2e3,1e4);class Oa extends TE{constructor(t,i,r,l,h){super(t,i,l,h),this.provider=r,this.authWindow=null,this.pollId=null,Oa.currentPopupAction&&Oa.currentPopupAction.cancel(),Oa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ft(t,this.auth,"internal-error"),t}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const t=nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gb.get())};t()}}Oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="pendingRedirect",yc=new Map;class yb extends TE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=yc.get(this.auth._key());if(!t){try{const r=await _b(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}yc.set(this.auth._key(),t)}return this.bypassAuthState||yc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _b(a,t){const i=Tb(t),r=Eb(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function vb(a,t){yc.set(a._key(),t)}function Eb(a){return qi(a._redirectPersistence)}function Tb(a){return pc(pb,a.config.apiKey,a.name)}async function Sb(a,t,i=!1){if(Gn(a.app))return Promise.reject(ks(a));const r=jc(a),l=hb(r,t),d=await new yb(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=600*1e3;class bb{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Rb(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!SE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(yi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Ab&&this.cachedEventUids.clear(),this.cachedEventUids.has(b_(t))}saveEventToCache(t){this.cachedEventUids.add(b_(t)),this.lastProcessedEventTime=Date.now()}}function b_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function SE({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function Rb(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SE(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wb(a,t={}){return Ka(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ib=/^https?/;async function Db(a){if(a.config.emulator)return;const{authorizedDomains:t}=await wb(a);for(const i of t)try{if(Nb(i))return}catch{}Gi(a,"unauthorized-domain")}function Nb(a){const t=wd(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!Ib.test(i))return!1;if(Cb.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new wl(3e4,6e4);function R_(){const a=_i().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function Mb(a){return new Promise((t,i)=>{function r(){R_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{R_(),i(yi(a,"network-request-failed"))},timeout:Ob.get()})}if(_i().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(_i().gapi?.load)r();else{const l=U1("iframefcb");return _i()[l]=()=>{gapi.load?r():i(yi(a,"network-request-failed"))},V1(`${x1()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw _c=null,t})}let _c=null;function Vb(a){return _c=_c||Mb(a),_c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=new wl(5e3,15e3),Ub="__/auth/iframe",Lb="emulator/auth/iframe",zb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pb(a){const t=a.config;ft(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?$d(t,Lb):`https://${a.config.authDomain}/${Ub}`,r={apiKey:t.apiKey,appName:a.name,v:Ya},l=kb.get(a.config.apiHost);l&&(r.eid=l);const h=a._getFrameworks();return h.length&&(r.fw=h.join(",")),`${i}?${Rl(r).slice(1)}`}async function Bb(a){const t=await Vb(a),i=_i().gapi;return ft(i,a,"internal-error"),t.open({where:document.body,url:Pb(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zb,dontclear:!0},r=>new Promise(async(l,h)=>{await r.restyle({setHideOnLeave:!1});const d=yi(a,"network-request-failed"),y=_i().setTimeout(()=>{h(d)},xb.get());function v(){_i().clearTimeout(y),l(r)}r.ping(v).then(v,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qb=500,Hb=600,Gb="_blank",Fb="http://localhost";class w_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qb(a,t,i,r=qb,l=Hb){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let y="";const v={...jb,width:r.toString(),height:l.toString(),top:h,left:d},_=Xe().toLowerCase();i&&(y=nE(_)?Gb:i),tE(_)&&(t=t||Fb,v.scrollbars="yes");const A=Object.entries(v).reduce((U,[K,tt])=>`${U}${K}=${tt},`,"");if(R1(_)&&y!=="_self")return Yb(t||"",y),new w_(null);const I=window.open(t||"",y,A);ft(I,a,"popup-blocked");try{I.focus()}catch{}return new w_(I)}function Yb(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="__/auth/handler",Xb="emulator/auth/handler",Zb=encodeURIComponent("fac");async function C_(a,t,i,r,l,h){ft(a.config.authDomain,a,"auth-domain-config-required"),ft(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:Ya,eventId:l};if(t instanceof hE){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",KS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,I]of Object.entries({}))d[A]=I}if(t instanceof Cl){const A=t.getScopes().filter(I=>I!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const y=d;for(const A of Object.keys(y))y[A]===void 0&&delete y[A];const v=await a._getAppCheckToken(),_=v?`#${Zb}=${encodeURIComponent(v)}`:"";return`${Jb(a)}?${Rl(y).slice(1)}${_}`}function Jb({config:a}){return a.emulator?$d(a,Xb):`https://${a.authDomain}/${Kb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="webStorageSupport";class $b{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pE,this._completeRedirectFn=Sb,this._overrideRedirectResult=vb}async _openPopup(t,i,r,l){Fi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await C_(t,i,r,wd(),l);return Qb(t,h,nm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const h=await C_(t,i,r,wd(),l);return eb(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(Fi(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await Bb(t),r=new bb(t);return i.register("authEvent",l=>(ft(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(md,{type:md},l=>{const h=l?.[0]?.[md];h!==void 0&&i(!!h),Gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Db(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return oE()||eE()||tm()}}const Wb=$b;var I_="@firebase/auth",D_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nR(a){ka(new xr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=r.options;ft(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:d,authDomain:y,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lE(a)},_=new O1(r,l,h,v);return z1(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),ka(new xr("auth-internal",t=>{const i=jc(t.getProvider("auth").getImmediate());return(r=>new tR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),zs(I_,D_,eR(a)),zs(I_,D_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=300,sR=Lv("authIdTokenMaxAge")||iR;let N_=null;const rR=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>sR)return;const l=i?.token;N_!==l&&(N_=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function aR(a=qv()){const t=Zd(a,"auth");if(t.isInitialized())return t.getImmediate();const i=L1(a,{popupRedirectResolver:Wb,persistence:[cb,$1,pE]}),r=Lv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(r,location.origin);if(location.origin===h.origin){const d=rR(h.toString());K1(i,d,()=>d(i.currentUser)),Y1(i,y=>d(y))}}const l=xv("auth");return l&&k1(i,`http://${l}`),i}function oR(){return document.getElementsByTagName("head")?.[0]??document}M1({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=l=>{const h=yi("internal-error");h.customData=l,i(h)},r.type="text/javascript",r.charset="UTF-8",oR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nR("Browser");var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ps,AE;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,S){function R(){}R.prototype=S.prototype,D.F=S.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(N,w,V){for(var b=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)b[Nt-2]=arguments[Nt];return S.prototype[w].apply(N,b)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,S,R){R||(R=0);const N=Array(16);if(typeof S=="string")for(var w=0;w<16;++w)N[w]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(w=0;w<16;++w)N[w]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=D.g[0],R=D.g[1],w=D.g[2];let V=D.g[3],b;b=S+(V^R&(w^V))+N[0]+3614090360&4294967295,S=R+(b<<7&4294967295|b>>>25),b=V+(w^S&(R^w))+N[1]+3905402710&4294967295,V=S+(b<<12&4294967295|b>>>20),b=w+(R^V&(S^R))+N[2]+606105819&4294967295,w=V+(b<<17&4294967295|b>>>15),b=R+(S^w&(V^S))+N[3]+3250441966&4294967295,R=w+(b<<22&4294967295|b>>>10),b=S+(V^R&(w^V))+N[4]+4118548399&4294967295,S=R+(b<<7&4294967295|b>>>25),b=V+(w^S&(R^w))+N[5]+1200080426&4294967295,V=S+(b<<12&4294967295|b>>>20),b=w+(R^V&(S^R))+N[6]+2821735955&4294967295,w=V+(b<<17&4294967295|b>>>15),b=R+(S^w&(V^S))+N[7]+4249261313&4294967295,R=w+(b<<22&4294967295|b>>>10),b=S+(V^R&(w^V))+N[8]+1770035416&4294967295,S=R+(b<<7&4294967295|b>>>25),b=V+(w^S&(R^w))+N[9]+2336552879&4294967295,V=S+(b<<12&4294967295|b>>>20),b=w+(R^V&(S^R))+N[10]+4294925233&4294967295,w=V+(b<<17&4294967295|b>>>15),b=R+(S^w&(V^S))+N[11]+2304563134&4294967295,R=w+(b<<22&4294967295|b>>>10),b=S+(V^R&(w^V))+N[12]+1804603682&4294967295,S=R+(b<<7&4294967295|b>>>25),b=V+(w^S&(R^w))+N[13]+4254626195&4294967295,V=S+(b<<12&4294967295|b>>>20),b=w+(R^V&(S^R))+N[14]+2792965006&4294967295,w=V+(b<<17&4294967295|b>>>15),b=R+(S^w&(V^S))+N[15]+1236535329&4294967295,R=w+(b<<22&4294967295|b>>>10),b=S+(w^V&(R^w))+N[1]+4129170786&4294967295,S=R+(b<<5&4294967295|b>>>27),b=V+(R^w&(S^R))+N[6]+3225465664&4294967295,V=S+(b<<9&4294967295|b>>>23),b=w+(S^R&(V^S))+N[11]+643717713&4294967295,w=V+(b<<14&4294967295|b>>>18),b=R+(V^S&(w^V))+N[0]+3921069994&4294967295,R=w+(b<<20&4294967295|b>>>12),b=S+(w^V&(R^w))+N[5]+3593408605&4294967295,S=R+(b<<5&4294967295|b>>>27),b=V+(R^w&(S^R))+N[10]+38016083&4294967295,V=S+(b<<9&4294967295|b>>>23),b=w+(S^R&(V^S))+N[15]+3634488961&4294967295,w=V+(b<<14&4294967295|b>>>18),b=R+(V^S&(w^V))+N[4]+3889429448&4294967295,R=w+(b<<20&4294967295|b>>>12),b=S+(w^V&(R^w))+N[9]+568446438&4294967295,S=R+(b<<5&4294967295|b>>>27),b=V+(R^w&(S^R))+N[14]+3275163606&4294967295,V=S+(b<<9&4294967295|b>>>23),b=w+(S^R&(V^S))+N[3]+4107603335&4294967295,w=V+(b<<14&4294967295|b>>>18),b=R+(V^S&(w^V))+N[8]+1163531501&4294967295,R=w+(b<<20&4294967295|b>>>12),b=S+(w^V&(R^w))+N[13]+2850285829&4294967295,S=R+(b<<5&4294967295|b>>>27),b=V+(R^w&(S^R))+N[2]+4243563512&4294967295,V=S+(b<<9&4294967295|b>>>23),b=w+(S^R&(V^S))+N[7]+1735328473&4294967295,w=V+(b<<14&4294967295|b>>>18),b=R+(V^S&(w^V))+N[12]+2368359562&4294967295,R=w+(b<<20&4294967295|b>>>12),b=S+(R^w^V)+N[5]+4294588738&4294967295,S=R+(b<<4&4294967295|b>>>28),b=V+(S^R^w)+N[8]+2272392833&4294967295,V=S+(b<<11&4294967295|b>>>21),b=w+(V^S^R)+N[11]+1839030562&4294967295,w=V+(b<<16&4294967295|b>>>16),b=R+(w^V^S)+N[14]+4259657740&4294967295,R=w+(b<<23&4294967295|b>>>9),b=S+(R^w^V)+N[1]+2763975236&4294967295,S=R+(b<<4&4294967295|b>>>28),b=V+(S^R^w)+N[4]+1272893353&4294967295,V=S+(b<<11&4294967295|b>>>21),b=w+(V^S^R)+N[7]+4139469664&4294967295,w=V+(b<<16&4294967295|b>>>16),b=R+(w^V^S)+N[10]+3200236656&4294967295,R=w+(b<<23&4294967295|b>>>9),b=S+(R^w^V)+N[13]+681279174&4294967295,S=R+(b<<4&4294967295|b>>>28),b=V+(S^R^w)+N[0]+3936430074&4294967295,V=S+(b<<11&4294967295|b>>>21),b=w+(V^S^R)+N[3]+3572445317&4294967295,w=V+(b<<16&4294967295|b>>>16),b=R+(w^V^S)+N[6]+76029189&4294967295,R=w+(b<<23&4294967295|b>>>9),b=S+(R^w^V)+N[9]+3654602809&4294967295,S=R+(b<<4&4294967295|b>>>28),b=V+(S^R^w)+N[12]+3873151461&4294967295,V=S+(b<<11&4294967295|b>>>21),b=w+(V^S^R)+N[15]+530742520&4294967295,w=V+(b<<16&4294967295|b>>>16),b=R+(w^V^S)+N[2]+3299628645&4294967295,R=w+(b<<23&4294967295|b>>>9),b=S+(w^(R|~V))+N[0]+4096336452&4294967295,S=R+(b<<6&4294967295|b>>>26),b=V+(R^(S|~w))+N[7]+1126891415&4294967295,V=S+(b<<10&4294967295|b>>>22),b=w+(S^(V|~R))+N[14]+2878612391&4294967295,w=V+(b<<15&4294967295|b>>>17),b=R+(V^(w|~S))+N[5]+4237533241&4294967295,R=w+(b<<21&4294967295|b>>>11),b=S+(w^(R|~V))+N[12]+1700485571&4294967295,S=R+(b<<6&4294967295|b>>>26),b=V+(R^(S|~w))+N[3]+2399980690&4294967295,V=S+(b<<10&4294967295|b>>>22),b=w+(S^(V|~R))+N[10]+4293915773&4294967295,w=V+(b<<15&4294967295|b>>>17),b=R+(V^(w|~S))+N[1]+2240044497&4294967295,R=w+(b<<21&4294967295|b>>>11),b=S+(w^(R|~V))+N[8]+1873313359&4294967295,S=R+(b<<6&4294967295|b>>>26),b=V+(R^(S|~w))+N[15]+4264355552&4294967295,V=S+(b<<10&4294967295|b>>>22),b=w+(S^(V|~R))+N[6]+2734768916&4294967295,w=V+(b<<15&4294967295|b>>>17),b=R+(V^(w|~S))+N[13]+1309151649&4294967295,R=w+(b<<21&4294967295|b>>>11),b=S+(w^(R|~V))+N[4]+4149444226&4294967295,S=R+(b<<6&4294967295|b>>>26),b=V+(R^(S|~w))+N[11]+3174756917&4294967295,V=S+(b<<10&4294967295|b>>>22),b=w+(S^(V|~R))+N[2]+718787259&4294967295,w=V+(b<<15&4294967295|b>>>17),b=R+(V^(w|~S))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(w+(b<<21&4294967295|b>>>11))&4294967295,D.g[2]=D.g[2]+w&4294967295,D.g[3]=D.g[3]+V&4294967295}r.prototype.v=function(D,S){S===void 0&&(S=D.length);const R=S-this.blockSize,N=this.C;let w=this.h,V=0;for(;V<S;){if(w==0)for(;V<=R;)l(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<S;)if(N[w++]=D.charCodeAt(V++),w==this.blockSize){l(this,N),w=0;break}}else for(;V<S;)if(N[w++]=D[V++],w==this.blockSize){l(this,N),w=0;break}}this.h=w,this.o+=S},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;S=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=S&255,S/=256;for(this.v(D),D=Array(16),S=0,R=0;R<4;++R)for(let N=0;N<32;N+=8)D[S++]=this.g[R]>>>N&255;return D};function h(D,S){var R=y;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=S(D)}function d(D,S){this.h=S;const R=[];let N=!0;for(let w=D.length-1;w>=0;w--){const V=D[w]|0;N&&V==S||(R[w]=V,N=!1)}this.g=R}var y={};function v(D){return-128<=D&&D<128?h(D,function(S){return new d([S|0],S<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return I;if(D<0)return W(_(-D));const S=[];let R=1;for(let N=0;D>=R;N++)S[N]=D/R|0,R*=4294967296;return new d(S,0)}function A(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return W(A(D.substring(1),S));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(S,8));let N=I;for(let V=0;V<D.length;V+=8){var w=Math.min(8,D.length-V);const b=parseInt(D.substring(V,V+w),S);w<8?(w=_(Math.pow(S,w)),N=N.j(w).add(_(b))):(N=N.j(R),N=N.add(_(b)))}return N}var I=v(0),U=v(1),K=v(16777216);a=d.prototype,a.m=function(){if(rt(this))return-W(this).m();let D=0,S=1;for(let R=0;R<this.g.length;R++){const N=this.i(R);D+=(N>=0?N:4294967296+N)*S,S*=4294967296}return D},a.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(tt(this))return"0";if(rt(this))return"-"+W(this).toString(D);const S=_(Math.pow(D,6));var R=this;let N="";for(;;){const w=Bt(R,S).g;R=gt(R,w.j(S));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=w,tt(R))return V+N;for(;V.length<6;)V="0"+V;N=V+N}},a.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function tt(D){if(D.h!=0)return!1;for(let S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function rt(D){return D.h==-1}a.l=function(D){return D=gt(this,D),rt(D)?-1:tt(D)?0:1};function W(D){const S=D.g.length,R=[];for(let N=0;N<S;N++)R[N]=~D.g[N];return new d(R,~D.h).add(U)}a.abs=function(){return rt(this)?W(this):this},a.add=function(D){const S=Math.max(this.g.length,D.g.length),R=[];let N=0;for(let w=0;w<=S;w++){let V=N+(this.i(w)&65535)+(D.i(w)&65535),b=(V>>>16)+(this.i(w)>>>16)+(D.i(w)>>>16);N=b>>>16,V&=65535,b&=65535,R[w]=b<<16|V}return new d(R,R[R.length-1]&-2147483648?-1:0)};function gt(D,S){return D.add(W(S))}a.j=function(D){if(tt(this)||tt(D))return I;if(rt(this))return rt(D)?W(this).j(W(D)):W(W(this).j(D));if(rt(D))return W(this.j(W(D)));if(this.l(K)<0&&D.l(K)<0)return _(this.m()*D.m());const S=this.g.length+D.g.length,R=[];for(var N=0;N<2*S;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(let w=0;w<D.g.length;w++){const V=this.i(N)>>>16,b=this.i(N)&65535,Nt=D.i(w)>>>16,ae=D.i(w)&65535;R[2*N+2*w]+=b*ae,At(R,2*N+2*w),R[2*N+2*w+1]+=V*ae,At(R,2*N+2*w+1),R[2*N+2*w+1]+=b*Nt,At(R,2*N+2*w+1),R[2*N+2*w+2]+=V*Nt,At(R,2*N+2*w+2)}for(D=0;D<S;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=S;D<2*S;D++)R[D]=0;return new d(R,0)};function At(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function dt(D,S){this.g=D,this.h=S}function Bt(D,S){if(tt(S))throw Error("division by zero");if(tt(D))return new dt(I,I);if(rt(D))return S=Bt(W(D),S),new dt(W(S.g),W(S.h));if(rt(S))return S=Bt(D,W(S)),new dt(W(S.g),S.h);if(D.g.length>30){if(rt(D)||rt(S))throw Error("slowDivide_ only works with positive integers.");for(var R=U,N=S;N.l(D)<=0;)R=Yt(R),N=Yt(N);var w=Dt(R,1),V=Dt(N,1);for(N=Dt(N,2),R=Dt(R,2);!tt(N);){var b=V.add(N);b.l(D)<=0&&(w=w.add(R),V=b),N=Dt(N,1),R=Dt(R,1)}return S=gt(D,w.j(S)),new dt(w,S)}for(w=I;D.l(S)>=0;){for(R=Math.max(1,Math.floor(D.m()/S.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),V=_(R),b=V.j(S);rt(b)||b.l(D)>0;)R-=N,V=_(R),b=V.j(S);tt(V)&&(V=U),w=w.add(V),D=gt(D,b)}return new dt(w,D)}a.B=function(D){return Bt(this,D).h},a.and=function(D){const S=Math.max(this.g.length,D.g.length),R=[];for(let N=0;N<S;N++)R[N]=this.i(N)&D.i(N);return new d(R,this.h&D.h)},a.or=function(D){const S=Math.max(this.g.length,D.g.length),R=[];for(let N=0;N<S;N++)R[N]=this.i(N)|D.i(N);return new d(R,this.h|D.h)},a.xor=function(D){const S=Math.max(this.g.length,D.g.length),R=[];for(let N=0;N<S;N++)R[N]=this.i(N)^D.i(N);return new d(R,this.h^D.h)};function Yt(D){const S=D.g.length+1,R=[];for(let N=0;N<S;N++)R[N]=D.i(N)<<1|D.i(N-1)>>>31;return new d(R,D.h)}function Dt(D,S){const R=S>>5;S%=32;const N=D.g.length-R,w=[];for(let V=0;V<N;V++)w[V]=S>0?D.i(V+R)>>>S|D.i(V+R+1)<<32-S:D.i(V+R);return new d(w,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,AE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ps=d}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bE,al,RE,vc,Dd,wE,CE,IE;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var p=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function I(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var Z=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)Z[vt-2]=arguments[vt];return m.prototype[L].apply(T,Z)}}var U=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var p=typeof L;if(p=p!="object"?p:L?Array.isArray(L)?"array":p:"null",p=="array"||p=="object"&&typeof L.length=="number"){p=u.length||0;const B=L.length||0;u.length=p+B;for(let Z=0;Z<B;Z++)u[p+Z]=L[Z]}else u.push(L)}}class rt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function gt(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class At{constructor(){this.h=this.g=null}add(m,p){const T=dt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new rt(()=>new Bt,u=>u.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Yt,Dt=!1,D=new At,S=()=>{const u=Promise.resolve(void 0);Yt=()=>{u.then(R)}};function R(){for(var u;u=gt();){try{u.h.call(u.g)}catch(p){W(p)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Dt=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function b(u){return/^[\s\xa0]*$/.test(u)}function Nt(u,m){w.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}I(Nt,w),Nt.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Nt.Z.h.call(this)},Nt.prototype.h=function(){Nt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),H=0;function J(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function Ht(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function M(u){const m={};for(const p in u)m[p]=u[p];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let B=0;B<Q.length;B++)p=Q[B],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function et(u){this.src=u,this.g={},this.h=0}et.prototype.add=function(u,m,p,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const Z=Tt(u,m,T,L);return Z>-1?(m=u[Z],p||(m.fa=!1)):(m=new J(m,this.src,B,!!T,L),m.fa=p,u.push(m)),m};function mt(u,m){const p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ut(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Tt(u,m,p,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!p&&B.ha==T)return L}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Ce={};function ne(u,m,p,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ne(u,m[B],p,T,L);return null}return p=to(p),u&&u[ae]?u.J(m,p,y(T)?!!T.capture:!1,L):$s(u,m,p,!1,T,L)}function $s(u,m,p,T,L,B){if(!m)throw Error("Invalid event type");const Z=y(L)?!!L.capture:!!L;let vt=Ws(u);if(vt||(u[Vt]=vt=new et(u)),p=vt.add(m,p,T,Z,B),p.proxy)return p;if(T=zr(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)V||(L=Z),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Qn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function zr(){function u(p){return m.call(u.src,u.listener,p)}const m=$a;return u}function kr(u,m,p,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)kr(u,m[B],p,T,L);else T=y(T)?!!T.capture:!!T,p=to(p),u&&u[ae]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],p=Tt(m,p,T,L),p>-1&&(ut(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Ws(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Tt(m,p,T,L)),(p=u>-1?m[u]:null)&&Pr(p))}function Pr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ae])mt(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Qn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ws(m))?(mt(p,u),p.h==0&&(p.src=null,m[Vt]=null)):ut(u)}}}function Qn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function $a(u,m){if(u.da)u=!0;else{m=new Nt(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&Pr(u),u=p.call(T,m)}return u}function Ws(u){return u=u[Vt],u instanceof et?u:null}var Wa="__closure_events_fn_"+(Math.random()*1e9>>>0);function to(u){return typeof u=="function"?u:(u[Wa]||(u[Wa]=function(m){return u.handleEvent(m)}),u[Wa])}function ge(){N.call(this),this.i=new et(this),this.M=this,this.G=null}I(ge,N),ge.prototype[ae]=!0,ge.prototype.removeEventListener=function(u,m,p,T){kr(this,u,m,p,T)};function Ie(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new w(m,u);else if(m instanceof w)m.target=m.target||u;else{var L=m;m=new w(T,u),$(m,L)}L=!0;let B,Z;if(p)for(Z=p.length-1;Z>=0;Z--)B=m.g=p[Z],L=Xi(B,T,!0,m)&&L;if(B=m.g=u,L=Xi(B,T,!0,m)&&L,L=Xi(B,T,!1,m)&&L,p)for(Z=0;Z<p.length;Z++)B=m.g=p[Z],L=Xi(B,T,!1,m)&&L}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)ut(p[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ge.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function Xi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const Z=m[B];if(Z&&!Z.da&&Z.capture==p){const vt=Z.listener,ce=Z.ha||Z.src;Z.fa&&mt(u.i,Z),L=vt.call(ce,T)!==!1&&L}}return L&&!T.defaultPrevented}function ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function xl(u){u.g=ih(()=>{u.g=null,u.i&&(u.i=!1,xl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends N{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:xl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tr(u){N.call(this),this.h=u,this.g={}}I(tr,N);var eo=[];function no(u){Lt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Pr(m)},u),u.g={}}tr.prototype.N=function(){tr.Z.N.call(this),no(this)},tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zi=d.JSON.stringify,sh=d.JSON.parse,Ul=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ll(){}function zl(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){w.call(this,"d")}I(Le,w);function vn(){w.call(this,"c")}I(vn,w);var ue={},kl=null;function Br(){return kl=kl||new ge}ue.Ia="serverreachability";function Pl(u){w.call(this,ue.Ia,u)}I(Pl,w);function Yn(u){const m=Br();Ie(m,new Pl(m))}ue.STAT_EVENT="statevent";function er(u,m){w.call(this,ue.STAT_EVENT,u),this.stat=m}I(er,w);function pe(u){const m=Br();Ie(m,new er(m,u))}ue.Ja="timingevent";function Kn(u,m){w.call(this,ue.Ja,u),this.size=m}I(Kn,w);function Xn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Vn(){this.g=!0}Vn.prototype.ua=function(){this.g=!1};function rh(u,m,p,T,L,B){u.info(function(){if(u.g)if(B){var Z="",vt=B.split("&");for(let jt=0;jt<vt.length;jt++){var ce=vt[jt].split("=");if(ce.length>1){const ie=ce[0];ce=ce[1];const An=ie.split("_");Z=An.length>=2&&An[1]=="type"?Z+(ie+"="+ce+"&"):Z+(ie+"=redacted&")}}}else Z=null;else Z=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+Z})}function Bl(u,m,p,T,L,B,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+B+" "+Z})}function Zn(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ah(u,p)+(T?" "+T:"")})}function nr(u,m){u.info(function(){return"TIMEOUT: "+m})}Vn.prototype.info=function(){};function ah(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var p=B[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let Z=1;Z<T.length;Z++)T[Z]=""}}}}return Zi(B)}catch{return m}}var ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},so;function sr(){}I(sr,Ll),sr.prototype.g=function(){return new XMLHttpRequest},so=new sr;function Si(u){return encodeURIComponent(String(u))}function jl(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function xn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new tr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var ye={},Me={};function Jn(u,m,p){u.M=1,u.A=rr(ve(m)),u.u=p,u.R=!0,jr(u,null)}function jr(u,m){u.F=Date.now(),$n(u),u.B=ve(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Fr(p.i,"t",T),u.C=0,p=u.j.L,u.h=new Un,u.g=nu(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Ze(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(eo[0]=L.toString()),L=eo);for(let B=0;B<L.length;B++){const Z=ne(p,L[B],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Yn(),rh(u.i,u.v,u.B,u.l,u.S,u.u)}xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&kn(u)==3?m.j():this.Y(u)},xn.prototype.Y=function(u){try{if(u==this.g)t:{const vt=kn(this.g),ce=this.g.ya(),jt=this.g.ca();if(!(vt<3)&&(vt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||vt!=4||ce==7||(ce==8||jt<=0?Yn(3):Yn(2)),Wn(this);var m=this.g.ca();this.X=m;var p=oh(this);if(this.o=m==200,Bl(this.i,this.v,this.B,this.l,this.S,vt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(T)){var B=T;break e}}B=null}if(u=B)Zn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ti(this,u);else{this.o=!1,this.m=3,pe(12),cn(this),En(this);break t}}if(this.R){u=!0;let ie;for(;!this.K&&this.C<p.length;)if(ie=Hl(this,p),ie==Me){vt==4&&(this.m=4,pe(14),u=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(ie==ye){this.m=4,pe(15),Zn(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else Zn(this.i,this.l,ie,null),ti(this,ie);if(ql(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||p.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)Zn(this.i,this.l,p,"[Invalid Chunked Response]"),cn(this),En(this);else if(p.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Eo(Z),Z.P=!0,pe(11))}}else Zn(this.i,this.l,p,null),ti(this,p);vt==4&&cn(this),this.o&&!this.K&&(vt==4?$l(this.j,this):(this.o=!1,$n(this)))}else bi(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),cn(this),En(this)}}}catch{}finally{}};function oh(u){if(!ql(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let p="";const T=m.length,L=kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),En(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,p+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function ql(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Hl(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Me:(p=Number(m.substring(p,T)),isNaN(p)?ye:(T+=1,T+p>m.length?Me:(m=m.slice(T,T+p),u.C=T+p,m)))}xn.prototype.cancel=function(){this.K=!0,cn(this)};function $n(u){u.T=Date.now()+u.H,qr(u,u.H)}function qr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Xn(_(u.aa,u),m)}function Wn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(nr(this.i,this.B),this.M!=2&&(Yn(),pe(17)),cn(this),this.m=2,En(this)):qr(this,this.T-u)};function En(u){u.j.I==0||u.K||$l(u.j,u)}function cn(u){Wn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,no(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ti(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||ni(p.h,u))){if(!u.L&&ni(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)Zr(p),ss(p);else break t;fr(p),pe(18)}}else p.xa=L[1],0<p.xa-p.K&&L[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Xn(_(p.Va,p),6e3));ei(p.h)<=1&&p.ta&&(p.ta=void 0)}else li(p,11)}else if((u.L||p.g==u)&&Zr(p),!b(m))for(L=p.Ba.g.parse(m),m=0;m<L.length;m++){let jt=L[m];const ie=jt[0];if(!(ie<=p.K))if(p.K=ie,jt=jt[1],p.I==2)if(jt[0]=="c"){p.M=jt[1],p.ba=jt[2];const An=jt[3];An!=null&&(p.ka=An,p.j.info("VER="+p.ka));const ui=jt[4];ui!=null&&(p.za=ui,p.j.info("SVER="+p.za));const Pn=jt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(T=1.5*Pn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Bn=u.g;if(Bn){const dr=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dr){var B=T.h;B.g||dr.indexOf("spdy")==-1&&dr.indexOf("quic")==-1&&dr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(oo(B,B.h),B.h=null))}if(T.G){const Jr=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jr&&(T.wa=Jr,Gt(T.J,T.G,Jr))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var Z=u;if(T.na=eu(T,T.L?T.ba:null,T.W),Z.L){lo(T.h,Z);var vt=Z,ce=T.O;ce&&(vt.H=ce),vt.D&&(Wn(vt),$n(vt)),T.g=Z}else Zl(T);p.i.length>0&&oi(p)}else jt[0]!="stop"&&jt[0]!="close"||li(p,7);else p.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?li(p,7):_o(p):jt[0]!="noop"&&p.l&&p.l.qa(jt),p.A=0)}}Yn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function ro(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ao(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ei(u){return u.h?1:u.g?u.g.size:0}function ni(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function oo(u,m){u.g?u.g.add(m):u.h=m}function lo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ro.prototype.cancel=function(){if(this.i=uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function uo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return K(u.i)}var Gl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hr(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let L,B=null;T>=0?(L=u[p].substring(0,T),B=u[p].substring(T+1)):L=u[p],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,Ve(this,u.j),this.o=u.o,this.g=u.g,Ji(this,u.u),this.h=u.h,co(this,Kl(u.i)),this.m=u.m):u&&(m=String(u).match(Gl))?(this.l=!1,Ve(this,m[1]||"",!0),this.o=ii(m[2]||""),this.g=ii(m[3]||"",!0),Ji(this,m[4]),this.h=ii(m[5]||"",!0),co(this,m[6]||"",!0),this.m=ii(m[7]||"")):(this.l=!1,this.i=new Wi(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ar(m,Gr,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ar(m,Gr,!0),"@"),u.push(Si(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(ar(p,p.charAt(0)=="/"?ho:Fl,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",ar(p,Ql)),u.join("")},hn.prototype.resolve=function(u){const m=ve(this);let p=!!u.j;p?Ve(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)Ji(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let Z=0;Z<L.length;){const vt=L[Z++];vt=="."?T&&Z==L.length&&B.push(""):vt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&Z==L.length&&B.push("")):(B.push(vt),T=!0)}T=B.join("/")}else T=L}return p?m.h=T:p=u.i.toString()!=="",p?co(m,Kl(u.i)):p=!!u.m,p&&(m.m=u.m),m};function ve(u){return new hn(u)}function Ve(u,m,p){u.j=p?ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ji(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function co(u,m,p){m instanceof Wi?(u.i=m,Qr(u.i,u.l)):(p||(m=ar(m,$i)),u.i=new Wi(m,u.l))}function Gt(u,m,p){u.i.set(m,p)}function rr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ar(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,en),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gr=/[#\/\?@]/g,Fl=/[#\?:]/g,ho=/[#\?]/g,$i=/[#\?@]/g,Ql=/#/g;function Wi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Hr(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=Wi.prototype,a.add=function(u,m){nn(this),this.i=null,u=ts(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Yl(u,m){nn(u),m=ts(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function fo(u,m){return nn(u),m=ts(u,m),u.g.has(m)}a.forEach=function(u,m){nn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)};function mo(u,m){nn(u);let p=[];if(typeof m=="string")fo(u,m)&&(p=p.concat(u.g.get(ts(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}a.set=function(u,m){return nn(this),this.i=null,u=ts(this,u),fo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=mo(this,u),u.length>0?String(u[0]):m):m};function Fr(u,m,p){Yl(u,m),p.length>0&&(u.i=null,u.g.set(ts(u,m),K(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const L=Si(p);p=mo(this,p);for(let B=0;B<p.length;B++){let Z=L;p[B]!==""&&(Z+="="+Si(p[B])),u.push(Z)}}return this.i=u.join("&")};function Kl(u){const m=new Wi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ts(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Qr(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(p,T){const L=T.toLowerCase();T!=L&&(Yl(this,T),Fr(this,L,p))},u)),u.j=m}function Ln(u,m){const p=new Vn;if(d.Image){const T=new Image;T.onload=A(Tn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Tn,p,"TestLoadImage: error",!1,m,T),T.onabort=A(Tn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Tn,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function go(u,m){const p=new Vn,T=new AbortController,L=setTimeout(()=>{T.abort(),Tn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Tn(p,"TestPingServer: ok",!0,m):Tn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Tn(p,"TestPingServer: error",!1,m)})}function Tn(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function es(){this.g=new Ul}function si(u){this.i=u.Sb||null,this.h=u.ab||!1}I(si,Ll),si.prototype.g=function(){return new or(this.i,this.h)};function or(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}I(or,ge),a=or.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,zn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ns(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ns(this):zn(this),this.readyState==3&&Yr(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,ns(this))},a.Na=function(u){this.g&&(this.response=u,ns(this))},a.ga=function(){this.g&&ns(this)};function ns(u){u.readyState=4,u.l=null,u.j=null,u.B=null,zn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return Lt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function lr(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Sn(p),typeof u=="string"?p!=null&&Si(p):Gt(u,m,p))}function Kt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}I(Kt,ge);var ri=/^https?$/i,po=["POST","PUT"];a=Kt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():so.g(),this.g.onreadystatechange=U(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){ur(this,B);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())p.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(po,m,void 0)>=0)||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of p)this.g.setRequestHeader(B,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){ur(this,B)}};function ur(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,yo(u),Ai(u)}function yo(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Ai(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),Kt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?cr(this):this.Xa())},a.Xa=function(){cr(this)};function cr(u){if(u.h&&typeof h<"u"){if(u.v&&kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),kn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=B===0){let Z=String(u.D).match(Gl)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),T=!ri.test(Z?Z.toLowerCase():"")}p=T}if(p)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var L=kn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",yo(u)}}finally{Ai(u)}}}}function Ai(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ie(u,"ready");try{p.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function kn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return kn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),sh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bi(u){const m={};u=(u.g&&kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(b(u[T]))continue;var p=jl(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const B=m[L]||[];m[L]=B,B.push(p)}Ht(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ai(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function is(u){this.za=0,this.i=[],this.j=new Vn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ai("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ai("baseRetryDelayMs",5e3,u),this.Za=ai("retryDelaySeedMs",1e4,u),this.Ta=ai("forwardChannelMaxRetries",2,u),this.va=ai("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ro(u&&u.concurrentRequestLimit),this.Ba=new es,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=is.prototype,a.ka=8,a.I=1,a.connect=function(u,m,p,T){pe(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=eu(this,null,this.W),oi(this)};function _o(u){if(Kr(u),u.I==3){var m=u.V++,p=ve(u.J);if(Gt(p,"SID",u.M),Gt(p,"RID",m),Gt(p,"TYPE","terminate"),hr(u,p),m=new xn(u,u.j,m),m.M=2,m.A=rr(ve(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),$n(m)}tu(u)}function ss(u){u.g&&(Eo(u),u.g.cancel(),u.g=null)}function Kr(u){ss(u),u.v&&(d.clearTimeout(u.v),u.v=null),Zr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function oi(u){if(!ao(u.h)&&!u.m){u.m=!0;var m=u.Ea;Yt||S(),Dt||(Yt(),Dt=!0),D.add(m,u),u.D=0}}function Xr(u,m){return ei(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Xn(_(u.Ea,u,m),Wl(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new xn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),$(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Xl(this,L,m),p=ve(this.J),Gt(p,"RID",u),Gt(p,"CVER",22),this.G&&Gt(p,"X-HTTP-Session-Id",this.G),hr(this,p),B&&(this.R?m="headers="+Si(Sn(B))+"&"+m:this.u&&lr(p,this.u,B)),oo(this.h,L),this.Ra&&Gt(p,"TYPE","init"),this.S?(Gt(p,"$req",m),Gt(p,"SID","null"),L.U=!0,Jn(L,p,null)):Jn(L,p,m),this.I=2}}else this.I==3&&(u?vo(this,u):this.i.length==0||ao(this.h)||vo(this))};function vo(u,m){var p;m?p=m.l:p=u.V++;const T=ve(u.J);Gt(T,"SID",u.M),Gt(T,"RID",p),Gt(T,"AID",u.K),hr(u,T),u.u&&u.o&&lr(T,u.u,u.o),p=new xn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Xl(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),oo(u.h,p),Jn(p,T,m)}function hr(u,m){u.H&&Lt(u.H,function(p,T){Gt(m,T,p)}),u.l&&Lt({},function(p,T){Gt(m,T,p)})}function Xl(u,m,p){p=Math.min(u.i.length,p);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let vt=-1;for(;;){const ce=["count="+p];vt==-1?p>0?(vt=L[0].g,ce.push("ofs="+vt)):vt=0:ce.push("ofs="+vt);let jt=!0;for(let ie=0;ie<p;ie++){var B=L[ie].g;const An=L[ie].map;if(B-=vt,B<0)vt=Math.max(0,L[ie].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var Z=An instanceof Map?An:Object.entries(An);for(const[ui,Pn]of Z){let Bn=Pn;y(Pn)&&(Bn=Zi(Pn)),ce.push(B+ui+"="+encodeURIComponent(Bn))}}catch(ui){throw ce.push(B+"type="+encodeURIComponent("_badmap")),ui}}catch{T&&T(An)}}if(jt){Z=ce.join("&");break t}}Z=void 0}return u=u.i.splice(0,p),m.G=u,Z}function Zl(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Yt||S(),Dt||(Yt(),Dt=!0),D.add(m,u),u.A=0}}function fr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Xn(_(u.Da,u),Wl(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Jl(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Xn(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),ss(this),Jl(this))};function Eo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Jl(u){u.g=new xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),hr(u,m),u.u&&u.o&&lr(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=rr(ve(m)),p.u=null,p.R=!0,jr(p,u)}a.Va=function(){this.C!=null&&(this.C=null,ss(this),fr(this),pe(19))};function Zr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function $l(u,m){var p=null;if(u.g==m){Zr(u),Eo(u),u.g=null;var T=2}else if(ni(u.h,m))p=m.G,lo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Br(),Ie(T,new Kn(T,p)),oi(u)}else Zl(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Xr(u,m)||T==2&&fr(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),L){case 1:li(u,5);break;case 4:li(u,10);break;case 3:li(u,6);break;default:li(u,2)}}}function Wl(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function li(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),T=u.Ua;const L=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ve(T,"https"),rr(T),L?Ln(T.toString(),p):go(T.toString(),p)}else pe(2);u.I=0,u.l&&u.l.pa(m),tu(u),Kr(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function tu(u){if(u.I=0,u.ja=[],u.l){const m=uo(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function eu(u,m,p){var T=p instanceof hn?ve(p):new hn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Ji(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new hn(null);T&&Ve(B,T),m&&(B.g=m),L&&Ji(B,L),p&&(B.h=p),T=B}return p=u.G,m=u.wa,p&&m&&Gt(T,p,m),Gt(T,"VER",u.ka),hr(u,T),T}function nu(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new si({ab:p})):new Kt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function iu(){}a=iu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function rs(){}rs.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ge.call(this),this.g=new is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!b(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ri(this)}I(Je,ge),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){_o(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Zi(u),u=p);m.i.push(new _e(m.Ya++,u)),m.I==3&&oi(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,_o(this.g),delete this.g,Je.Z.N.call(this)};function su(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}I(su,Le);function ru(){vn.call(this),this.status=1}I(ru,vn);function Ri(u){this.g=u}I(Ri,iu),Ri.prototype.ra=function(){Ie(this.g,"a")},Ri.prototype.qa=function(u){Ie(this.g,new su(u))},Ri.prototype.pa=function(u){Ie(this.g,new ru)},Ri.prototype.oa=function(){Ie(this.g,"b")},rs.prototype.createWebChannel=rs.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,IE=function(){return new rs},CE=function(){return Br()},wE=ue,Dd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ir.NO_ERROR=0,ir.TIMEOUT=8,ir.HTTP_ERROR=6,vc=ir,io.COMPLETE="complete",RE=io,zl.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,al=zl,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,bE=Kt}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const M_="@firebase/firestore",V_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Kd("@firebase/firestore");function Ca(){return Fs.logLevel}function lR(a){Fs.setLogLevel(a)}function nt(a,...t){if(Fs.logLevel<=It.DEBUG){const i=t.map(sm);Fs.debug(`Firestore (${Xa}): ${a}`,...i)}}function Qi(a,...t){if(Fs.logLevel<=It.ERROR){const i=t.map(sm);Fs.error(`Firestore (${Xa}): ${a}`,...i)}}function Pa(a,...t){if(Fs.logLevel<=It.WARN){const i=t.map(sm);Fs.warn(`Firestore (${Xa}): ${a}`,...i)}}function sm(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,DE(a,r,i)}function DE(a,t,i){let r=`FIRESTORE (${Xa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Qi(r),new Error(r)}function re(a,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||DE(t,l,r)}function Ut(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Yi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Qe.UNAUTHENTICATED)))}shutdown(){}}class cR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class hR{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){re(this.o===void 0,42304);let r=this.i;const l=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new Bs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Bs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},y=v=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Bs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(re(typeof r.accessToken=="string",31837,{l:r}),new NE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return re(t===null||typeof t=="string",2055,{h:t}),new Qe(t)}}class fR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new fR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Qe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){re(this.o===void 0,3512);const r=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>r(h)))};const l=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new x_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(re(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new x_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=gR(40);for(let h=0;h<l.length;++h)r.length<20&&l[h]<i&&(r+=t.charAt(l[h]%62))}return r}}function Mt(a,t){return a<t?-1:a>t?1:0}function Nd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const l=a.charAt(r),h=t.charAt(r);if(l!==h)return gd(l)===gd(h)?Mt(l,h):gd(l)?1:-1}return Mt(a.length,t.length)}const pR=55296,yR=57343;function gd(a){const t=a.charCodeAt(0);return t>=pR&&t<=yR}function Ba(a,t,i){return a.length===t.length&&a.every(((r,l)=>i(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="__name__";class mi{constructor(t,i,r){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&_t(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return mi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof mi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const h=mi.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Mt(t.length,i.length)}static compareSegments(t,i){const r=mi.isNumericId(t),l=mi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?mi.extractNumericId(t).compare(mi.extractNumericId(i)):Nd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ps.fromString(t.substring(4,t.length-2))}}class ee extends mi{construct(t,i,r){return new ee(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ot(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const _R=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends mi{construct(t,i,r){return new tn(t,i,r)}static isValidIdentifier(t){return _R.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U_}static keyField(){return new tn([U_])}static fromServerFormat(t){const i=[];let r="",l=0;const h=()=>{if(r.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new ot(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ot(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=v,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(r+=y,l++):(h(),l++)}if(h(),d)throw new ot(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(i)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.path=t}static fromPath(t){return new ct(ee.fromString(t))}static fromName(t){return new ct(ee.fromString(t).popFirst(5))}static empty(){return new ct(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new ee(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(a,t,i){if(!i)throw new ot(X.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function vR(a,t,i,r){if(t===!0&&r===!0)throw new ot(X.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function L_(a){if(!ct.isDocumentKey(a))throw new ot(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function z_(a){if(ct.isDocumentKey(a))throw new ot(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function ER(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function TR(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":_t(12329,{type:typeof a})}function vl(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ot(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=TR(a);throw new ot(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(a,t){const i={typeString:a};return t&&(i.value=t),i}function Dl(a,t){if(!ER(a))throw new ot(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,h="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new ot(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=-62135596800,P_=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(t){return Re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*P_);return new Re(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<k_)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P_}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Dl(t,Re._jsonSchema))return new Re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-k_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:we("string",Re._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new Re(0,0))}static max(){return new yt(new Re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=-1;function SR(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(r===1e9?new Re(i+1,0):new Re(i,r));return new Qs(l,ct.empty(),t)}function AR(a){return new Qs(a.readTime,a.key,El)}class Qs{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Qs(yt.min(),ct.empty(),El)}static max(){return new Qs(yt.max(),ct.empty(),El)}}function bR(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(a.documentKey,t.documentKey),i!==0?i:Mt(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(a){if(a.code!==X.FAILED_PRECONDITION||a.message!==RR)throw a;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((r,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(r,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,r)=>{i(t)}))}static reject(t){return new Y(((i,r)=>{r(t)}))}static waitFor(t){return new Y(((i,r)=>{let l=0,h=0,d=!1;t.forEach((y=>{++l,y.next((()=>{++h,d&&h===l&&i()}),(v=>r(v)))})),d=!0,h===l&&i()}))}static or(t){let i=Y.resolve(!1);for(const r of t)i=i.next((l=>l?Y.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,h)=>{r.push(i.call(this,l,h))})),this.waitFor(r)}static mapArray(t,i){return new Y(((r,l)=>{const h=t.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(t[_]).next((A=>{d[_]=A,++y,y===h&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Y(((r,l)=>{const h=()=>{t()===!0?i().next((()=>{h()}),l):r()};h()}))}}function CR(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Za(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Fc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=-1;function Qc(a){return a==null}function Od(a){return a===0&&1/a==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="";function DR(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=B_(t)),t=NR(a.get(i),t);return B_(t)}function NR(a,t){let i=t;const r=a.length;for(let l=0;l<r;l++){const h=a.charAt(l);switch(h){case"\0":i+="";break;case ME:i+="";break;default:i+=h}}return i}function B_(a){return a+ME+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Nl(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function OR(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,i){this.comparator=t,this.root=i||qe.EMPTY}insert(t,i){return new me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hc(this.root,t,this.comparator,!0)}}class hc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?r(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,i,r,l,h){this.key=t,this.value=i,this.color=r??qe.RED,this.left=l??qe.EMPTY,this.right=h??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,h){return new qe(t??this.key,i??this.value,r??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const h=r(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,r),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return qe.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,r,l,h){return this}insert(t,i,r){return new qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(t){return new q_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=r.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Oe(this.comparator);return i.data=t,i}}class q_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new Vs([])}unionWith(t){let i=new Oe(tn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Vs(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ba(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new VE("Invalid base64 string: "+h):h}})(t);return new He(i)}static fromUint8Array(t){const i=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new He(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const MR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(a){if(re(!!a,39018),typeof a=="string"){let t=0;const i=MR.exec(a);if(re(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:de(a.seconds),nanos:de(a.nanos)}}function de(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ks(a){return typeof a=="string"?He.fromBase64String(a):He.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="server_timestamp",UE="__type__",LE="__previous_value__",zE="__local_write_time__";function am(a){return(a?.mapValue?.fields||{})[UE]?.stringValue===xE}function Yc(a){const t=a.mapValue.fields[LE];return am(t)?Yc(t):t}function Tl(a){const t=Ys(a.mapValue.fields[zE].timestampValue);return new Re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,i,r,l,h,d,y,v,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Mc="(default)";class Sl{constructor(t,i){this.projectId=t,this.database=i||Mc}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database===Mc}isEqual(t){return t instanceof Sl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="__type__",UR="__max__",fc={mapValue:{}},LR="__vector__",Md="value";function Xs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?am(a)?4:kR(a)?9007199254740991:zR(a)?10:11:_t(28295,{value:a})}function Ei(a,t){if(a===t)return!0;const i=Xs(a);if(i!==Xs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Tl(a).isEqual(Tl(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Ys(l.timestampValue),y=Ys(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,h){return Ks(l.bytesValue).isEqual(Ks(h.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,h){return de(l.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(l.geoPointValue.longitude)===de(h.geoPointValue.longitude)})(a,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return de(l.integerValue)===de(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=de(l.doubleValue),y=de(h.doubleValue);return d===y?Od(d)===Od(y):isNaN(d)&&isNaN(y)}return!1})(a,t);case 9:return Ba(a.arrayValue.values||[],t.arrayValue.values||[],Ei);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},y=h.mapValue.fields||{};if(j_(d)!==j_(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Ei(d[v],y[v])))return!1;return!0})(a,t);default:return _t(52216,{left:a})}}function Al(a,t){return(a.values||[]).find((i=>Ei(i,t)))!==void 0}function ja(a,t){if(a===t)return 0;const i=Xs(a),r=Xs(t);if(i!==r)return Mt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(a.booleanValue,t.booleanValue);case 2:return(function(h,d){const y=de(h.integerValue||h.doubleValue),v=de(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(a,t);case 3:return H_(a.timestampValue,t.timestampValue);case 4:return H_(Tl(a),Tl(t));case 5:return Nd(a.stringValue,t.stringValue);case 6:return(function(h,d){const y=Ks(h),v=Ks(d);return y.compareTo(v)})(a.bytesValue,t.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Mt(y[_],v[_]);if(A!==0)return A}return Mt(y.length,v.length)})(a.referenceValue,t.referenceValue);case 8:return(function(h,d){const y=Mt(de(h.latitude),de(d.latitude));return y!==0?y:Mt(de(h.longitude),de(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return G_(a.arrayValue,t.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[Md]?.arrayValue,A=v[Md]?.arrayValue,I=Mt(_?.values?.length||0,A?.values?.length||0);return I!==0?I:G_(_,A)})(a.mapValue,t.mapValue);case 11:return(function(h,d){if(h===fc.mapValue&&d===fc.mapValue)return 0;if(h===fc.mapValue)return 1;if(d===fc.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let I=0;I<v.length&&I<A.length;++I){const U=Nd(v[I],A[I]);if(U!==0)return U;const K=ja(y[v[I]],_[A[I]]);if(K!==0)return K}return Mt(v.length,A.length)})(a.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function H_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Mt(a,t);const i=Ys(a),r=Ys(t),l=Mt(i.seconds,r.seconds);return l!==0?l:Mt(i.nanos,r.nanos)}function G_(a,t){const i=a.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const h=ja(i[l],r[l]);if(h)return h}return Mt(i.length,r.length)}function qa(a){return Vd(a)}function Vd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Ys(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Ks(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ct.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const h of i.values||[])l?l=!1:r+=",",r+=Vd(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of r)h?h=!1:l+=",",l+=`${d}:${Vd(i.fields[d])}`;return l+"}"})(a.mapValue):_t(61005,{value:a})}function Ec(a){switch(Xs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Yc(a);return t?16+Ec(t):16;case 5:return 2*a.stringValue.length;case 6:return Ks(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,h)=>l+Ec(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return Nl(r.fields,((h,d)=>{l+=h.length+Ec(d)})),l})(a.mapValue);default:throw _t(13486,{value:a})}}function xd(a){return!!a&&"integerValue"in a}function om(a){return!!a&&"arrayValue"in a}function F_(a){return!!a&&"nullValue"in a}function Q_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function pd(a){return!!a&&"mapValue"in a}function zR(a){return(a?.mapValue?.fields||{})[xR]?.stringValue===LR}function dl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Nl(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=dl(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=dl(a.arrayValue.values[i]);return t}return{...a}}function kR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===UR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this.value=t}static empty(){return new gi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!pd(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=dl(i)}setAll(t){let i=tn.emptyPath(),r={},l=[];t.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,r,l),r={},l=[],i=y.popLast()}d?r[y.lastSegment()]=dl(d):l.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,l)}delete(t){const i=this.field(t.popLast());pd(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ei(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];pd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Nl(i,((l,h)=>t[l]=h));for(const l of r)delete t[l]}clone(){return new gi(dl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,i,r,l,h,d,y){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(t){return new Ye(t,0,yt.min(),yt.min(),yt.min(),gi.empty(),0)}static newFoundDocument(t,i,r,l){return new Ye(t,1,i,yt.min(),r,l,0)}static newNoDocument(t,i){return new Ye(t,2,i,yt.min(),yt.min(),gi.empty(),0)}static newUnknownDocument(t,i){return new Ye(t,3,i,yt.min(),yt.min(),gi.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,i){this.position=t,this.inclusive=i}}function Y_(a,t,i){let r=0;for(let l=0;l<a.position.length;l++){const h=t[l],d=a.position[l];if(h.field.isKeyField()?r=ct.comparator(ct.fromName(d.referenceValue),i.key):r=ja(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function K_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ei(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,i="asc"){this.field=t,this.dir=i}}function PR(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{}class Ne extends kE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new jR(t,i,r):i==="array-contains"?new GR(t,r):i==="in"?new FR(t,r):i==="not-in"?new QR(t,r):i==="array-contains-any"?new YR(t,r):new Ne(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new qR(t,r):new HR(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ja(i,this.value)):i!==null&&Xs(this.value)===Xs(i)&&this.matchesComparison(ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends kE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ti(t,i)}matches(t){return PE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function PE(a){return a.op==="and"}function BE(a){return BR(a)&&PE(a)}function BR(a){for(const t of a.filters)if(t instanceof Ti)return!1;return!0}function Ud(a){if(a instanceof Ne)return a.field.canonicalString()+a.op.toString()+qa(a.value);if(BE(a))return a.filters.map((t=>Ud(t))).join(",");{const t=a.filters.map((i=>Ud(i))).join(",");return`${a.op}(${t})`}}function jE(a,t){return a instanceof Ne?(function(r,l){return l instanceof Ne&&r.op===l.op&&r.field.isEqual(l.field)&&Ei(r.value,l.value)})(a,t):a instanceof Ti?(function(r,l){return l instanceof Ti&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((h,d,y)=>h&&jE(d,l.filters[y])),!0):!1})(a,t):void _t(19439)}function qE(a){return a instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${qa(i.value)}`})(a):a instanceof Ti?(function(i){return i.op.toString()+" {"+i.getFilters().map(qE).join(" ,")+"}"})(a):"Filter"}class jR extends Ne{constructor(t,i,r){super(t,i,r),this.key=ct.fromName(r.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class qR extends Ne{constructor(t,i){super(t,"in",i),this.keys=HE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class HR extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=HE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function HE(a,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class GR extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return om(i)&&Al(i.arrayValue,this.value)}}class FR extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Al(this.value.arrayValue,i)}}class QR extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Al(this.value.arrayValue,i)}}class YR extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!om(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Al(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t,i=null,r=[],l=[],h=null,d=null,y=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function X_(a,t=null,i=[],r=[],l=null,h=null,d=null){return new KR(a,t,i,r,l,h,d)}function lm(a){const t=Ut(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Ud(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Qc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>qa(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>qa(r))).join(",")),t.Te=i}return t.Te}function um(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!PR(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!jE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!K_(a.startAt,t.startAt)&&K_(a.endAt,t.endAt)}function Ld(a){return ct.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,i=null,r=[],l=[],h=null,d="F",y=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XR(a,t,i,r,l,h,d,y){return new Kc(a,t,i,r,l,h,d,y)}function cm(a){return new Kc(a)}function Z_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function ZR(a){return a.collectionGroup!==null}function ml(a){const t=Ut(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Oe(tn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new xc(h,r))})),i.has(tn.keyField().canonicalString())||t.Ie.push(new xc(tn.keyField(),r))}return t.Ie}function vi(a){const t=Ut(a);return t.Ee||(t.Ee=JR(t,ml(a))),t.Ee}function JR(a,t){if(a.limitType==="F")return X_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new xc(l.field,h)}));const i=a.endAt?new Vc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Vc(a.startAt.position,a.startAt.inclusive):null;return X_(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function zd(a,t,i){return new Kc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function Xc(a,t){return um(vi(a),vi(t))&&a.limitType===t.limitType}function GE(a){return`${lm(vi(a))}|lt:${a.limitType}`}function Ia(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>qE(l))).join(", ")}]`),Qc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>qa(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>qa(l))).join(",")),`Target(${r})`})(vi(a))}; limitType=${a.limitType})`}function Zc(a,t){return t.isFoundDocument()&&(function(r,l){const h=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ct.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,t)&&(function(r,l){for(const h of ml(r))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(a,t)&&(function(r,l){for(const h of r.filters)if(!h.matches(l))return!1;return!0})(a,t)&&(function(r,l){return!(r.startAt&&!(function(d,y,v){const _=Y_(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,ml(r),l)||r.endAt&&!(function(d,y,v){const _=Y_(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,ml(r),l))})(a,t)}function $R(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function FE(a){return(t,i)=>{let r=!1;for(const l of ml(a)){const h=WR(l,t,i);if(h!==0)return h;r=r||l.field.isKeyField()}return 0}}function WR(a,t,i){const r=a.field.isKeyField()?ct.comparator(t.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?ja(v,_):_t(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,h]of r)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Nl(this.inner,((i,r)=>{for(const[l,h]of r)t(l,h)}))}isEmpty(){return OR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=new me(ct.comparator);function Zs(){return tw}const QE=new me(ct.comparator);function ol(...a){let t=QE;for(const i of a)t=t.insert(i.key,i);return t}function ew(a){let t=QE;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Nr(){return gl()}function YE(){return gl()}function gl(){return new Lr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const nw=new Oe(ct.comparator);function zt(...a){let t=nw;for(const i of a)t=t.add(i);return t}const iw=new Oe(Mt);function sw(){return iw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(t)?"-0":t}}function aw(a){return{integerValue:""+a}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this._=void 0}}function ow(a,t,i){return a instanceof kd?(function(l,h){const d={fields:{[UE]:{stringValue:xE},[zE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&am(h)&&(h=Yc(h)),h&&(d.fields[LE]=h),{mapValue:d}})(i,t):a instanceof Uc?KE(a,t):a instanceof Lc?XE(a,t):(function(l,h){const d=uw(l,h),y=J_(d)+J_(l.Ae);return xd(d)&&xd(l.Ae)?aw(y):rw(l.serializer,y)})(a,t)}function lw(a,t,i){return a instanceof Uc?KE(a,t):a instanceof Lc?XE(a,t):i}function uw(a,t){return a instanceof Pd?(function(r){return xd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(t)?t:{integerValue:0}:null}class kd extends Jc{}class Uc extends Jc{constructor(t){super(),this.elements=t}}function KE(a,t){const i=ZE(t);for(const r of a.elements)i.some((l=>Ei(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Lc extends Jc{constructor(t){super(),this.elements=t}}function XE(a,t){let i=ZE(t);for(const r of a.elements)i=i.filter((l=>!Ei(l,r)));return{arrayValue:{values:i}}}class Pd extends Jc{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function J_(a){return de(a.integerValue||a.doubleValue)}function ZE(a){return om(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function cw(a,t){return a.field.isEqual(t.field)&&(function(r,l){return r instanceof Uc&&l instanceof Uc||r instanceof Lc&&l instanceof Lc?Ba(r.elements,l.elements,Ei):r instanceof Pd&&l instanceof Pd?Ei(r.Ae,l.Ae):r instanceof kd&&l instanceof kd})(a.transform,t.transform)}class Or{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Or}static exists(t){return new Or(void 0,t)}static updateTime(t){return new Or(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class hm{}function JE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new fw(a.key,Or.none()):new fm(a.key,a.data,Or.none());{const i=a.data,r=gi.empty();let l=new Oe(tn.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),l=l.add(h)}return new $c(a.key,r,new Vs(l.toArray()),Or.none())}}function hw(a,t,i){a instanceof fm?(function(l,h,d){const y=l.value.clone(),v=W_(l.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,t,i):a instanceof $c?(function(l,h,d){if(!Tc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const y=W_(l.fieldTransforms,h,d.transformResults),v=h.data;v.setAll($E(l)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,t,i):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function pl(a,t,i,r){return a instanceof fm?(function(h,d,y,v){if(!Tc(h.precondition,d))return y;const _=h.value.clone(),A=tv(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,t,i,r):a instanceof $c?(function(h,d,y,v){if(!Tc(h.precondition,d))return y;const _=tv(h.fieldTransforms,v,d),A=d.data;return A.setAll($E(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((I=>I.field)))})(a,t,i,r):(function(h,d,y){return Tc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(a,t,i)}function $_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Ba(r,l,((h,d)=>cw(h,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class fm extends hm{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class $c extends hm{constructor(t,i,r,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function $E(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function W_(a,t,i){const r=new Map;re(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const h=a[l],d=h.transform,y=t.data.field(h.field);r.set(h.field,lw(d,y,i[l]))}return r}function tv(a,t,i){const r=new Map;for(const l of a){const h=l.transform,d=i.data.field(l.field);r.set(l.field,ow(h,d,t))}return r}class fw extends hm{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&hw(h,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=pl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=pl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=YE();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(l.key)?null:y;const v=JE(d,y);v!==null&&r.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&Ba(this.mutations,t.mutations,((i,r)=>$_(i,r)))&&Ba(this.baseMutations,t.baseMutations,((i,r)=>$_(i,r)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,xt;function WE(a){if(a===void 0)return Qi("GRPC error has no .code"),X.UNKNOWN;switch(a){case be.OK:return X.OK;case be.CANCELLED:return X.CANCELLED;case be.UNKNOWN:return X.UNKNOWN;case be.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case be.INTERNAL:return X.INTERNAL;case be.UNAVAILABLE:return X.UNAVAILABLE;case be.UNAUTHENTICATED:return X.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case be.NOT_FOUND:return X.NOT_FOUND;case be.ALREADY_EXISTS:return X.ALREADY_EXISTS;case be.PERMISSION_DENIED:return X.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case be.ABORTED:return X.ABORTED;case be.OUT_OF_RANGE:return X.OUT_OF_RANGE;case be.UNIMPLEMENTED:return X.UNIMPLEMENTED;case be.DATA_LOSS:return X.DATA_LOSS;default:return _t(39323,{code:a})}}(xt=be||(be={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=new Ps([4294967295,4294967295],0);function ev(a){const t=pw().encode(a),i=new AE;return i.update(t),new Uint8Array(i.digest())}function nv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Ps([i,r],0),new Ps([l,h],0)]}class dm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new ll(`Invalid padding: ${i}`);if(r<0)throw new ll(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ll(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new ll(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ps.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Ps.fromNumber(r)));return l.compare(yw)===1&&(l=new Ps([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=ev(t),[r,l]=nv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,l,h);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new dm(h,l,i);return r.forEach((y=>d.insert(y))),d}insert(t){if(this.ge===0)return;const i=ev(t),[r,l]=nv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,l,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,i,r,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Ol.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Wc(yt.min(),l,new me(Mt),Zs(),zt())}}class Ol{constructor(t,i,r,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Ol(r,i,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class t0{constructor(t,i){this.targetId=t,this.Ce=i}}class e0{constructor(t,i,r=He.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class iv{constructor(){this.ve=0,this.Fe=sv(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),r=zt();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:_t(38017,{changeType:h})}})),new Ol(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=sv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _w{constructor(t){this.Ge=t,this.ze=new Map,this.je=Zs(),this.Je=dc(),this.He=dc(),this.Ye=new me(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(Ld(h))if(r===0){const d=new ct(h.path);this.et(i,d,Ye.newNoDocument(d,yt.min()))}else re(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(t),v=y?this.ct(y,t,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:h=0}=i;let d,y;try{d=Ks(r).toUint8Array()}catch(v){if(v instanceof VE)return Pa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new dm(d,l,h)}catch(v){return Pa(v instanceof ll?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(y)||(this.et(i,h,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&Ld(y.target)){const v=new ct(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ye.newNoDocument(v,t))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=zt();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const l=new Wc(t,i,this.Ye,this.je,r);return this.je=Zs(),this.Je=dc(),this.He=dc(),this.Ye=new me(Mt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new iv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Oe(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Oe(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new iv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function dc(){return new me(ct.comparator)}function sv(){return new me(ct.comparator)}const vw={asc:"ASCENDING",desc:"DESCENDING"},Ew={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tw={and:"AND",or:"OR"};class Sw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Bd(a,t){return a.useProto3Json||Qc(t)?t:{value:t}}function Aw(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bw(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function Ua(a){return re(!!a,49232),yt.fromTimestamp((function(i){const r=Ys(i);return new Re(r.seconds,r.nanos)})(a))}function Rw(a,t){return jd(a,t).canonicalString()}function jd(a,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function n0(a){const t=ee.fromString(a);return re(o0(t),10190,{key:t.toString()}),t}function yd(a,t){const i=n0(t);if(i.get(1)!==a.databaseId.projectId)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ct(s0(i))}function i0(a,t){return Rw(a.databaseId,t)}function ww(a){const t=n0(a);return t.length===4?ee.emptyPath():s0(t)}function rv(a){return new ee(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function s0(a){return re(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Cw(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(re(A===void 0||typeof A=="string",58123),He.fromBase64String(A||"")):(re(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),He.fromUint8Array(A||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?X.UNKNOWN:WE(_.code);return new ot(A,_.message||"")})(d);i=new e0(r,l,h,y||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=yd(a,r.document.name),h=Ua(r.document.updateTime),d=r.document.createTime?Ua(r.document.createTime):yt.min(),y=new gi({mapValue:{fields:r.document.fields}}),v=Ye.newFoundDocument(l,h,d,y),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Sc(_,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=yd(a,r.document),h=r.readTime?Ua(r.readTime):yt.min(),d=Ye.newNoDocument(l,h),y=r.removedTargetIds||[];i=new Sc([],y,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=yd(a,r.document),h=r.removedTargetIds||[];i=new Sc([],h,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:h}=r,d=new gw(l,h),y=r.targetId;i=new t0(y,d)}}return i}function Iw(a,t){return{documents:[i0(a,t.path)]}}function Dw(a,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=i0(a,l);const h=(function(_){if(_.length!==0)return a0(Ti.create(_,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(U){return{field:Da(U.field),direction:Mw(U.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Bd(a,t.limit);return y!==null&&(i.structuredQuery.limit=y),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function Nw(a){let t=ww(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){re(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=(function(I){const U=r0(I);return U instanceof Ti&&BE(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(I){return I.map((U=>(function(tt){return new xc(Na(tt.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(U)))})(i.orderBy));let y=null;i.limit&&(y=(function(I){let U;return U=typeof I=="object"?I.value:I,Qc(U)?null:U})(i.limit));let v=null;i.startAt&&(v=(function(I){const U=!!I.before,K=I.values||[];return new Vc(K,U)})(i.startAt));let _=null;return i.endAt&&(_=(function(I){const U=!I.before,K=I.values||[];return new Vc(K,U)})(i.endAt)),XR(t,l,d,h,y,"F",v,_)}function Ow(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function r0(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Na(i.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Na(i.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Na(i.unaryFilter.field);return Ne.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Na(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ne.create(Na(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Ti.create(i.compositeFilter.filters.map((r=>r0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(a):_t(30097,{filter:a})}function Mw(a){return vw[a]}function Vw(a){return Ew[a]}function xw(a){return Tw[a]}function Da(a){return{fieldPath:a.canonicalString()}}function Na(a){return tn.fromServerFormat(a.fieldPath)}function a0(a){return a instanceof Ne?(function(i){if(i.op==="=="){if(Q_(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NAN"}};if(F_(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Q_(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NOT_NAN"}};if(F_(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(i.field),op:Vw(i.op),value:i.value}}})(a):a instanceof Ti?(function(i){const r=i.getFilters().map((l=>a0(l)));return r.length===1?r[0]:{compositeFilter:{op:xw(i.op),filters:r}}})(a):_t(54877,{filter:a})}function o0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t,i,r,l,h=yt.min(),d=yt.min(),y=He.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(t){return new xs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t){this.yt=t}}function Lw(a){const t=Nw({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?zd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.Cn=new kw}addToCollectionParentIndex(t,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Qs.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Qs.min())}updateCollectionGroup(t,i,r){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class kw{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Oe(ee.comparator),h=!l.has(r);return this.index[i]=l.add(r),h}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Oe(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l0=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(l0,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ha(0)}static cr(){return new Ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="LruGarbageCollector",Pw=1048576;function lv([a,t],[i,r]){const l=Mt(a,i);return l===0?Mt(t,r):l}class Bw{constructor(t){this.Ir=t,this.buffer=new Oe(lv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();lv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class jw{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){nt(ov,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Za(i)?nt(ov,"Ignoring IndexedDB error during garbage collection: ",i):await Gc(i)}await this.Vr(3e5)}))}}class qw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(Fc.ce);const r=new Bw(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(av)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),av):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((I=>(I>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(t,l)))).next((I=>(r=I,y=Date.now(),this.removeTargets(t,r,i)))).next((I=>(h=I,v=Date.now(),this.removeOrphanedDocuments(t,r)))).next((I=>(_=Date.now(),Ca()<=It.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${I} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:I}))))}}function Hw(a,t){return new qw(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.changes=new Lr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Y.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&pl(r.mutation,l,Vs.empty(),Re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,zt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=zt()){const l=Nr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((h=>{let d=ol();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Nr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,zt())))}populateOverlays(t,i,r){const l=[];return r.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(t,i,r,l){let h=Zs();const d=gl(),y=(function(){return gl()})();return i.forEach(((v,_)=>{const A=r.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof $c)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),pl(A.mutation,_,A.mutation.getFieldMask(),Re.now())):d.set(_.key,Vs.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new Fw(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(t,i){const r=gl();let l=new me(((d,y)=>d-y)),h=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||Vs.empty();A=y.applyToLocalView(_,A),r.set(v,A);const I=(l.get(y.batchId)||zt()).add(v);l=l.insert(y.batchId,I)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,I=YE();A.forEach((U=>{if(!h.has(U)){const K=JE(i.get(U),r.get(U));K!==null&&I.set(U,K),h=h.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,I))}return Y.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ZR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-h.size):Y.resolve(Nr());let y=El,v=h;return d.next((_=>Y.forEach(_,((A,I)=>(y<I.largestBatchId&&(y=I.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(t,A).next((U=>{v=v.insert(A,U)}))))).next((()=>this.populateOverlays(t,_,h))).next((()=>this.computeViews(t,v,_,zt()))).next((A=>({batchId:y,changes:ew(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((r=>{let l=ol();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const h=i.collectionGroup;let d=ol();return this.indexManager.getCollectionParents(t,h).next((y=>Y.forEach(y,(v=>{const _=(function(I,U){return new Kc(U,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((A=>{A.forEach(((I,U)=>{d=d.insert(I,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,h,l)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))}));let y=ol();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&pl(A.mutation,_,Vs.empty(),Re.now()),Zc(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ua(l.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Lw(l.bundledQuery),readTime:Ua(l.readTime)}})(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.overlays=new me(ct.comparator),this.qr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Nr();return Y.forEach(i,(l=>this.getOverlay(t,l).next((h=>{h!==null&&r.set(l,h)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,h)=>{this.St(t,i,h)})),Y.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(t,i,r){const l=Nr(),h=i.length+1,d=new ct(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&l.set(v.getKey(),v)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let h=new me(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=Nr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=Nr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=l)););return Y.resolve(y)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new mw(i,r));let h=this.qr.get(i);h===void 0&&(h=zt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(){this.Qr=new Oe(Ue.$r),this.Ur=new Oe(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Ue(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Ue(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ct(new ee([])),r=new Ue(i,t),l=new Ue(i,t+1),h=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ct(new ee([])),r=new Ue(i,t),l=new Ue(i,t+1);let h=zt();return this.Ur.forEachInRange([r,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Ue(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ue{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ct.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||ct.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Ue.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new dw(h,i,r,l);this.mutationQueue.push(d);for(const y of l)this.Zr=this.Zr.add(new Ue(y.key,h)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),h=l<0?0:l;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?IR:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ue(i,0),l=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,l],(d=>{const y=this.Xr(d.Yr);h.push(y)})),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Oe(Mt);return i.forEach((l=>{const h=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{r=r.add(y.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let h=r;ct.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new ct(h),0);let y=new Oe(Mt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(y=y.add(v.Yr)),!0)}),d),Y.resolve(this.ti(y))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){re(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(i.mutations,(l=>{const h=new Ue(l.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Ue(i,0),l=this.Zr.firstAfterOrEqual(r);return Y.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t){this.ri=t,this.docs=(function(){return new me(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Y.resolve(r?r.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(t,i){let r=Zs();return i.forEach((l=>{const h=this.docs.get(l);r=r.insert(l,h?h.document.mutableCopy():Ye.newInvalidDocument(l))})),Y.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let h=Zs();const d=i.path,y=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||bR(AR(A),r)<=0||(l.has(A.key)||Zc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(t,i,r,l){_t(9500)}ii(t,i){return Y.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new $w(this)}getSize(t){return Y.resolve(this.size)}}class $w extends Gw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),Y.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t){this.persistence=t,this.si=new Lr((i=>lm(i)),um),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new mm,this.targetCount=0,this.ai=Ha.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Y.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ha(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.Pr(i),Y.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,r){let l=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)})),Y.waitFor(h).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return Y.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),Y.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),Y.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return Y.resolve(r)}containsKey(t,i){return Y.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(t,i){this.ui={},this.overlays={},this.ci=new Fc(0),this.li=!1,this.li=!0,this.hi=new Xw,this.referenceDelegate=t(this),this.Pi=new Ww(this),this.indexManager=new zw,this.remoteDocumentCache=(function(l){return new Jw(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Uw(i),this.Ii=new Yw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Kw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new Zw(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){nt("MemoryPersistence","Starting transaction:",t);const l=new tC(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,i){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class tC extends wR{constructor(t){super(),this.currentSequenceNumber=t}}class gm{constructor(t){this.persistence=t,this.Ri=new mm,this.Vi=null}static mi(t){return new gm(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Y.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const l=ct.fromPath(r);return this.gi(t,l).next((h=>{h||i.removeEntry(l,yt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class zc{constructor(t,i){this.persistence=t,this.pi=new Lr((r=>DR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=Hw(this,i)}static mi(t,i){return new zc(t,i)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return Y.forEach(this.pi,((r,l)=>this.br(t,r,l).next((h=>h?Y.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((y=>{y||(r++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Ec(t.data.value)),i}br(t,i,r){return Y.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Y.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=zt(),l=zt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new pm(t,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qS()?8:CR(Xe())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,l,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new eC;return this.Ss(t,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(t,i,d,y.size)}))})).next((()=>h.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Ca()<=It.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Ia(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Ca()<=It.DEBUG&&nt("QueryEngine","Query:",Ia(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ca()<=It.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Ia(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vi(i))):Y.resolve())}ys(t,i){if(Z_(i))return Y.resolve(null);let r=vi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=zd(i,null,"F"),r=vi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((h=>{const d=zt(...h);return this.ps.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,r).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(t,zd(i,null,"F")):this.vs(t,_,i,v)}))))})))))}ws(t,i,r,l){return Z_(i)||l.isEqual(yt.min())?Y.resolve(null):this.ps.getDocuments(t,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,l)?Y.resolve(null):(Ca()<=It.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ia(i)),this.vs(t,d,i,SR(l,El)).next((y=>y)))}))}Ds(t,i){let r=new Oe(FE(t));return i.forEach(((l,h)=>{Zc(t,h)&&(r=r.add(h))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,i,r){return Ca()<=It.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Ia(i)),this.ps.getDocumentsMatchingQuery(t,i,Qs.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="LocalStore",iC=3e8;class sC{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new me(Mt),this.xs=new Lr((h=>lm(h)),um),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Qw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function rC(a,t,i,r){return new sC(a,t,i,r)}async function c0(a,t){const i=Ut(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((h=>(l=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let v=zt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function h0(a){const t=Ut(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function aC(a,t){const i=Ut(a),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const y=[];t.targetChanges.forEach(((A,I)=>{const U=l.get(I);if(!U)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,I).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,I))));let K=U.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(I)!==null?K=K.withResumeToken(He.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,r)),l=l.insert(I,K),(function(rt,W,gt){return rt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=iC?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0})(U,K,A)&&y.push(i.Pi.updateTargetData(h,K))}));let v=Zs(),_=zt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(oC(h,d,t.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!r.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((I=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(A)}return Y.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=l,h)))}function oC(a,t,i){let r=zt(),l=zt();return i.forEach((h=>r=r.add(h))),t.getEntries(a,r).next((h=>{let d=Zs();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),v.isNoDocument()&&v.version.isEqual(yt.min())?(t.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(v),d=d.insert(y,v)):nt(ym,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:l}}))}function lC(a,t){const i=Ut(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((h=>h?(l=h,Y.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new xs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function qd(a,t,i){const r=Ut(a),l=r.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Za(d))throw d;nt(ym,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function uv(a,t,i){const r=Ut(a);let l=yt.min(),h=zt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const I=Ut(v),U=I.xs.get(A);return U!==void 0?Y.resolve(I.Ms.get(U)):I.Pi.getTargetData(_,A)})(r,d,vi(t)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?h:zt()))).next((y=>(uC(r,$R(t),y),{documents:y,Qs:h})))))}function uC(a,t,i){let r=a.Os.get(t)||yt.min();i.forEach(((l,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Os.set(t,r)}class cv{constructor(){this.activeTargetIds=sw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class cC{constructor(){this.Mo=new cv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new cv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="ConnectivityMonitor";class fv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(hv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){nt(hv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function Hd(){return mc===null?mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="RestConnection",fC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Mc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,h){const d=Hd(),y=this.zo(t,i.toUriEncodedString());nt(_d,`Sending RPC '${t}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,h);const{host:_}=new URL(y),A=Qa(_);return this.Jo(t,y,v,r,A).then((I=>(nt(_d,`Received RPC '${t}' ${d}: `,I),I)),(I=>{throw Pa(_d,`RPC '${t}' ${d} failed with error: `,I,"url: ",y,"request:",r),I}))}Ho(t,i,r,l,h,d){return this.Go(t,i,r,l,h)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xa})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),r&&r.headers.forEach(((l,h)=>t[h]=l))}zo(t,i){const r=fC[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class gC extends dC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,h){const d=Hd();return new Promise(((y,v)=>{const _=new bE;_.setWithCredentials(!0),_.listenOnce(RE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case vc.NO_ERROR:const I=_.getResponseJson();nt(Fe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(I)),y(I);break;case vc.TIMEOUT:nt(Fe,`RPC '${t}' ${d} timed out`),v(new ot(X.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const U=_.getStatus();if(nt(Fe,`RPC '${t}' ${d} failed with status:`,U,"response text:",_.getResponseText()),U>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const tt=K?.error;if(tt&&tt.status&&tt.message){const rt=(function(gt){const At=gt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(At)>=0?At:X.UNKNOWN})(tt.status);v(new ot(rt,tt.message))}else v(new ot(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ot(X.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{nt(Fe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);nt(Fe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=Hd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=IE(),y=CE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");nt(Fe,`Creating RPC '${t}' stream ${l}: ${A}`,v);const I=d.createWebChannel(A,v);this.I_(I);let U=!1,K=!1;const tt=new mC({Yo:W=>{K?nt(Fe,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(U||(nt(Fe,`Opening RPC '${t}' stream ${l} transport.`),I.open(),U=!0),nt(Fe,`RPC '${t}' stream ${l} sending:`,W),I.send(W))},Zo:()=>I.close()}),rt=(W,gt,At)=>{W.listen(gt,(dt=>{try{At(dt)}catch(Bt){setTimeout((()=>{throw Bt}),0)}}))};return rt(I,al.EventType.OPEN,(()=>{K||(nt(Fe,`RPC '${t}' stream ${l} transport opened.`),tt.o_())})),rt(I,al.EventType.CLOSE,(()=>{K||(K=!0,nt(Fe,`RPC '${t}' stream ${l} transport closed`),tt.a_(),this.E_(I))})),rt(I,al.EventType.ERROR,(W=>{K||(K=!0,Pa(Fe,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),tt.a_(new ot(X.UNAVAILABLE,"The operation could not be completed")))})),rt(I,al.EventType.MESSAGE,(W=>{if(!K){const gt=W.data[0];re(!!gt,16349);const At=gt,dt=At?.error||At[0]?.error;if(dt){nt(Fe,`RPC '${t}' stream ${l} received error:`,dt);const Bt=dt.status;let Yt=(function(S){const R=be[S];if(R!==void 0)return WE(R)})(Bt),Dt=dt.message;Yt===void 0&&(Yt=X.INTERNAL,Dt="Unknown error status: "+Bt+" with message "+dt.message),K=!0,tt.a_(new ot(Yt,Dt)),I.close()}else nt(Fe,`RPC '${t}' stream ${l} received:`,gt),tt.u_(gt)}})),rt(y,wE.STAT_EVENT,(W=>{W.stat===Dd.PROXY?nt(Fe,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===Dd.NOPROXY&&nt(Fe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function vd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(a){return new Sw(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t,i,r=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="PersistentStream";class pC{constructor(t,i,r,l,h,d,y,v){this.Mi=t,this.S_=r,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new d0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Qi(i.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ot(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return nt(dv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(nt(dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yC extends pC{constructor(t,i,r,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Cw(this.serializer,t),r=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Ua(d.readTime):yt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=rv(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=Ld(v)?{documents:Iw(h,v)}:{query:Dw(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=bw(h,d.resumeToken);const _=Bd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){y.readTime=Aw(h,d.snapshotVersion.toTimestamp());const _=Bd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,t);const r=Ow(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=rv(this.serializer),i.removeTarget=t,this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{}class vC extends _C{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,jd(i,r),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(X.UNKNOWN,h.toString())}))}Ho(t,i,r,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(t,jd(i,r),l,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class EC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qi(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="RemoteStore";class TC{constructor(t,i,r,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Vl(this)&&(nt(Ga,"Restarting streams for network reachability change."),await(async function(v){const _=Ut(v);_.Ea.add(4),await Ml(_),_.Ra.set("Unknown"),_.Ea.delete(4),await th(_)})(this))}))})),this.Ra=new EC(r,l)}}async function th(a){if(Vl(a))for(const t of a.da)await t(!0)}async function Ml(a){for(const t of a.da)await t(!1)}function m0(a,t){const i=Ut(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Tm(i)?Em(i):Ja(i).O_()&&vm(i,t))}function _m(a,t){const i=Ut(a),r=Ja(i);i.Ia.delete(t),r.O_()&&g0(i,t),i.Ia.size===0&&(r.O_()?r.L_():Vl(i)&&i.Ra.set("Unknown"))}function vm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ja(a).Y_(t)}function g0(a,t){a.Va.Ue(t),Ja(a).Z_(t)}function Em(a){a.Va=new _w({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),Ja(a).start(),a.Ra.ua()}function Tm(a){return Vl(a)&&!Ja(a).x_()&&a.Ia.size>0}function Vl(a){return Ut(a).Ea.size===0}function p0(a){a.Va=void 0}async function SC(a){a.Ra.set("Online")}async function AC(a){a.Ia.forEach(((t,i)=>{vm(a,t)}))}async function bC(a,t){p0(a),Tm(a)?(a.Ra.ha(t),Em(a)):a.Ra.set("Unknown")}async function RC(a,t,i){if(a.Ra.set("Online"),t instanceof e0&&t.state===2&&t.cause)try{await(async function(l,h){const d=h.cause;for(const y of h.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.Va.removeTarget(y))})(a,t)}catch(r){nt(Ga,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await mv(a,r)}else if(t instanceof Sc?a.Va.Ze(t):t instanceof t0?a.Va.st(t):a.Va.tt(t),!i.isEqual(yt.min()))try{const r=await h0(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(He.EMPTY_BYTE_STRING,A.snapshotVersion)),g0(h,v);const I=new xs(A.target,v,_,A.sequenceNumber);vm(h,I)})),h.remoteSyncer.applyRemoteEvent(y)})(a,i)}catch(r){nt(Ga,"Failed to raise snapshot:",r),await mv(a,r)}}async function mv(a,t,i){if(!Za(t))throw t;a.Ea.add(1),await Ml(a),a.Ra.set("Offline"),i||(i=()=>h0(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{nt(Ga,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await th(a)}))}async function gv(a,t){const i=Ut(a);i.asyncQueue.verifyOperationInProgress(),nt(Ga,"RemoteStore received new credentials");const r=Vl(i);i.Ea.add(3),await Ml(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await th(i)}async function wC(a,t){const i=Ut(a);t?(i.Ea.delete(2),await th(i)):t||(i.Ea.add(2),await Ml(i),i.Ra.set("Unknown"))}function Ja(a){return a.ma||(a.ma=(function(i,r,l){const h=Ut(i);return h.sa(),new yC(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(a.datastore,a.asyncQueue,{Xo:SC.bind(null,a),t_:AC.bind(null,a),r_:bC.bind(null,a),H_:RC.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Tm(a)?Em(a):a.Ra.set("Unknown")):(await a.ma.stop(),p0(a))}))),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,i,r,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=h,this.deferred=new Bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,h){const d=Date.now()+r,y=new Sm(t,i,d,l,h);return y.start(r),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function y0(a,t){if(Qi("AsyncQueue",`${t}: ${a}`),Za(a))return new ot(X.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{static emptySet(t){return new La(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ct.comparator(i.key,r.key):(i,r)=>ct.comparator(i.key,r.key),this.keyedMap=ol(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof La)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=r.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new La;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.ga=new me(ct.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Fa{constructor(t,i,r,l,h,d,y,v,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Fa(t,i,La.emptySet(i),d,r,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class IC{constructor(){this.queries=yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ut(i),h=l.queries;l.queries=yv(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new ot(X.ABORTED,"Firestore shutting down"))}}function yv(){return new Lr((a=>GE(a)),Xc)}async function _0(a,t){const i=Ut(a);let r=3;const l=t.query;let h=i.queries.get(l);h?!h.ba()&&t.Da()&&(r=2):(h=new CC,r=t.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=y0(d,`Initialization of query '${Ia(t.query)}' failed`);return void t.onError(y)}i.queries.set(l,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Am(i)}async function v0(a,t){const i=Ut(a),r=t.query;let l=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function DC(a,t){const i=Ut(a);let r=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(l)&&(r=!0);d.wa=l}}r&&Am(i)}function NC(a,t,i){const r=Ut(a),l=r.queries.get(t);if(l)for(const h of l.Sa)h.onError(i);r.queries.delete(t)}function Am(a){a.Ca.forEach((t=>{t.next()}))}var Gd,_v;(_v=Gd||(Gd={})).Ma="default",_v.Cache="cache";class E0{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Fa(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Fa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Gd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(t){this.key=t}}class S0{constructor(t){this.key=t}}class OC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=FE(t),this.tu=new La(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new pv,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,I)=>{const U=l.get(A),K=Zc(this.query,I)?I:null,tt=!!U&&this.mutatedKeys.has(U.key),rt=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let W=!1;U&&K?U.data.isEqual(K.data)?tt!==rt&&(r.track({type:3,doc:K}),W=!0):this.su(U,K)||(r.track({type:2,doc:K}),W=!0,(v&&this.eu(K,v)>0||_&&this.eu(K,_)<0)&&(y=!0)):!U&&K?(r.track({type:0,doc:K}),W=!0):U&&!K&&(r.track({type:1,doc:U}),W=!0,(v||_)&&(y=!0)),W&&(K?(d=d.add(K),h=rt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:y,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,I)=>(function(K,tt){const rt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:W})}};return rt(K)-rt(tt)})(A.type,I.type)||this.eu(A.doc,I.doc))),this.ou(r),l=l??!1;const y=i&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Fa(this.query,t.tu,h,d,t.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new S0(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new T0(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Fa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bm="SyncEngine";class MC{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class VC{constructor(t){this.key=t,this.hu=!1}}class xC{constructor(t,i,r,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Lr((y=>GE(y)),Xc),this.Iu=new Map,this.Eu=new Set,this.du=new me(ct.comparator),this.Au=new Map,this.Ru=new mm,this.Vu={},this.mu=new Map,this.fu=Ha.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UC(a,t,i=!0){const r=C0(a);let l;const h=r.Tu.get(t);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await A0(r,t,i,!0),l}async function LC(a,t){const i=C0(a);await A0(i,t,!0,!1)}async function A0(a,t,i,r){const l=await lC(a.localStore,vi(t)),h=l.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let y;return r&&(y=await zC(a,t,h,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&m0(a.remoteStore,l),y}async function zC(a,t,i,r,l){a.pu=(I,U,K)=>(async function(rt,W,gt,At){let dt=W.view.ru(gt);dt.Cs&&(dt=await uv(rt.localStore,W.query,!1).then((({documents:D})=>W.view.ru(D,dt))));const Bt=At&&At.targetChanges.get(W.targetId),Yt=At&&At.targetMismatches.get(W.targetId)!=null,Dt=W.view.applyChanges(dt,rt.isPrimaryClient,Bt,Yt);return Ev(rt,W.targetId,Dt.au),Dt.snapshot})(a,I,U,K);const h=await uv(a.localStore,t,!0),d=new OC(t,h.Qs),y=d.ru(h.documents),v=Ol.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),_=d.applyChanges(y,a.isPrimaryClient,v);Ev(a,i,_.au);const A=new MC(t,i,d);return a.Tu.set(t,A),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),_.snapshot}async function kC(a,t,i){const r=Ut(a),l=r.Tu.get(t),h=r.Iu.get(l.targetId);if(h.length>1)return r.Iu.set(l.targetId,h.filter((d=>!Xc(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await qd(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&_m(r.remoteStore,l.targetId),Fd(r,l.targetId)})).catch(Gc)):(Fd(r,l.targetId),await qd(r.localStore,l.targetId,!0))}async function PC(a,t){const i=Ut(a),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),_m(i.remoteStore,r.targetId))}async function b0(a,t){const i=Ut(a);try{const r=await aC(i.localStore,t);t.targetChanges.forEach(((l,h)=>{const d=i.Au.get(h);d&&(re(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?re(d.hu,14607):l.removedDocuments.size>0&&(re(d.hu,42227),d.hu=!1))})),await w0(i,r,t)}catch(r){await Gc(r)}}function vv(a,t,i){const r=Ut(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(t);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const v=Ut(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,I)=>{for(const U of I.Sa)U.va(y)&&(_=!0)})),_&&Am(v)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function BC(a,t,i){const r=Ut(a);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),h=l&&l.key;if(h){let d=new me(ct.comparator);d=d.insert(h,Ye.newNoDocument(h,yt.min()));const y=zt().add(h),v=new Wc(yt.min(),new Map,new me(Mt),d,y);await b0(r,v),r.du=r.du.remove(h),r.Au.delete(t),Rm(r)}else await qd(r.localStore,t,!1).then((()=>Fd(r,t,i))).catch(Gc)}function Fd(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||R0(a,r)}))}function R0(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(_m(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Rm(a))}function Ev(a,t,i){for(const r of i)r instanceof T0?(a.Ru.addReference(r.key,t),jC(a,r)):r instanceof S0?(nt(bm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||R0(a,r.key)):_t(19791,{wu:r})}function jC(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(nt(bm,"New document in limbo: "+i),a.Eu.add(r),Rm(a))}function Rm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ct(ee.fromString(t)),r=a.fu.next();a.Au.set(r,new VC(i)),a.du=a.du.insert(i,r),m0(a.remoteStore,new xs(vi(cm(i.path)),r,"TargetPurposeLimboResolution",Fc.ce))}}async function w0(a,t,i){const r=Ut(a),l=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){l.push(_);const A=pm.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(v,_){const A=Ut(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>Y.forEach(_,(U=>Y.forEach(U.Es,(K=>A.persistence.referenceDelegate.addReference(I,U.targetId,K))).next((()=>Y.forEach(U.ds,(K=>A.persistence.referenceDelegate.removeReference(I,U.targetId,K)))))))))}catch(I){if(!Za(I))throw I;nt(ym,"Failed to update sequence numbers: "+I)}for(const I of _){const U=I.targetId;if(!I.fromCache){const K=A.Ms.get(U),tt=K.snapshotVersion,rt=K.withLastLimboFreeSnapshotVersion(tt);A.Ms=A.Ms.insert(U,rt)}}})(r.localStore,h))}async function qC(a,t){const i=Ut(a);if(!i.currentUser.isEqual(t)){nt(bm,"User change. New user:",t.toKey());const r=await c0(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new ot(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await w0(i,r.Ls)}}function HC(a,t){const i=Ut(a),r=i.Au.get(t);if(r&&r.hu)return zt().add(r.key);{let l=zt();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function C0(a){const t=Ut(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=b0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=BC.bind(null,t),t.Pu.H_=DC.bind(null,t.eventManager),t.Pu.yu=NC.bind(null,t.eventManager),t}class kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=f0(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return rC(this.persistence,new nC,t.initialUser,this.serializer)}Cu(t){return new u0(gm.mi,this.serializer)}Du(t){return new cC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kc.provider={build:()=>new kc};class GC extends kc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){re(this.persistence.referenceDelegate instanceof zc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jw(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new u0((r=>zc.mi(r,i)),this.serializer)}}class Qd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qC.bind(null,this.syncEngine),await wC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new IC})()}createDatastore(t){const i=f0(t.databaseInfo.databaseId),r=(function(h){return new gC(h)})(t.databaseInfo);return(function(h,d,y,v){return new vC(h,d,y,v)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,h,d,y){return new TC(r,l,h,d,y)})(this.localStore,this.datastore,t.asyncQueue,(i=>vv(this.syncEngine,i,0)),(function(){return fv.v()?new fv:new hC})())}createSyncEngine(t,i){return(function(l,h,d,y,v,_,A){const I=new xC(l,h,d,y,v,_);return A&&(I.gu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ut(i);nt(Ga,"RemoteStore shutting down."),r.Ea.add(5),await Ml(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qd.provider={build:()=>new Qd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="FirestoreClient";class FC{constructor(t,i,r,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Qe.UNAUTHENTICATED,this.clientId=rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{nt(Js,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(nt(Js,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=y0(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Ed(a,t){a.asyncQueue.verifyOperationInProgress(),nt(Js,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await c0(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Tv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await QC(a);nt(Js,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>gv(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>gv(t.remoteStore,l))),a._onlineComponents=t}async function QC(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){nt(Js,"Using user provided OfflineComponentProvider");try{await Ed(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Pa("Error using user provided cache. Falling back to memory cache: "+i),await Ed(a,new kc)}}else nt(Js,"Using default OfflineComponentProvider"),await Ed(a,new GC(void 0));return a._offlineComponents}async function YC(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(nt(Js,"Using user provided OnlineComponentProvider"),await Tv(a,a._uninitializedComponentsProvider._online)):(nt(Js,"Using default OnlineComponentProvider"),await Tv(a,new Qd))),a._onlineComponents}async function D0(a){const t=await YC(a),i=t.eventManager;return i.onListen=UC.bind(null,t.syncEngine),i.onUnlisten=kC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=LC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=PC.bind(null,t.syncEngine),i}function KC(a,t,i={}){const r=new Bs;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const A=new I0({next:U=>{A.Nu(),d.enqueueAndForget((()=>v0(h,I)));const K=U.docs.has(y);!K&&U.fromCache?_.reject(new ot(X.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&U.fromCache&&v&&v.source==="server"?_.reject(new ot(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(U)},error:U=>_.reject(U)}),I=new E0(cm(y.path),A,{includeMetadataChanges:!0,qa:!0});return _0(h,I)})(await D0(a),a.asyncQueue,t,i,r))),r.promise}function XC(a,t,i={}){const r=new Bs;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const A=new I0({next:U=>{A.Nu(),d.enqueueAndForget((()=>v0(h,I))),U.fromCache&&v.source==="server"?_.reject(new ot(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(U)},error:U=>_.reject(U)}),I=new E0(y,A,{includeMetadataChanges:!0,qa:!0});return _0(h,I)})(await D0(a),a.asyncQueue,t,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="firestore.googleapis.com",Av=!0;class bv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=O0,this.ssl=Av}else this.host=t.host,this.ssl=t.ssl??Av;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=l0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Pw)throw new ot(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N0(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class eh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new uR;switch(r.type){case"firstParty":return new dR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Sv.get(i);r&&(nt("ComponentProvider","Removing Datastore"),Sv.delete(i),r.terminate())})(this),Promise.resolve()}}function ZC(a,t,i,r={}){a=vl(a,eh);const l=Qa(t),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},y=`${t}:${i}`;l&&(zv(`https://${y}`),kv("Firestore",!0)),h.host!==O0&&h.host!==y&&Pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:l,emulatorOptions:r};if(!Vr(v,d)&&(a._setSettings(v),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=Qe.MOCK_USER;else{_=VS(r.mockUserToken,a._app?.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new ot(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Qe(I)}a._authCredentials=new cR(new NE(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new nh(this.firestore,t,this._query)}}class Ke{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ke(this.firestore,t,this._key)}toJSON(){return{type:Ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Dl(i,Ke._jsonSchema))return new Ke(t,r||null,new ct(ee.fromString(i.referencePath)))}}Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:we("string",Ke._jsonSchemaVersion),referencePath:we("string")};class js extends nh{constructor(t,i,r){super(t,i,cm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ke(this.firestore,null,new ct(t))}withConverter(t){return new js(this.firestore,t,this._path)}}function JC(a,t,...i){if(a=Ki(a),OE("collection","path",t),a instanceof eh){const r=ee.fromString(t,...i);return z_(r),new js(a,null,r)}{if(!(a instanceof Ke||a instanceof js))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ee.fromString(t,...i));return z_(r),new js(a.firestore,null,r)}}function $C(a,t,...i){if(a=Ki(a),arguments.length===1&&(t=rm.newId()),OE("doc","path",t),a instanceof eh){const r=ee.fromString(t,...i);return L_(r),new Ke(a,null,new ct(r))}{if(!(a instanceof Ke||a instanceof js))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ee.fromString(t,...i));return L_(r),new Ke(a.firestore,a instanceof js?a.converter:null,new ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="AsyncQueue";class wv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new d0(this,"async_queue_retry"),this._c=()=>{const r=vd();r&&nt(Rv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=vd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=vd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Bs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Za(t))throw t;nt(Rv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Qi("INTERNAL UNHANDLED ERROR: ",Cv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Sm.createAndSchedule(this,t,i,r,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:Cv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Cv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class wm extends eh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new wv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new wv(t),this._firestoreClient=void 0,await t}}}function WC(a,t){const i=typeof a=="object"?a:qv(),r=typeof a=="string"?a:Mc,l=Zd(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const h=OS("firestore");h&&ZC(l,...h)}return l}function M0(a){if(a._terminated)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||t2(a),a._firestoreClient}function t2(a){const t=a._freezeSettings(),i=(function(l,h,d,y){return new VR(l,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,N0(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new FC(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new pi(He.fromBase64String(t))}catch(i){throw new ot(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new pi(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Dl(t,pi._jsonSchema))return pi.fromBase64String(t.bytes)}}pi._jsonSchemaVersion="firestore/bytes/1.0",pi._jsonSchema={type:we("string",pi._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qs._jsonSchemaVersion}}static fromJSON(t){if(Dl(t,qs._jsonSchema))return new qs(t.latitude,t.longitude)}}qs._jsonSchemaVersion="firestore/geoPoint/1.0",qs._jsonSchema={type:we("string",qs._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Hs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Dl(t,Hs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Hs(t.vectorValues);throw new ot(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hs._jsonSchemaVersion="firestore/vectorValue/1.0",Hs._jsonSchema={type:we("string",Hs._jsonSchemaVersion),vectorValues:we("object")};const e2=new RegExp("[~\\*/\\[\\]]");function n2(a,t,i){if(t.search(e2)>=0)throw Iv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a);try{return new V0(...t.split("."))._internalPath}catch{throw Iv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a)}}function Iv(a,t,i,r,l){let h=`Function ${t}() called with invalid data`;h+=". ";let d="";return new ot(X.INVALID_ARGUMENT,h+a+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t,i,r,l,h){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new i2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(U0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class i2 extends x0{data(){return super.data()}}function U0(a,t){return typeof t=="string"?n2(a,t):t instanceof V0?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ot(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r2{convertValue(t,i="none"){switch(Xs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ks(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Nl(t,((l,h)=>{r[l]=this.convertValue(h,i)})),r}convertVectorValue(t){const i=t.fields?.[Md].arrayValue?.values?.map((r=>de(r.doubleValue)));return new Hs(i)}convertGeoPoint(t){return new qs(de(t.latitude),de(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Yc(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Tl(t));default:return null}}convertTimestamp(t){const i=Ys(t);return new Re(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ee.fromString(t);re(o0(r),9688,{name:t});const l=new Sl(r.get(1),r.get(3)),h=new ct(r.popFirst(5));return l.isEqual(i)||Qi(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class ul{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Mr extends x0{constructor(t,i,r,l,h,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(U0("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Mr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Mr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mr._jsonSchema={type:we("string",Mr._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Ac extends Mr{data(t={}){return super.data(t)}}class za{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new ul(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Ac(this._firestore,this._userDataWriter,r.key,r,new ul(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const v=new Ac(l._firestore,l._userDataWriter,y.doc.key,y.doc,new ul(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Ac(l._firestore,l._userDataWriter,y.doc.key,y.doc,new ul(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:a2(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=za._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function a2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(a){a=vl(a,Ke);const t=vl(a.firestore,wm);return KC(M0(t),a._key).then((i=>u2(t,a,i)))}za._jsonSchemaVersion="firestore/querySnapshot/1.0",za._jsonSchema={type:we("string",za._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class L0 extends r2{constructor(t){super(),this.firestore=t}convertBytes(t){return new pi(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ke(this.firestore,null,i)}}function l2(a){a=vl(a,nh);const t=vl(a.firestore,wm),i=M0(t),r=new L0(t);return s2(a._query),XC(i,a._query).then((l=>new za(t,r,a,l)))}function u2(a,t,i){const r=i.docs.get(t._key),l=new L0(a);return new Mr(a,l,t._key,r,new ul(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Xa=l})(Ya),ka(new xr("firestore",((r,{instanceIdentifier:l,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new wm(new hR(r.getProvider("auth-internal")),new mR(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ot(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(_.options.projectId,A)})(d,l),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),zs(M_,V_,t),zs(M_,V_,"esm2020")})();const c2={apiKey:"AIzaSyBy_3k0dPsPCN5b_iOfZl22eJoq8BWbaRo",authDomain:"elecmanager-6f50a.firebaseapp.com",projectId:"elecmanager-6f50a",storageBucket:"elecmanager-6f50a.firebasestorage.app",messagingSenderId:"872950170067",appId:"1:872950170067:web:dc23cc105538d3e88baf26",measurementId:"G-GXP88CTD96"},cl=c2,rl=cl.projectId;const Dv="contacts/aad",Nv="contacts",h2=()=>{const[a,t]=We.useState(null),[i,r]=We.useState(null),[l,h]=We.useState(null),[d,y]=We.useState(!1),[v,_]=We.useState(!0),[A,I]=We.useState(null),[U,K]=We.useState({rootContact:{status:"En attente",data:null},contactsCollection:{status:"En attente",documents:[]}}),[tt,rt]=We.useState(!1),[W,gt]=We.useState(0),At=We.useMemo(()=>Object.keys(cl).length>0&&!!cl.apiKey,[]);We.useEffect(()=>{if(I(null),h(null),y(!1),!At){I("Erreur de configuration Firebase: Cl API manquante ou configuration incomplte."),_(!1);return}try{const S=jv(cl),R=WC(S),N=aR(S);lR("debug"),t(R),r(N);const w=async b=>{try{console.log("[AUTH] Tentative de connexion anonyme (Jeton personnalis ignor car non compatible)."),await H1(b)}catch(Nt){console.error("[AUTH ERROR] chec de l'authentification:",Nt),I("Erreur d'Authentification: chec de la connexion anonyme. Le service d'Auth Anonyme est-il activ pour votre projet ?")}},V=X1(N,b=>{b?(h(b.uid),console.log(`[AUTH SUCCESS] Connect avec UID: ${b.uid}`)):(h(null),console.log("[AUTH FAILED] Dconnect ou chec de la connexion.")),y(!0),_(!1),gt(Nt=>Nt+1)});return w(N),()=>V()}catch(S){console.error("Erreur critique lors de l'initialisation de Firebase:",S),I("Erreur critique lors de l'initialisation de Firebase: "+S.message),_(!1)}},[At,rl]);const dt=We.useCallback(async(S,R)=>{if(!R)return{status:"Non initialis",data:null};const N=3;for(let w=0;w<N;w++)try{const V=$C(R,S),b=await o2(V);return b.exists()?{status:"Succs",data:b.data()}:{status:"Document non trouv (404)",data:null}}catch(V){if(console.error(`[CONSOLE_ERROR] Erreur lors de la rcupration du document ${S} (tentative ${w+1}):`,V),w===N-1)return{status:"Erreur critique de lecture/permission",error:V.message.includes("permission")?"PERMISSION_DENIED":V.message};const b=Math.pow(2,w)*1e3+Math.random()*1e3;await new Promise(Nt=>setTimeout(Nt,b))}},[]),Bt=We.useCallback(async(S,R)=>{if(!R)return{status:"Non initialis",documents:[]};const N=3;for(let w=0;w<N;w++)try{const V=JC(R,S);return{status:"Succs",documents:(await l2(V)).docs.map(ae=>({id:ae.id,data:ae.data()}))}}catch(V){if(console.error(`[CONSOLE_ERROR] Erreur lors de la rcupration de la collection ${S} (tentative ${w+1}):`,V),w===N-1)return{status:"Erreur critique de lecture/permission",error:V.message.includes("permission")?"PERMISSION_DENIED":V.message};const b=Math.pow(2,w)*1e3+Math.random()*1e3;await new Promise(Nt=>setTimeout(Nt,b))}},[]);We.useEffect(()=>{if(!a||!d)return;(async()=>{if(_(!0),!l){K({rootContact:{status:"chec Auth",error:"La connexion anonyme a chou. Assurez-vous que l'Auth Anonyme est active dans votre projet."},contactsCollection:{status:"chec Auth",documents:[]}}),_(!1);return}const R=await dt(Dv,a),N=await Bt(Nv,a);K({rootContact:R,contactsCollection:N}),_(!1)})()},[a,d,l,W,dt,Bt,rl]);const Yt=(S,R)=>{let N="bg-gray-200 text-gray-700",w=S;return S.includes("chec Auth")?(N="bg-red-50 text-red-600 border border-red-300",w=`chec de l'authentification : ${R}`):S.includes("Succs")?(N="bg-green-100 text-green-700",w="Succs."):S.includes("Document non trouv")?(N="bg-yellow-100 text-yellow-700",w="Document non trouv (404)."):S.includes("Erreur critique de lecture/permission")?(N="bg-red-100 text-red-700",w=`Accs Refus (Permission/Erreur): ${R}`):S.includes("En attente")&&(N="bg-indigo-50 text-indigo-700",w="En attente..."),st.jsxs("div",{className:`p-2 rounded text-sm font-medium ${N}`,children:["Statut: ",w]})},Dt=(S,R,N)=>{const w=typeof N.status=="string"?N.status:"",V=w.includes("permission");return st.jsxs("div",{className:"mb-4 p-4 border rounded-lg shadow-sm bg-white",children:[st.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:S}),st.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["**Path cibl:** ",st.jsx("code",{className:"bg-gray-100 p-1 rounded text-xs",children:R})]}),Yt(w,N.error),N.data&&w.includes("Succs")&&st.jsx("pre",{className:"mt-2 p-2 bg-white border rounded text-xs overflow-auto max-h-40",children:JSON.stringify(N.data,null,2)}),V&&st.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-300 rounded text-sm",children:[st.jsx("p",{className:"font-bold text-red-700 mb-1",children:"Analyse des Permissions (Lecture de Document) :"}),st.jsxs("p",{children:["L'chec de la lecture signifie que les rgles Firestore ne permettent pas l'accs aux utilisateurs anonymes au document ",st.jsx("code",{className:"bg-gray-100 p-1 rounded text-xs",children:R}),"."]})]})]},R)},D=(S,R,N)=>{const w=typeof N.status=="string"?N.status:"",V=w.includes("permission");return st.jsxs("div",{className:"mb-4 p-4 border rounded-lg shadow-sm bg-white",children:[st.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:S}),st.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["**Path cibl:** ",st.jsx("code",{className:"bg-gray-100 p-1 rounded text-xs",children:R})]}),Yt(w,N.error),N.documents&&w.includes("Succs")&&st.jsxs("div",{className:"mt-2",children:[st.jsxs("p",{className:"font-medium mb-1",children:["Documents trouvs (",N.documents.length,"):"]}),N.documents.length>0?st.jsx("ul",{className:"list-disc pl-5 text-sm max-h-40 overflow-auto bg-gray-50 p-2 rounded",children:N.documents.map(b=>st.jsxs("li",{className:"font-mono text-xs truncate",children:["ID: ",b.id," - Cls: ",Object.keys(b.data).join(", ")]},b.id))}):st.jsx("p",{className:"text-sm italic text-yellow-700",children:"La collection existe, mais elle est vide ou aucun document n'est visible."})]}),V&&st.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-300 rounded text-sm",children:[st.jsx("p",{className:"font-bold text-red-700 mb-1",children:"Analyse des Permissions (Lecture de Collection) :"}),st.jsxs("p",{children:["L'chec de la lecture signifie que les rgles Firestore ne permettent pas l'accs aux utilisateurs anonymes  la collection ",st.jsx("code",{className:"bg-gray-100 p-1 rounded text-xs",children:R}),"."]}),st.jsxs("p",{className:"font-medium mt-1",children:["**Vrifiez les rgles pour le projet ",rl," :**",st.jsx("pre",{className:"bg-gray-800 text-green-400 p-2 rounded mt-1 overflow-auto",children:`rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if true;
    }
  }
}`})]})]})]},R)};return A?st.jsx("div",{className:"p-8 bg-red-50 min-h-screen",children:st.jsxs("div",{className:"max-w-3xl mx-auto p-6 bg-white rounded-xl shadow-2xl border border-red-300",children:[st.jsx("h1",{className:"text-2xl font-bold text-red-800 mb-4",children:"Erreur Critique de Service"}),st.jsx("p",{className:"text-red-600 mb-4 font-mono",children:A}),st.jsx("p",{className:"text-gray-600",children:"Cette erreur indique un problme avec la configuration Firebase fournie."})]})}):st.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-8 font-sans",children:[st.jsx("script",{src:"https://cdn.tailwindcss.com"}),st.jsxs("div",{className:"max-w-4xl mx-auto",children:[st.jsxs("header",{className:"text-center mb-10",children:[st.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-indigo-700 mb-2",children:"Vrification des Documents Firestore"}),st.jsxs("p",{className:"text-gray-600",children:["**MODE AUTHENTIFICATION ANONYME FORCE :** Diagnostic des chemins de donnes sur le projet **",rl,"**."]})]}),st.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border-t-4 border-indigo-500 mb-8",children:[st.jsx("h2",{className:"text-xl font-semibold text-indigo-700 mb-3",children:"Statut du Diagnostic"}),st.jsxs("div",{className:"space-y-2",children:[st.jsxs("p",{className:"text-gray-700",children:["**ID du Projet (Cible ACTUELLE) :** ",st.jsx("code",{className:"bg-green-100 p-1 rounded text-sm font-bold text-green-800",children:rl})]}),st.jsxs("p",{className:"text-gray-700",children:["**tat de la connexion :** ",st.jsx("span",{className:`font-semibold ${l?"text-green-600":"text-red-600"}`,children:d?l?`Connect Anonyme (UID: ${l})`:"Non Connect":"En cours..."}),l&&st.jsx("code",{className:"bg-gray-100 p-1 rounded text-xs ml-2",children:l})]}),st.jsxs("p",{className:"text-gray-700 text-sm italic",children:["**Objectif :** Tester la lecture de la collection ",st.jsx("code",{className:"bg-gray-100 p-1 rounded text-xs",children:"contacts"})," et du document ",st.jsx("code",{className:"bg-gray-100 p-1 rounded text-xs",children:"contacts/aad"}),"."]}),v&&d&&st.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[st.jsxs("svg",{className:"animate-spin h-5 w-5 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[st.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),st.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),st.jsx("span",{className:"text-indigo-600",children:"Chargement des donnes..."})]}),st.jsx("button",{onClick:()=>rt(!tt),className:"mt-4 px-4 py-2 text-sm font-medium rounded-lg text-indigo-700 bg-indigo-100 hover:bg-indigo-200 transition duration-150",children:tt?"Masquer la Configuration Firebase":"Afficher la Configuration Firebase Brute"}),tt&&st.jsx("pre",{className:"mt-2 p-3 bg-gray-800 text-green-400 rounded-lg text-xs overflow-auto max-h-60 font-mono",children:JSON.stringify(cl,null,2)})]})]}),st.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[st.jsxs("div",{className:"md:col-span-1",children:[st.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3 border-b pb-1",children:"Test 1: Lecture d'un Document Spcifique"}),Dt("Document contacts/AAD",Dv,U.rootContact)]}),st.jsxs("div",{className:"md:col-span-1",children:[st.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3 border-b pb-1",children:"Test 2: Lecture de la Collection Entire"}),D("Collection contacts",Nv,U.contactsCollection)]})]}),st.jsx("footer",{className:"mt-10 pt-4 border-t text-center text-sm text-gray-500",children:st.jsx("p",{children:'Si la **Collection contacts** affiche un succs, veuillez vrifier les ID des documents trouvs pour localiser votre document "aad".'})})]})]})};SS.createRoot(document.getElementById("root")).render(st.jsx(We.StrictMode,{children:st.jsx(h2,{})}));
